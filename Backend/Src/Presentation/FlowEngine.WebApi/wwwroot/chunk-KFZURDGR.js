import{a as s,b as k}from"./chunk-SXWQXASI.js";import{$a as D,Ib as P,La as I,O as p,Pa as N,Qa as R,T as m,Ta as x,Ua as F,Va as M,W as u,Wa as w,X as d,Xa as j,Ya as E,_a as L,ab as G,fb as B,gb as U,ha as f,ia as t,ja as i,ka as a,oa as y,ua as n,v as A,w as l,y as C}from"./chunk-CMMWARYZ.js";var g=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=u({type:o,selectors:[["app-account"]],standalone:!1,decls:1,vars:0,template:function(e,c){e&1&&a(0,"router-outlet")},dependencies:[N],encapsulation:2})};var v=class o{constructor(r){this.http=r}postApiAccountAuthenticate(r){return this.http.post(`${s.serverUrl}/api/Account/Authenticate`,r)}putApiAccountChangeUserName(r){return this.http.put(`${s.serverUrl}/api/Account/ChangeUserName`,r)}putApiAccountChangePassword(r){return this.http.put(`${s.serverUrl}/api/Account/ChangePassword`,r)}postApiAccountStart(){return this.http.post(`${s.serverUrl}/api/Account/Start`,{})}static \u0275fac=function(e){return new(e||o)(C(I))};static \u0275prov=A({token:o,factory:o.\u0275fac,providedIn:"root"})};var b=class o{constructor(r,e,c,q,_){this.fb=r;this.router=e;this.accountService=c;this.authenticationService=q;this.generalService=_;this.generalService.setTitle("\u0648\u0631\u0648\u062F")}loginForm;submitted=!1;loading=!1;errorMessage="";ngOnInit(){this.loginForm=this.fb.group({userName:["",w.required],password:["",w.required]})}login(){if(this.submitted=!0,this.loginForm.invalid)return;this.loading=!0;let r=this.loginForm.getRawValue();this.accountService.postApiAccountAuthenticate(r).subscribe({next:e=>{e.success?(this.authenticationService.login(e),this.router.navigate(["/"])):this.errorMessage="\u0646\u0627\u0645 \u06A9\u0627\u0631\u0628\u0631\u06CC \u06CC\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0627\u0634\u062A\u0628\u0627\u0647 \u0627\u0633\u062A",this.loading=!1},error:e=>{this.errorMessage="\u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631",this.loading=!1}})}static \u0275fac=function(e){return new(e||o)(m(U),m(R),m(v),m(F),m(k))};static \u0275cmp=u({type:o,selectors:[["app-login"]],standalone:!1,decls:49,vars:3,consts:[[1,"auth-minimal-wrapper"],[1,"auth-minimal-inner"],[1,"minimal-card-wrapper"],[1,"card","mb-4","mt-5","mx-4","mx-sm-0","position-relative"],[1,"wd-50","bg-white","p-2","rounded-circle","shadow-lg","position-absolute","translate-middle","top-0","start-50"],["src","/images/logo-abbr.png","alt","",1,"img-fluid"],[1,"card-body","p-sm-5"],[1,"fs-20","fw-bolder","mb-4"],[1,"fs-13","fw-bold","mb-2"],[1,"fs-12","fw-medium","text-muted"],[1,"w-100","mt-4","pt-2",3,"ngSubmit","formGroup"],[1,"mb-4"],["type","text","placeholder","Email or Username","required","",1,"form-control",3,"formControlName"],[1,"mb-3"],["type","password","placeholder","Password","required","",1,"form-control",3,"formControlName"],[1,"d-flex","align-items-center","justify-content-between"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","rememberMe",1,"custom-control-input"],["for","rememberMe",1,"custom-control-label","c-pointer"],["href","auth-reset-minimal.html",1,"fs-11","text-primary"],[1,"mt-5"],["type","submit",1,"btn","btn-lg","btn-primary","w-100"],[1,"w-100","mt-5","text-center","mx-auto"],[1,"mb-4","border-bottom","position-relative"],[1,"small","py-1","px-3","text-uppercase","text-muted","bg-white","position-absolute","translate-middle"],[1,"d-flex","align-items-center","justify-content-center","gap-2"],["href","javascript:void(0);","data-bs-toggle","tooltip","data-bs-trigger","hover","title","Login with Facebook",1,"btn","btn-light-brand","flex-fill"],[1,"feather-facebook"],["href","javascript:void(0);","data-bs-toggle","tooltip","data-bs-trigger","hover","title","Login with Twitter",1,"btn","btn-light-brand","flex-fill"],[1,"feather-twitter"],["href","javascript:void(0);","data-bs-toggle","tooltip","data-bs-trigger","hover","title","Login with Github",1,"btn","btn-light-brand","flex-fill"],[1,"feather-github","text"],[1,"mt-5","text-muted"],["href","auth-register-minimal.html",1,"fw-bold"]],template:function(e,c){e&1&&(t(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),a(5,"img",5),i(),t(6,"div",6)(7,"h2",7),n(8,"Login"),i(),t(9,"h4",8),n(10,"Login to your account"),i(),t(11,"p",9),n(12,"Thank you for get back "),t(13,"strong"),n(14,"Nelel"),i(),n(15," web applications, let's access our the best recommendation for you."),i(),t(16,"form",10),y("ngSubmit",function(){return c.login()}),t(17,"div",11),a(18,"input",12),i(),t(19,"div",13),a(20,"input",14),i(),t(21,"div",15)(22,"div")(23,"div",16),a(24,"input",17),t(25,"label",18),n(26,"Remember Me"),i()()(),t(27,"div")(28,"a",19),n(29,"Forget password?"),i()()(),t(30,"div",20)(31,"button",21),n(32,"Login"),i()()(),t(33,"div",22)(34,"div",23)(35,"span",24),n(36,"or"),i()(),t(37,"div",25)(38,"a",26),a(39,"i",27),i(),t(40,"a",28),a(41,"i",29),i(),t(42,"a",30),a(43,"i",31),i()()(),t(44,"div",32)(45,"span"),n(46," Don't have an account?"),i(),t(47,"a",33),n(48,"Create an Account"),i()()()()()()()),e&2&&(p(16),f("formGroup",c.loginForm),p(2),f("formControlName","userName"),p(2),f("formControlName","password"))},dependencies:[L,M,j,E,B,G,D],encapsulation:2})};var O=[{path:"",component:g,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:b}]}],S=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=d({type:o});static \u0275inj=l({imports:[x.forChild(O),x]})};var T=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=d({type:o});static \u0275inj=l({imports:[S,P]})};export{T as AccountModule};
