import{a as Ai,b as Qi}from"./chunk-SXWQXASI.js";import{$ as Jf,A as Ll,Aa as am,Ab as Mm,B as Ce,Ba as lm,Bb as Nm,C as be,Ca as ui,Cb as Tm,D as sn,Da as cm,Db as Dm,E as En,Ea as um,Eb as Pm,F as Xr,Fa as fm,Fb as km,G as Cr,Ga as dm,Gb as Em,Hb as Om,I as Xf,Ib as Lm,J as $s,Ja as rr,K as Hr,L as em,La as zl,M as im,N as nm,O as yt,Oa as hm,P as Ro,Pa as gm,Q as ta,Qa as pm,R as jo,Ra as Bl,S as ea,Sa as mm,T as Ht,Ta as Qf,U as Rl,Ua as vm,V as Hf,Va as We,W as Kt,X as ir,Xa as Ve,Y as ia,Z as Jr,Za as Ye,_ as nr,a as Pi,aa as jl,b as kl,ba as Ci,bb as Bo,c as H,ca as bi,cb as Un,d as Kp,da as zo,db as ym,e as Fe,ea as rm,eb as Xn,f as Yn,fa as Hi,g as Ib,ga as Ji,h as Yf,ha as de,hb as Im,i as Ii,ia as F,ib as Gl,ja as U,jb as Kf,k as Uf,ka as Nt,kb as Qr,la as om,lb as qf,m as El,ma as ei,mb as Cm,n as qp,na as sm,nb as $f,o as $p,oa as he,ob as bm,p as Oo,pa as Bt,pb as Am,q as tm,qa as na,qb as wm,ra,rb as Go,s as Lo,sa as oa,sb as Zl,ta as an,tb as xm,u as qs,ua as dt,ub as td,v as ki,va as ln,vb as ed,w as er,wa as In,wb as or,x as kn,xa as qt,xb as Sm,y as Ol,ya as $t,yb as sa,z as Ft,za as te,zb as _m}from"./chunk-CMMWARYZ.js";var ga,_d,pa,mc,Md,Lv,Kn,cr,Rv,Nd,jv,zv,Td,Dd,Pd,Bv,Gv,vc,kd,Zv,ze=H(()=>{"use strict";ga="1.13.7",_d=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},pa=Array.prototype,mc=Object.prototype,Md=typeof Symbol<"u"?Symbol.prototype:null,Lv=pa.push,Kn=pa.slice,cr=mc.toString,Rv=mc.hasOwnProperty,Nd=typeof ArrayBuffer<"u",jv=typeof DataView<"u",zv=Array.isArray,Td=Object.keys,Dd=Object.create,Pd=Nd&&ArrayBuffer.isView,Bv=isNaN,Gv=isFinite,vc=!{toString:null}.propertyIsEnumerable("toString"),kd=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Zv=Math.pow(2,53)-1});function _e(t,e){return e=e==null?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),n=Array(i),r=0;r<i;r++)n[r]=arguments[r+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=n,t.apply(this,o)}}var Ki=H(()=>{"use strict"});function wi(t){var e=typeof t;return e==="function"||e==="object"&&!!t}var wr=H(()=>{"use strict"});function yc(t){return t===null}var Fv=H(()=>{"use strict"});function Qo(t){return t===void 0}var Ed=H(()=>{"use strict"});function Ko(t){return t===!0||t===!1||cr.call(t)==="[object Boolean]"}var Od=H(()=>{"use strict";ze()});function Ic(t){return!!(t&&t.nodeType===1)}var Wv=H(()=>{"use strict"});function ve(t){var e="[object "+t+"]";return function(i){return cr.call(i)===e}}var hi=H(()=>{"use strict";ze()});var no,Cc=H(()=>{"use strict";hi();no=ve("String")});var ma,Ld=H(()=>{"use strict";hi();ma=ve("Number")});var Rd,Vv=H(()=>{"use strict";hi();Rd=ve("Date")});var jd,Yv=H(()=>{"use strict";hi();jd=ve("RegExp")});var zd,Uv=H(()=>{"use strict";hi();zd=ve("Error")});var va,Bd=H(()=>{"use strict";hi();va=ve("Symbol")});var ya,Gd=H(()=>{"use strict";hi();ya=ve("ArrayBuffer")});var Xv,sA,Pe,un=H(()=>{"use strict";hi();ze();Xv=ve("Function"),sA=_d.document&&_d.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof sA!="function"&&(Xv=function(t){return typeof t=="function"||!1});Pe=Xv});var Zd,Hv=H(()=>{"use strict";hi();Zd=ve("Object")});var bc,qo,$o=H(()=>{"use strict";ze();Hv();bc=jv&&(!/\[native code\]/.test(String(DataView))||Zd(new DataView(new ArrayBuffer(8)))),qo=typeof Map<"u"&&Zd(new Map)});function lA(t){return t!=null&&Pe(t.getInt8)&&ya(t.buffer)}var aA,xr,Ac=H(()=>{"use strict";hi();un();Gd();$o();aA=ve("DataView");xr=bc?lA:aA});var Li,Sr=H(()=>{"use strict";ze();hi();Li=zv||ve("Array")});function gi(t,e){return t!=null&&Rv.call(t,e)}var ur=H(()=>{"use strict";ze()});var Fd,ro,wc=H(()=>{"use strict";hi();ur();Fd=ve("Arguments");(function(){Fd(arguments)||(Fd=function(t){return gi(t,"callee")})})();ro=Fd});function xc(t){return!va(t)&&Gv(t)&&!isNaN(parseFloat(t))}var Jv=H(()=>{"use strict";ze();Bd()});function ts(t){return ma(t)&&Bv(t)}var Wd=H(()=>{"use strict";ze();Ld()});function es(t){return function(){return t}}var Vd=H(()=>{"use strict"});function Ia(t){return function(e){var i=t(e);return typeof i=="number"&&i>=0&&i<=Zv}}var Yd=H(()=>{"use strict";ze()});function Ca(t){return function(e){return e?.[t]}}var Ud=H(()=>{"use strict"});var oo,Sc=H(()=>{"use strict";Ud();oo=Ca("byteLength")});var Qv,Kv=H(()=>{"use strict";Yd();Sc();Qv=Ia(oo)});function uA(t){return Pd?Pd(t)&&!xr(t):Qv(t)&&cA.test(cr.call(t))}var cA,ba,Xd=H(()=>{"use strict";ze();Ac();Vd();Kv();cA=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;ba=Nd?uA:es(!1)});var Oe,fn=H(()=>{"use strict";Ud();Oe=Ca("length")});function fA(t){for(var e={},i=t.length,n=0;n<i;++n)e[t[n]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,t.push(r)}}}function Aa(t,e){e=fA(e);var i=kd.length,n=t.constructor,r=Pe(n)&&n.prototype||mc,o="constructor";for(gi(t,o)&&!e.contains(o)&&e.push(o);i--;)o=kd[i],o in t&&t[o]!==r[o]&&!e.contains(o)&&e.push(o)}var Hd=H(()=>{"use strict";ze();un();ur()});function oe(t){if(!wi(t))return[];if(Td)return Td(t);var e=[];for(var i in t)gi(t,i)&&e.push(i);return vc&&Aa(t,e),e}var oi=H(()=>{"use strict";wr();ze();ur();Hd()});function _c(t){if(t==null)return!0;var e=Oe(t);return typeof e=="number"&&(Li(t)||no(t)||ro(t))?e===0:Oe(oe(t))===0}var qv=H(()=>{"use strict";fn();Sr();Cc();wc();oi()});function is(t,e){var i=oe(e),n=i.length;if(t==null)return!n;for(var r=Object(t),o=0;o<n;o++){var s=i[o];if(e[s]!==r[s]||!(s in r))return!1}return!0}var Jd=H(()=>{"use strict";oi()});function Yt(t){if(t instanceof Yt)return t;if(!(this instanceof Yt))return new Yt(t);this._wrapped=t}var qi=H(()=>{"use strict";ze();Yt.VERSION=ga;Yt.prototype.value=function(){return this._wrapped};Yt.prototype.valueOf=Yt.prototype.toJSON=Yt.prototype.value;Yt.prototype.toString=function(){return String(this._wrapped)}});function Mc(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,oo(t))}var $v=H(()=>{"use strict";Sc()});function Qd(t,e,i,n){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var r=typeof t;return r!=="function"&&r!=="object"&&typeof e!="object"?!1:e0(t,e,i,n)}function e0(t,e,i,n){t instanceof Yt&&(t=t._wrapped),e instanceof Yt&&(e=e._wrapped);var r=cr.call(t);if(r!==cr.call(e))return!1;if(bc&&r=="[object Object]"&&xr(t)){if(!xr(e))return!1;r=t0}switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return Md.valueOf.call(t)===Md.valueOf.call(e);case"[object ArrayBuffer]":case t0:return e0(Mc(t),Mc(e),i,n)}var o=r==="[object Array]";if(!o&&ba(t)){var s=oo(t);if(s!==oo(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if(typeof t!="object"||typeof e!="object")return!1;var l=t.constructor,c=e.constructor;if(l!==c&&!(Pe(l)&&l instanceof l&&Pe(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var d=i.length;d--;)if(i[d]===t)return n[d]===e;if(i.push(t),n.push(e),o){if(d=t.length,d!==e.length)return!1;for(;d--;)if(!Qd(t[d],e[d],i,n))return!1}else{var h=oe(t),f;if(d=h.length,oe(e).length!==d)return!1;for(;d--;)if(f=h[d],!(gi(e,f)&&Qd(t[f],e[f],i,n)))return!1}return i.pop(),n.pop(),!0}function Nc(t,e){return Qd(t,e)}var t0,i0=H(()=>{"use strict";qi();ze();Sc();Xd();un();$o();Ac();oi();ur();$v();t0="[object DataView]"});function An(t){if(!wi(t))return[];var e=[];for(var i in t)e.push(i);return vc&&Aa(t,e),e}var ns=H(()=>{"use strict";wr();ze();Hd()});function rs(t){var e=Oe(t);return function(i){if(i==null)return!1;var n=An(i);if(Oe(n))return!1;for(var r=0;r<e;r++)if(!Pe(i[t[r]]))return!1;return t!==$d||!Pe(i[Kd])}}var Kd,n0,qd,r0,o0,$d,s0,Tc=H(()=>{"use strict";fn();un();ns();Kd="forEach",n0="has",qd=["clear","delete"],r0=["get",n0,"set"],o0=qd.concat(Kd,r0),$d=qd.concat(r0),s0=["add"].concat(qd,Kd,n0)});var th,a0=H(()=>{"use strict";hi();$o();Tc();th=qo?rs(o0):ve("Map")});var eh,l0=H(()=>{"use strict";hi();$o();Tc();eh=qo?rs($d):ve("WeakMap")});var ih,c0=H(()=>{"use strict";hi();$o();Tc();ih=qo?rs(s0):ve("Set")});var nh,u0=H(()=>{"use strict";hi();nh=ve("WeakSet")});function $i(t){for(var e=oe(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n}var so=H(()=>{"use strict";oi()});function Dc(t){for(var e=oe(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n}var f0=H(()=>{"use strict";oi()});function os(t){for(var e={},i=oe(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e}var rh=H(()=>{"use strict";oi()});function ao(t){var e=[];for(var i in t)Pe(t[i])&&e.push(i);return e.sort()}var oh=H(()=>{"use strict";un()});function lo(t,e){return function(i){var n=arguments.length;if(e&&(i=Object(i)),n<2||i==null)return i;for(var r=1;r<n;r++)for(var o=arguments[r],s=t(o),l=s.length,c=0;c<l;c++){var d=s[c];(!e||i[d]===void 0)&&(i[d]=o[d])}return i}}var Pc=H(()=>{"use strict"});var wa,sh=H(()=>{"use strict";Pc();ns();wa=lo(An)});var _r,kc=H(()=>{"use strict";Pc();oi();_r=lo(oe)});var xa,ah=H(()=>{"use strict";Pc();ns();xa=lo(An,!0)});function dA(){return function(){}}function Sa(t){if(!wi(t))return{};if(Dd)return Dd(t);var e=dA();e.prototype=t;var i=new e;return e.prototype=null,i}var lh=H(()=>{"use strict";wr();ze()});function Ec(t,e){var i=Sa(t);return e&&_r(i,e),i}var d0=H(()=>{"use strict";lh();kc()});function Oc(t){return wi(t)?Li(t)?t.slice():wa({},t):t}var h0=H(()=>{"use strict";wr();Sr();sh()});function Lc(t,e){return e(t),t}var g0=H(()=>{"use strict"});function _a(t){return Li(t)?t:[t]}var ch=H(()=>{"use strict";qi();Sr();Yt.toPath=_a});function Ln(t){return Yt.toPath(t)}var ss=H(()=>{"use strict";qi();ch()});function co(t,e){for(var i=e.length,n=0;n<i;n++){if(t==null)return;t=t[e[n]]}return i?t:void 0}var Rc=H(()=>{"use strict"});function as(t,e,i){var n=co(t,Ln(e));return Qo(n)?i:n}var uh=H(()=>{"use strict";ss();Rc();Ed()});function jc(t,e){e=Ln(e);for(var i=e.length,n=0;n<i;n++){var r=e[n];if(!gi(t,r))return!1;t=t[r]}return!!i}var p0=H(()=>{"use strict";ur();ss()});function Mr(t){return t}var zc=H(()=>{"use strict"});function Rn(t){return t=_r({},t),function(e){return is(e,t)}}var Ma=H(()=>{"use strict";kc();Jd()});function Nr(t){return t=Ln(t),function(e){return co(e,t)}}var Bc=H(()=>{"use strict";Rc();ss()});function jn(t,e,i){if(e===void 0)return t;switch(i??3){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,s){return t.call(e,n,r,o,s)}}return function(){return t.apply(e,arguments)}}var ls=H(()=>{"use strict"});function Na(t,e,i){return t==null?Mr:Pe(t)?jn(t,e,i):wi(t)&&!Li(t)?Rn(t):Nr(t)}var fh=H(()=>{"use strict";zc();un();wr();Sr();Ma();Bc();ls()});function uo(t,e){return Na(t,e,1/0)}var dh=H(()=>{"use strict";qi();fh();Yt.iteratee=uo});function Me(t,e,i){return Yt.iteratee!==uo?Yt.iteratee(t,e):Na(t,e,i)}var Ri=H(()=>{"use strict";qi();fh();dh()});function Gc(t,e,i){e=Me(e,i);for(var n=oe(t),r=n.length,o={},s=0;s<r;s++){var l=n[s];o[l]=e(t[l],l,t)}return o}var m0=H(()=>{"use strict";Ri();oi()});function cs(){}var hh=H(()=>{"use strict"});function Zc(t){return t==null?cs:function(e){return as(t,e)}}var v0=H(()=>{"use strict";hh();uh()});function Fc(t,e,i){var n=Array(Math.max(0,t));e=jn(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n}var y0=H(()=>{"use strict";ls()});function fo(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}var gh=H(()=>{"use strict"});var fr,Wc=H(()=>{"use strict";fr=Date.now||function(){return new Date().getTime()}});function Ta(t){var e=function(o){return t[o]},i="(?:"+oe(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(o){return o=o==null?"":""+o,n.test(o)?o.replace(r,e):o}}var ph=H(()=>{"use strict";oi()});var Vc,mh=H(()=>{"use strict";Vc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}});var vh,I0=H(()=>{"use strict";ph();mh();vh=Ta(Vc)});var C0,b0=H(()=>{"use strict";rh();mh();C0=os(Vc)});var yh,A0=H(()=>{"use strict";ph();b0();yh=Ta(C0)});var Ih,Ch=H(()=>{"use strict";qi();Ih=Yt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}});function pA(t){return"\\"+hA[t]}function Yc(t,e,i){!e&&i&&(e=i),e=xa({},e,Yt.templateSettings);var n=RegExp([(e.escape||bh).source,(e.interpolate||bh).source,(e.evaluate||bh).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(n,function(d,h,f,y,w){return o+=t.slice(r,w).replace(gA,pA),r=w+d.length,h?o+=`'+
((__t=(`+h+`))==null?'':_.escape(__t))+
'`:f?o+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:y&&(o+=`';
`+y+`
__p+='`),d}),o+=`';
`;var s=e.variable;if(s){if(!mA.test(s))throw new Error("variable is not a bare identifier: "+s)}else o=`with(obj||{}){
`+o+`}
`,s="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var l;try{l=new Function(s,"_",o)}catch(d){throw d.source=o,d}var c=function(d){return l.call(this,d,Yt)};return c.source="function("+s+`){
`+o+"}",c}var bh,hA,gA,mA,w0=H(()=>{"use strict";ah();qi();Ch();bh=/(.)^/,hA={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},gA=/\\|'|\r|\n|\u2028|\u2029/g;mA=/^\s*(\w|\$)+\s*$/});function Uc(t,e,i){e=Ln(e);var n=e.length;if(!n)return Pe(i)?i.call(t):i;for(var r=0;r<n;r++){var o=t?.[e[r]];o===void 0&&(o=i,r=n),t=Pe(o)?o.call(t):o}return t}var x0=H(()=>{"use strict";un();ss()});function Xc(t){var e=++vA+"";return t?t+e:e}var vA,S0=H(()=>{"use strict";vA=0});function Hc(t){var e=Yt(t);return e._chain=!0,e}var _0=H(()=>{"use strict";qi()});function Da(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var o=Sa(t.prototype),s=t.apply(o,r);return wi(s)?s:o}var Ah=H(()=>{"use strict";lh();wr()});var wh,dr,Pa=H(()=>{"use strict";Ki();Ah();qi();wh=_e(function(t,e){var i=wh.placeholder,n=function(){for(var r=0,o=e.length,s=Array(o),l=0;l<o;l++)s[l]=e[l]===i?arguments[r++]:e[l];for(;r<arguments.length;)s.push(arguments[r++]);return Da(t,n,this,this,s)};return n});wh.placeholder=Yt;dr=wh});var ka,xh=H(()=>{"use strict";Ki();un();Ah();ka=_e(function(t,e,i){if(!Pe(t))throw new TypeError("Bind must be called on a function");var n=_e(function(r){return Da(t,n,e,this,i.concat(r))});return n})});var Le,tn=H(()=>{"use strict";Yd();fn();Le=Ia(Oe)});function en(t,e,i,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(t);for(var r=n.length,o=0,s=Oe(t);o<s;o++){var l=t[o];if(Le(l)&&(Li(l)||ro(l)))if(e>1)en(l,e-1,i,n),r=n.length;else for(var c=0,d=l.length;c<d;)n[r++]=l[c++];else i||(n[r++]=l)}return n}var ho=H(()=>{"use strict";fn();tn();Sr();wc()});var Sh,M0=H(()=>{"use strict";Ki();ho();xh();Sh=_e(function(t,e){e=en(e,!1,!1);var i=e.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=e[i];t[n]=ka(t[n],t)}return t})});function Jc(t,e){var i=function(n){var r=i.cache,o=""+(e?e.apply(this,arguments):n);return gi(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return i.cache={},i}var N0=H(()=>{"use strict";ur()});var Ea,_h=H(()=>{"use strict";Ki();Ea=_e(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)})});var Mh,T0=H(()=>{"use strict";Pa();_h();qi();Mh=dr(Ea,Yt,1)});function Qc(t,e,i){var n,r,o,s,l=0;i||(i={});var c=function(){l=i.leading===!1?0:fr(),n=null,s=t.apply(r,o),n||(r=o=null)},d=function(){var h=fr();!l&&i.leading===!1&&(l=h);var f=e-(h-l);return r=this,o=arguments,f<=0||f>e?(n&&(clearTimeout(n),n=null),l=h,s=t.apply(r,o),n||(r=o=null)):!n&&i.trailing!==!1&&(n=setTimeout(c,f)),s};return d.cancel=function(){clearTimeout(n),l=0,n=r=o=null},d}var D0=H(()=>{"use strict";Wc()});function Kc(t,e,i){var n,r,o,s,l,c=function(){var h=fr()-r;e>h?n=setTimeout(c,e-h):(n=null,i||(s=t.apply(l,o)),n||(o=l=null))},d=_e(function(h){return l=this,o=h,r=fr(),n||(n=setTimeout(c,e),i&&(s=t.apply(l,o))),s});return d.cancel=function(){clearTimeout(n),n=o=l=null},d}var P0=H(()=>{"use strict";Ki();Wc()});function qc(t,e){return dr(e,t)}var k0=H(()=>{"use strict";Pa()});function Tr(t){return function(){return!t.apply(this,arguments)}}var $c=H(()=>{"use strict"});function tu(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}}var E0=H(()=>{"use strict"});function eu(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}var O0=H(()=>{"use strict"});function us(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}}var Nh=H(()=>{"use strict"});var Th,L0=H(()=>{"use strict";Pa();Nh();Th=dr(us,2)});function fs(t,e,i){e=Me(e,i);for(var n=oe(t),r,o=0,s=n.length;o<s;o++)if(r=n[o],e(t[r],r,t))return r}var Dh=H(()=>{"use strict";Ri();oi()});function Oa(t){return function(e,i,n){i=Me(i,n);for(var r=Oe(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(i(e[o],o,e))return o;return-1}}var Ph=H(()=>{"use strict";Ri();fn()});var go,iu=H(()=>{"use strict";Ph();go=Oa(1)});var La,kh=H(()=>{"use strict";Ph();La=Oa(-1)});function ds(t,e,i,n){i=Me(i,n,1);for(var r=i(e),o=0,s=Oe(t);o<s;){var l=Math.floor((o+s)/2);i(t[l])<r?o=l+1:s=l}return o}var Eh=H(()=>{"use strict";Ri();fn()});function Ra(t,e,i){return function(n,r,o){var s=0,l=Oe(n);if(typeof o=="number")t>0?s=o>=0?o:Math.max(o+l,s):l=o>=0?Math.min(o+1,l):o+l+1;else if(i&&o&&l)return o=i(n,r),n[o]===r?o:-1;if(r!==r)return o=e(Kn.call(n,s,l),ts),o>=0?o+s:-1;for(o=t>0?s:l-1;o>=0&&o<l;o+=t)if(n[o]===r)return o;return-1}}var Oh=H(()=>{"use strict";fn();ze();Wd()});var ja,Lh=H(()=>{"use strict";Eh();iu();Oh();ja=Ra(1,go,ds)});var Rh,R0=H(()=>{"use strict";kh();Oh();Rh=Ra(-1,La)});function po(t,e,i){var n=Le(t)?go:fs,r=n(t,e,i);if(r!==void 0&&r!==-1)return t[r]}var jh=H(()=>{"use strict";tn();iu();Dh()});function nu(t,e){return po(t,Rn(e))}var j0=H(()=>{"use strict";jh();Ma()});function si(t,e,i){e=jn(e,i);var n,r;if(Le(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var o=oe(t);for(n=0,r=o.length;n<r;n++)e(t[o[n]],o[n],t)}return t}var Dr=H(()=>{"use strict";ls();tn();oi()});function ji(t,e,i){e=Me(e,i);for(var n=!Le(t)&&oe(t),r=(n||t).length,o=Array(r),s=0;s<r;s++){var l=n?n[s]:s;o[s]=e(t[l],l,t)}return o}var mo=H(()=>{"use strict";Ri();tn();oi()});function za(t){var e=function(i,n,r,o){var s=!Le(i)&&oe(i),l=(s||i).length,c=t>0?0:l-1;for(o||(r=i[s?s[c]:c],c+=t);c>=0&&c<l;c+=t){var d=s?s[c]:c;r=n(r,i[d],d,i)}return r};return function(i,n,r,o){var s=arguments.length>=3;return e(i,jn(n,o,4),r,s)}}var zh=H(()=>{"use strict";tn();oi();ls()});var Ba,z0=H(()=>{"use strict";zh();Ba=za(1)});var ru,B0=H(()=>{"use strict";zh();ru=za(-1)});function dn(t,e,i){var n=[];return e=Me(e,i),si(t,function(r,o,s){e(r,o,s)&&n.push(r)}),n}var hs=H(()=>{"use strict";Ri();Dr()});function ou(t,e,i){return dn(t,Tr(Me(e)),i)}var G0=H(()=>{"use strict";hs();$c();Ri()});function Ga(t,e,i){e=Me(e,i);for(var n=!Le(t)&&oe(t),r=(n||t).length,o=0;o<r;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0}var Z0=H(()=>{"use strict";Ri();tn();oi()});function Za(t,e,i){e=Me(e,i);for(var n=!Le(t)&&oe(t),r=(n||t).length,o=0;o<r;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1}var F0=H(()=>{"use strict";Ri();tn();oi()});function xi(t,e,i,n){return Le(t)||(t=$i(t)),(typeof i!="number"||n)&&(i=0),ja(t,e,i)>=0}var gs=H(()=>{"use strict";tn();so();Lh()});var Bh,W0=H(()=>{"use strict";Ki();un();mo();Rc();ss();Bh=_e(function(t,e,i){var n,r;return Pe(e)?r=e:(e=Ln(e),n=e.slice(0,-1),e=e[e.length-1]),ji(t,function(o){var s=r;if(!s){if(n&&n.length&&(o=co(o,n)),o==null)return;s=o[e]}return s==null?s:s.apply(o,i)})})});function Pr(t,e){return ji(t,Nr(e))}var su=H(()=>{"use strict";mo();Bc()});function au(t,e){return dn(t,Rn(e))}var V0=H(()=>{"use strict";hs();Ma()});function ps(t,e,i){var n=-1/0,r=-1/0,o,s;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Le(t)?t:$i(t);for(var l=0,c=t.length;l<c;l++)o=t[l],o!=null&&o>n&&(n=o)}else e=Me(e,i),si(t,function(d,h,f){s=e(d,h,f),(s>r||s===-1/0&&n===-1/0)&&(n=d,r=s)});return n}var Gh=H(()=>{"use strict";tn();so();Ri();Dr()});function lu(t,e,i){var n=1/0,r=1/0,o,s;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Le(t)?t:$i(t);for(var l=0,c=t.length;l<c;l++)o=t[l],o!=null&&o<n&&(n=o)}else e=Me(e,i),si(t,function(d,h,f){s=e(d,h,f),(s<r||s===1/0&&n===1/0)&&(n=d,r=s)});return n}var Y0=H(()=>{"use strict";tn();so();Ri();Dr()});function ms(t){return t?Li(t)?Kn.call(t):no(t)?t.match(yA):Le(t)?ji(t,Mr):$i(t):[]}var yA,Zh=H(()=>{"use strict";Sr();ze();Cc();tn();mo();zc();so();yA=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g});function vs(t,e,i){if(e==null||i)return Le(t)||(t=$i(t)),t[fo(t.length-1)];var n=ms(t),r=Oe(n);e=Math.max(Math.min(e,r),0);for(var o=r-1,s=0;s<e;s++){var l=fo(s,o),c=n[s];n[s]=n[l],n[l]=c}return n.slice(0,e)}var Fh=H(()=>{"use strict";tn();so();fn();gh();Zh()});function cu(t){return vs(t,1/0)}var U0=H(()=>{"use strict";Fh()});function uu(t,e,i){var n=0;return e=Me(e,i),Pr(ji(t,function(r,o,s){return{value:r,index:n++,criteria:e(r,o,s)}}).sort(function(r,o){var s=r.criteria,l=o.criteria;if(s!==l){if(s>l||s===void 0)return 1;if(s<l||l===void 0)return-1}return r.index-o.index}),"value")}var X0=H(()=>{"use strict";Ri();su();mo()});function hr(t,e){return function(i,n,r){var o=e?[[],[]]:{};return n=Me(n,r),si(i,function(s,l){var c=n(s,l,i);t(o,s,c)}),o}}var Fa=H(()=>{"use strict";Ri();Dr()});var Wh,H0=H(()=>{"use strict";Fa();ur();Wh=hr(function(t,e,i){gi(t,i)?t[i].push(e):t[i]=[e]})});var Vh,J0=H(()=>{"use strict";Fa();Vh=hr(function(t,e,i){t[i]=e})});var Yh,Q0=H(()=>{"use strict";Fa();ur();Yh=hr(function(t,e,i){gi(t,i)?t[i]++:t[i]=1})});var Uh,K0=H(()=>{"use strict";Fa();Uh=hr(function(t,e,i){t[i?0:1].push(e)},!0)});function fu(t){return t==null?0:Le(t)?t.length:oe(t).length}var q0=H(()=>{"use strict";tn();oi()});function Xh(t,e,i){return e in i}var $0=H(()=>{"use strict"});var Wa,Hh=H(()=>{"use strict";Ki();un();ls();ns();$0();ho();Wa=_e(function(t,e){var i={},n=e[0];if(t==null)return i;Pe(n)?(e.length>1&&(n=jn(n,e[1])),e=An(t)):(n=Xh,e=en(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var s=e[r],l=t[s];n(l,s,t)&&(i[s]=l)}return i})});var Jh,ty=H(()=>{"use strict";Ki();un();$c();mo();ho();gs();Hh();Jh=_e(function(t,e){var i=e[0],n;return Pe(i)?(i=Tr(i),e.length>1&&(n=e[1])):(e=ji(en(e,!1,!1),String),i=function(r,o){return!xi(e,o)}),Wa(t,i,n)})});function ys(t,e,i){return Kn.call(t,0,Math.max(0,t.length-(e==null||i?1:e)))}var Qh=H(()=>{"use strict";ze()});function Is(t,e,i){return t==null||t.length<1?e==null||i?void 0:[]:e==null||i?t[0]:ys(t,t.length-e)}var ey=H(()=>{"use strict";Qh()});function kr(t,e,i){return Kn.call(t,e==null||i?1:e)}var Kh=H(()=>{"use strict";ze()});function du(t,e,i){return t==null||t.length<1?e==null||i?void 0:[]:e==null||i?t[t.length-1]:kr(t,Math.max(0,t.length-e))}var iy=H(()=>{"use strict";Kh()});function hu(t){return dn(t,Boolean)}var ny=H(()=>{"use strict";hs()});function gu(t,e){return en(t,e,!1)}var ry=H(()=>{"use strict";ho()});var Va,qh=H(()=>{"use strict";Ki();ho();hs();gs();Va=_e(function(t,e){return e=en(e,!0,!0),dn(t,function(i){return!xi(e,i)})})});var $h,oy=H(()=>{"use strict";Ki();qh();$h=_e(function(t,e){return Va(t,e)})});function vo(t,e,i,n){Ko(e)||(n=i,i=e,e=!1),i!=null&&(i=Me(i,n));for(var r=[],o=[],s=0,l=Oe(t);s<l;s++){var c=t[s],d=i?i(c,s,t):c;e&&!i?((!s||o!==d)&&r.push(c),o=d):i?xi(o,d)||(o.push(d),r.push(c)):xi(r,c)||r.push(c)}return r}var tg=H(()=>{"use strict";Od();Ri();fn();gs()});var eg,sy=H(()=>{"use strict";Ki();tg();ho();eg=_e(function(t){return vo(en(t,!0,!0))})});function pu(t){for(var e=[],i=arguments.length,n=0,r=Oe(t);n<r;n++){var o=t[n];if(!xi(e,o)){var s;for(s=1;s<i&&xi(arguments[s],o);s++);s===i&&e.push(o)}}return e}var ay=H(()=>{"use strict";fn();gs()});function yo(t){for(var e=t&&ps(t,Oe).length||0,i=Array(e),n=0;n<e;n++)i[n]=Pr(t,n);return i}var ig=H(()=>{"use strict";Gh();fn();su()});var ng,ly=H(()=>{"use strict";Ki();ig();ng=_e(yo)});function mu(t,e){for(var i={},n=0,r=Oe(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i}var cy=H(()=>{"use strict";fn()});function vu(t,e,i){e==null&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),o=0;o<n;o++,t+=i)r[o]=t;return r}var uy=H(()=>{"use strict"});function yu(t,e){if(e==null||e<1)return[];for(var i=[],n=0,r=t.length;n<r;)i.push(Kn.call(t,n,n+=e));return i}var fy=H(()=>{"use strict";ze()});function Cs(t,e){return t._chain?Yt(e).chain():e}var rg=H(()=>{"use strict";qi()});function bs(t){return si(ao(t),function(e){var i=Yt[e]=t[e];Yt.prototype[e]=function(){var n=[this._wrapped];return Lv.apply(n,arguments),Cs(this,i.apply(Yt,n))}}),Yt}var dy=H(()=>{"use strict";qi();Dr();oh();ze();rg()});var hy,gy=H(()=>{"use strict";qi();Dr();ze();rg();si(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=pa[t];Yt.prototype[t]=function(){var i=this._wrapped;return i!=null&&(e.apply(i,arguments),(t==="shift"||t==="splice")&&i.length===0&&delete i[0]),Cs(this,i)}});si(["concat","join","slice"],function(t){var e=pa[t];Yt.prototype[t]=function(){var i=this._wrapped;return i!=null&&(i=e.apply(i,arguments)),Cs(this,i)}});hy=Yt});var og={};Fe(og,{VERSION:()=>ga,after:()=>eu,all:()=>Ga,allKeys:()=>An,any:()=>Za,assign:()=>_r,before:()=>us,bind:()=>ka,bindAll:()=>Sh,chain:()=>Hc,chunk:()=>yu,clone:()=>Oc,collect:()=>ji,compact:()=>hu,compose:()=>tu,constant:()=>es,contains:()=>xi,countBy:()=>Yh,create:()=>Ec,debounce:()=>Kc,default:()=>hy,defaults:()=>xa,defer:()=>Mh,delay:()=>Ea,detect:()=>po,difference:()=>Va,drop:()=>kr,each:()=>si,escape:()=>vh,every:()=>Ga,extend:()=>wa,extendOwn:()=>_r,filter:()=>dn,find:()=>po,findIndex:()=>go,findKey:()=>fs,findLastIndex:()=>La,findWhere:()=>nu,first:()=>Is,flatten:()=>gu,foldl:()=>Ba,foldr:()=>ru,forEach:()=>si,functions:()=>ao,get:()=>as,groupBy:()=>Wh,has:()=>jc,head:()=>Is,identity:()=>Mr,include:()=>xi,includes:()=>xi,indexBy:()=>Vh,indexOf:()=>ja,initial:()=>ys,inject:()=>Ba,intersection:()=>pu,invert:()=>os,invoke:()=>Bh,isArguments:()=>ro,isArray:()=>Li,isArrayBuffer:()=>ya,isBoolean:()=>Ko,isDataView:()=>xr,isDate:()=>Rd,isElement:()=>Ic,isEmpty:()=>_c,isEqual:()=>Nc,isError:()=>zd,isFinite:()=>xc,isFunction:()=>Pe,isMap:()=>th,isMatch:()=>is,isNaN:()=>ts,isNull:()=>yc,isNumber:()=>ma,isObject:()=>wi,isRegExp:()=>jd,isSet:()=>ih,isString:()=>no,isSymbol:()=>va,isTypedArray:()=>ba,isUndefined:()=>Qo,isWeakMap:()=>eh,isWeakSet:()=>nh,iteratee:()=>uo,keys:()=>oe,last:()=>du,lastIndexOf:()=>Rh,map:()=>ji,mapObject:()=>Gc,matcher:()=>Rn,matches:()=>Rn,max:()=>ps,memoize:()=>Jc,methods:()=>ao,min:()=>lu,mixin:()=>bs,negate:()=>Tr,noop:()=>cs,now:()=>fr,object:()=>mu,omit:()=>Jh,once:()=>Th,pairs:()=>Dc,partial:()=>dr,partition:()=>Uh,pick:()=>Wa,pluck:()=>Pr,property:()=>Nr,propertyOf:()=>Zc,random:()=>fo,range:()=>vu,reduce:()=>Ba,reduceRight:()=>ru,reject:()=>ou,rest:()=>kr,restArguments:()=>_e,result:()=>Uc,sample:()=>vs,select:()=>dn,shuffle:()=>cu,size:()=>fu,some:()=>Za,sortBy:()=>uu,sortedIndex:()=>ds,tail:()=>kr,take:()=>Is,tap:()=>Lc,template:()=>Yc,templateSettings:()=>Ih,throttle:()=>Qc,times:()=>Fc,toArray:()=>ms,toPath:()=>_a,transpose:()=>yo,unescape:()=>yh,union:()=>eg,uniq:()=>vo,unique:()=>vo,uniqueId:()=>Xc,unzip:()=>yo,values:()=>$i,where:()=>au,without:()=>$h,wrap:()=>qc,zip:()=>ng});var Iu=H(()=>{"use strict";ze();Ki();wr();Fv();Ed();Od();Wv();Cc();Ld();Vv();Yv();Uv();Bd();Gd();Ac();Sr();un();wc();Jv();Wd();Xd();qv();Jd();i0();a0();l0();c0();u0();oi();ns();so();f0();rh();oh();sh();kc();ah();d0();h0();g0();uh();p0();m0();zc();Vd();hh();ch();Bc();v0();Ma();y0();gh();Wc();I0();A0();Ch();w0();x0();S0();_0();dh();Pa();xh();M0();N0();_h();T0();D0();P0();k0();$c();E0();O0();Nh();L0();Dh();iu();kh();Eh();Lh();R0();jh();j0();Dr();mo();z0();B0();hs();G0();Z0();F0();gs();W0();su();V0();Gh();Y0();U0();Fh();X0();H0();J0();Q0();K0();Zh();q0();Hh();ty();ey();Qh();iy();Kh();ny();ry();oy();tg();sy();ay();qh();ig();ly();cy();uy();fy();dy();gy()});var sg,py,my=H(()=>{"use strict";Iu();Iu();sg=bs(og);sg._=sg;py=sg});var vy={};Fe(vy,{VERSION:()=>ga,after:()=>eu,all:()=>Ga,allKeys:()=>An,any:()=>Za,assign:()=>_r,before:()=>us,bind:()=>ka,bindAll:()=>Sh,chain:()=>Hc,chunk:()=>yu,clone:()=>Oc,collect:()=>ji,compact:()=>hu,compose:()=>tu,constant:()=>es,contains:()=>xi,countBy:()=>Yh,create:()=>Ec,debounce:()=>Kc,default:()=>py,defaults:()=>xa,defer:()=>Mh,delay:()=>Ea,detect:()=>po,difference:()=>Va,drop:()=>kr,each:()=>si,escape:()=>vh,every:()=>Ga,extend:()=>wa,extendOwn:()=>_r,filter:()=>dn,find:()=>po,findIndex:()=>go,findKey:()=>fs,findLastIndex:()=>La,findWhere:()=>nu,first:()=>Is,flatten:()=>gu,foldl:()=>Ba,foldr:()=>ru,forEach:()=>si,functions:()=>ao,get:()=>as,groupBy:()=>Wh,has:()=>jc,head:()=>Is,identity:()=>Mr,include:()=>xi,includes:()=>xi,indexBy:()=>Vh,indexOf:()=>ja,initial:()=>ys,inject:()=>Ba,intersection:()=>pu,invert:()=>os,invoke:()=>Bh,isArguments:()=>ro,isArray:()=>Li,isArrayBuffer:()=>ya,isBoolean:()=>Ko,isDataView:()=>xr,isDate:()=>Rd,isElement:()=>Ic,isEmpty:()=>_c,isEqual:()=>Nc,isError:()=>zd,isFinite:()=>xc,isFunction:()=>Pe,isMap:()=>th,isMatch:()=>is,isNaN:()=>ts,isNull:()=>yc,isNumber:()=>ma,isObject:()=>wi,isRegExp:()=>jd,isSet:()=>ih,isString:()=>no,isSymbol:()=>va,isTypedArray:()=>ba,isUndefined:()=>Qo,isWeakMap:()=>eh,isWeakSet:()=>nh,iteratee:()=>uo,keys:()=>oe,last:()=>du,lastIndexOf:()=>Rh,map:()=>ji,mapObject:()=>Gc,matcher:()=>Rn,matches:()=>Rn,max:()=>ps,memoize:()=>Jc,methods:()=>ao,min:()=>lu,mixin:()=>bs,negate:()=>Tr,noop:()=>cs,now:()=>fr,object:()=>mu,omit:()=>Jh,once:()=>Th,pairs:()=>Dc,partial:()=>dr,partition:()=>Uh,pick:()=>Wa,pluck:()=>Pr,property:()=>Nr,propertyOf:()=>Zc,random:()=>fo,range:()=>vu,reduce:()=>Ba,reduceRight:()=>ru,reject:()=>ou,rest:()=>kr,restArguments:()=>_e,result:()=>Uc,sample:()=>vs,select:()=>dn,shuffle:()=>cu,size:()=>fu,some:()=>Za,sortBy:()=>uu,sortedIndex:()=>ds,tail:()=>kr,take:()=>Is,tap:()=>Lc,template:()=>Yc,templateSettings:()=>Ih,throttle:()=>Qc,times:()=>Fc,toArray:()=>ms,toPath:()=>_a,transpose:()=>yo,unescape:()=>yh,union:()=>eg,uniq:()=>vo,unique:()=>vo,uniqueId:()=>Xc,unzip:()=>yo,values:()=>$i,where:()=>au,without:()=>$h,wrap:()=>qc,zip:()=>ng});var yy=H(()=>{"use strict";my();Iu()});var Er=Kp((Iy,Cu)=>{"use strict";(function(t,e){"use strict";typeof Cu=="object"&&typeof Cu.exports=="object"?Cu.exports=t.document?e(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return e(i)}:e(t)})(typeof window<"u"?window:Iy,function(t,e){"use strict";var i=[],n=Object.getPrototypeOf,r=i.slice,o=i.flat?function(a){return i.flat.call(a)}:function(a){return i.concat.apply([],a)},s=i.push,l=i.indexOf,c={},d=c.toString,h=c.hasOwnProperty,f=h.toString,y=f.call(Object),w={},x=function(u){return typeof u=="function"&&typeof u.nodeType!="number"&&typeof u.item!="function"},N=function(u){return u!=null&&u===u.window},T=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function Y(a,u,g){g=g||T;var m,I,b=g.createElement("script");if(b.text=a,u)for(m in E)I=u[m]||u.getAttribute&&u.getAttribute(m),I&&b.setAttribute(m,I);g.head.appendChild(b).parentNode.removeChild(b)}function K(a){return a==null?a+"":typeof a=="object"||typeof a=="function"?c[d.call(a)]||"object":typeof a}var et="3.7.1",lt=/HTML$/i,p=function(a,u){return new p.fn.init(a,u)};p.fn=p.prototype={jquery:et,constructor:p,length:0,toArray:function(){return r.call(this)},get:function(a){return a==null?r.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var u=p.merge(this.constructor(),a);return u.prevObject=this,u},each:function(a){return p.each(this,a)},map:function(a){return this.pushStack(p.map(this,function(u,g){return a.call(u,g,u)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(a,u){return(u+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(a,u){return u%2}))},eq:function(a){var u=this.length,g=+a+(a<0?u:0);return this.pushStack(g>=0&&g<u?[this[g]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:i.sort,splice:i.splice},p.extend=p.fn.extend=function(){var a,u,g,m,I,b,S=arguments[0]||{},R=1,O=arguments.length,V=!1;for(typeof S=="boolean"&&(V=S,S=arguments[R]||{},R++),typeof S!="object"&&!x(S)&&(S={}),R===O&&(S=this,R--);R<O;R++)if((a=arguments[R])!=null)for(u in a)m=a[u],!(u==="__proto__"||S===m)&&(V&&m&&(p.isPlainObject(m)||(I=Array.isArray(m)))?(g=S[u],I&&!Array.isArray(g)?b=[]:!I&&!p.isPlainObject(g)?b={}:b=g,I=!1,S[u]=p.extend(V,b,m)):m!==void 0&&(S[u]=m));return S},p.extend({expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var u,g;return!a||d.call(a)!=="[object Object]"?!1:(u=n(a),u?(g=h.call(u,"constructor")&&u.constructor,typeof g=="function"&&f.call(g)===y):!0)},isEmptyObject:function(a){var u;for(u in a)return!1;return!0},globalEval:function(a,u,g){Y(a,{nonce:u&&u.nonce},g)},each:function(a,u){var g,m=0;if(v(a))for(g=a.length;m<g&&u.call(a[m],m,a[m])!==!1;m++);else for(m in a)if(u.call(a[m],m,a[m])===!1)break;return a},text:function(a){var u,g="",m=0,I=a.nodeType;if(!I)for(;u=a[m++];)g+=p.text(u);return I===1||I===11?a.textContent:I===9?a.documentElement.textContent:I===3||I===4?a.nodeValue:g},makeArray:function(a,u){var g=u||[];return a!=null&&(v(Object(a))?p.merge(g,typeof a=="string"?[a]:a):s.call(g,a)),g},inArray:function(a,u,g){return u==null?-1:l.call(u,a,g)},isXMLDoc:function(a){var u=a&&a.namespaceURI,g=a&&(a.ownerDocument||a).documentElement;return!lt.test(u||g&&g.nodeName||"HTML")},merge:function(a,u){for(var g=+u.length,m=0,I=a.length;m<g;m++)a[I++]=u[m];return a.length=I,a},grep:function(a,u,g){for(var m,I=[],b=0,S=a.length,R=!g;b<S;b++)m=!u(a[b],b),m!==R&&I.push(a[b]);return I},map:function(a,u,g){var m,I,b=0,S=[];if(v(a))for(m=a.length;b<m;b++)I=u(a[b],b,g),I!=null&&S.push(I);else for(b in a)I=u(a[b],b,g),I!=null&&S.push(I);return o(S)},guid:1,support:w}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=i[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,u){c["[object "+u+"]"]=u.toLowerCase()});function v(a){var u=!!a&&"length"in a&&a.length,g=K(a);return x(a)||N(a)?!1:g==="array"||u===0||typeof u=="number"&&u>0&&u-1 in a}function A(a,u){return a.nodeName&&a.nodeName.toLowerCase()===u.toLowerCase()}var _=i.pop,D=i.sort,z=i.splice,B="[\\x20\\t\\r\\n\\f]",X=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g");p.contains=function(a,u){var g=u&&u.parentNode;return a===g||!!(g&&g.nodeType===1&&(a.contains?a.contains(g):a.compareDocumentPosition&&a.compareDocumentPosition(g)&16))};var ft=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function vt(a,u){return u?a==="\0"?"\uFFFD":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a}p.escapeSelector=function(a){return(a+"").replace(ft,vt)};var W=T,$=s;(function(){var a,u,g,m,I,b=$,S,R,O,V,rt,ut=p.expando,tt=0,pt=0,Zt=Nl(),pe=Nl(),Qt=Nl(),ci=Nl(),ti=function(P,G){return P===G&&(I=!0),0},Gn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Zn="(?:\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ae="\\["+B+"*("+Zn+")(?:"+B+"*([*^$|!~]?=)"+B+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Zn+"))|)"+B+"*\\]",Yr=":("+Zn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ae+")*)|.*)\\)|)",me=new RegExp(B+"+","g"),Qe=new RegExp("^"+B+"*,"+B+"*"),Js=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),zf=new RegExp(B+"|>"),Fn=new RegExp(Yr),Qs=new RegExp("^"+Zn+"$"),Wn={ID:new RegExp("^#("+Zn+")"),CLASS:new RegExp("^\\.("+Zn+")"),TAG:new RegExp("^("+Zn+"|[*])"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+Yr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+Gn+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},vr=/^(?:input|select|textarea|button)$/i,yr=/^h\d$/i,vn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Bf=/[+~]/,$n=new RegExp("\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\([^\\r\\n\\f])","g"),tr=function(P,G){var Q="0x"+P.slice(1)-65536;return G||(Q<0?String.fromCharCode(Q+65536):String.fromCharCode(Q>>10|55296,Q&1023|56320))},db=function(){Ir()},hb=Dl(function(P){return P.disabled===!0&&A(P,"fieldset")},{dir:"parentNode",next:"legend"});function gb(){try{return S.activeElement}catch{}}try{b.apply(i=r.call(W.childNodes),W.childNodes),i[W.childNodes.length].nodeType}catch{b={apply:function(G,Q){$.apply(G,r.call(Q))},call:function(G){$.apply(G,r.call(arguments,1))}}}function Se(P,G,Q,nt){var ct,bt,xt,Tt,St,ne,zt,Vt=G&&G.ownerDocument,re=G?G.nodeType:9;if(Q=Q||[],typeof P!="string"||!P||re!==1&&re!==9&&re!==11)return Q;if(!nt&&(Ir(G),G=G||S,O)){if(re!==11&&(St=vn.exec(P)))if(ct=St[1]){if(re===9)if(xt=G.getElementById(ct)){if(xt.id===ct)return b.call(Q,xt),Q}else return Q;else if(Vt&&(xt=Vt.getElementById(ct))&&Se.contains(G,xt)&&xt.id===ct)return b.call(Q,xt),Q}else{if(St[2])return b.apply(Q,G.getElementsByTagName(P)),Q;if((ct=St[3])&&G.getElementsByClassName)return b.apply(Q,G.getElementsByClassName(ct)),Q}if(!ci[P+" "]&&(!V||!V.test(P))){if(zt=P,Vt=G,re===1&&(zf.test(P)||Js.test(P))){for(Vt=Bf.test(P)&&Gf(G.parentNode)||G,(Vt!=G||!w.scope)&&((Tt=G.getAttribute("id"))?Tt=p.escapeSelector(Tt):G.setAttribute("id",Tt=ut)),ne=Ks(P),bt=ne.length;bt--;)ne[bt]=(Tt?"#"+Tt:":scope")+" "+Tl(ne[bt]);zt=ne.join(",")}try{return b.apply(Q,Vt.querySelectorAll(zt)),Q}catch{ci(P,!0)}finally{Tt===ut&&G.removeAttribute("id")}}}return Qp(P.replace(X,"$1"),G,Q,nt)}function Nl(){var P=[];function G(Q,nt){return P.push(Q+" ")>u.cacheLength&&delete G[P.shift()],G[Q+" "]=nt}return G}function Pn(P){return P[ut]=!0,P}function ko(P){var G=S.createElement("fieldset");try{return!!P(G)}catch{return!1}finally{G.parentNode&&G.parentNode.removeChild(G),G=null}}function pb(P){return function(G){return A(G,"input")&&G.type===P}}function mb(P){return function(G){return(A(G,"input")||A(G,"button"))&&G.type===P}}function Hp(P){return function(G){return"form"in G?G.parentNode&&G.disabled===!1?"label"in G?"label"in G.parentNode?G.parentNode.disabled===P:G.disabled===P:G.isDisabled===P||G.isDisabled!==!P&&hb(G)===P:G.disabled===P:"label"in G?G.disabled===P:!1}}function Ur(P){return Pn(function(G){return G=+G,Pn(function(Q,nt){for(var ct,bt=P([],Q.length,G),xt=bt.length;xt--;)Q[ct=bt[xt]]&&(Q[ct]=!(nt[ct]=Q[ct]))})})}function Gf(P){return P&&typeof P.getElementsByTagName<"u"&&P}function Ir(P){var G,Q=P?P.ownerDocument||P:W;return Q==S||Q.nodeType!==9||!Q.documentElement||(S=Q,R=S.documentElement,O=!p.isXMLDoc(S),rt=R.matches||R.webkitMatchesSelector||R.msMatchesSelector,R.msMatchesSelector&&W!=S&&(G=S.defaultView)&&G.top!==G&&G.addEventListener("unload",db),w.getById=ko(function(nt){return R.appendChild(nt).id=p.expando,!S.getElementsByName||!S.getElementsByName(p.expando).length}),w.disconnectedMatch=ko(function(nt){return rt.call(nt,"*")}),w.scope=ko(function(){return S.querySelectorAll(":scope")}),w.cssHas=ko(function(){try{return S.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),w.getById?(u.filter.ID=function(nt){var ct=nt.replace($n,tr);return function(bt){return bt.getAttribute("id")===ct}},u.find.ID=function(nt,ct){if(typeof ct.getElementById<"u"&&O){var bt=ct.getElementById(nt);return bt?[bt]:[]}}):(u.filter.ID=function(nt){var ct=nt.replace($n,tr);return function(bt){var xt=typeof bt.getAttributeNode<"u"&&bt.getAttributeNode("id");return xt&&xt.value===ct}},u.find.ID=function(nt,ct){if(typeof ct.getElementById<"u"&&O){var bt,xt,Tt,St=ct.getElementById(nt);if(St){if(bt=St.getAttributeNode("id"),bt&&bt.value===nt)return[St];for(Tt=ct.getElementsByName(nt),xt=0;St=Tt[xt++];)if(bt=St.getAttributeNode("id"),bt&&bt.value===nt)return[St]}return[]}}),u.find.TAG=function(nt,ct){return typeof ct.getElementsByTagName<"u"?ct.getElementsByTagName(nt):ct.querySelectorAll(nt)},u.find.CLASS=function(nt,ct){if(typeof ct.getElementsByClassName<"u"&&O)return ct.getElementsByClassName(nt)},V=[],ko(function(nt){var ct;R.appendChild(nt).innerHTML="<a id='"+ut+"' href='' disabled='disabled'></a><select id='"+ut+"-\r\\' disabled='disabled'><option selected=''></option></select>",nt.querySelectorAll("[selected]").length||V.push("\\["+B+"*(?:value|"+Gn+")"),nt.querySelectorAll("[id~="+ut+"-]").length||V.push("~="),nt.querySelectorAll("a#"+ut+"+*").length||V.push(".#.+[+~]"),nt.querySelectorAll(":checked").length||V.push(":checked"),ct=S.createElement("input"),ct.setAttribute("type","hidden"),nt.appendChild(ct).setAttribute("name","D"),R.appendChild(nt).disabled=!0,nt.querySelectorAll(":disabled").length!==2&&V.push(":enabled",":disabled"),ct=S.createElement("input"),ct.setAttribute("name",""),nt.appendChild(ct),nt.querySelectorAll("[name='']").length||V.push("\\["+B+"*name"+B+"*="+B+`*(?:''|"")`)}),w.cssHas||V.push(":has"),V=V.length&&new RegExp(V.join("|")),ti=function(nt,ct){if(nt===ct)return I=!0,0;var bt=!nt.compareDocumentPosition-!ct.compareDocumentPosition;return bt||(bt=(nt.ownerDocument||nt)==(ct.ownerDocument||ct)?nt.compareDocumentPosition(ct):1,bt&1||!w.sortDetached&&ct.compareDocumentPosition(nt)===bt?nt===S||nt.ownerDocument==W&&Se.contains(W,nt)?-1:ct===S||ct.ownerDocument==W&&Se.contains(W,ct)?1:m?l.call(m,nt)-l.call(m,ct):0:bt&4?-1:1)}),S}Se.matches=function(P,G){return Se(P,null,null,G)},Se.matchesSelector=function(P,G){if(Ir(P),O&&!ci[G+" "]&&(!V||!V.test(G)))try{var Q=rt.call(P,G);if(Q||w.disconnectedMatch||P.document&&P.document.nodeType!==11)return Q}catch{ci(G,!0)}return Se(G,S,null,[P]).length>0},Se.contains=function(P,G){return(P.ownerDocument||P)!=S&&Ir(P),p.contains(P,G)},Se.attr=function(P,G){(P.ownerDocument||P)!=S&&Ir(P);var Q=u.attrHandle[G.toLowerCase()],nt=Q&&h.call(u.attrHandle,G.toLowerCase())?Q(P,G,!O):void 0;return nt!==void 0?nt:P.getAttribute(G)},Se.error=function(P){throw new Error("Syntax error, unrecognized expression: "+P)},p.uniqueSort=function(P){var G,Q=[],nt=0,ct=0;if(I=!w.sortStable,m=!w.sortStable&&r.call(P,0),D.call(P,ti),I){for(;G=P[ct++];)G===P[ct]&&(nt=Q.push(ct));for(;nt--;)z.call(P,Q[nt],1)}return m=null,P},p.fn.uniqueSort=function(){return this.pushStack(p.uniqueSort(r.apply(this)))},u=p.expr={cacheLength:50,createPseudo:Pn,match:Wn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(P){return P[1]=P[1].replace($n,tr),P[3]=(P[3]||P[4]||P[5]||"").replace($n,tr),P[2]==="~="&&(P[3]=" "+P[3]+" "),P.slice(0,4)},CHILD:function(P){return P[1]=P[1].toLowerCase(),P[1].slice(0,3)==="nth"?(P[3]||Se.error(P[0]),P[4]=+(P[4]?P[5]+(P[6]||1):2*(P[3]==="even"||P[3]==="odd")),P[5]=+(P[7]+P[8]||P[3]==="odd")):P[3]&&Se.error(P[0]),P},PSEUDO:function(P){var G,Q=!P[6]&&P[2];return Wn.CHILD.test(P[0])?null:(P[3]?P[2]=P[4]||P[5]||"":Q&&Fn.test(Q)&&(G=Ks(Q,!0))&&(G=Q.indexOf(")",Q.length-G)-Q.length)&&(P[0]=P[0].slice(0,G),P[2]=Q.slice(0,G)),P.slice(0,3))}},filter:{TAG:function(P){var G=P.replace($n,tr).toLowerCase();return P==="*"?function(){return!0}:function(Q){return A(Q,G)}},CLASS:function(P){var G=Zt[P+" "];return G||(G=new RegExp("(^|"+B+")"+P+"("+B+"|$)"))&&Zt(P,function(Q){return G.test(typeof Q.className=="string"&&Q.className||typeof Q.getAttribute<"u"&&Q.getAttribute("class")||"")})},ATTR:function(P,G,Q){return function(nt){var ct=Se.attr(nt,P);return ct==null?G==="!=":G?(ct+="",G==="="?ct===Q:G==="!="?ct!==Q:G==="^="?Q&&ct.indexOf(Q)===0:G==="*="?Q&&ct.indexOf(Q)>-1:G==="$="?Q&&ct.slice(-Q.length)===Q:G==="~="?(" "+ct.replace(me," ")+" ").indexOf(Q)>-1:G==="|="?ct===Q||ct.slice(0,Q.length+1)===Q+"-":!1):!0}},CHILD:function(P,G,Q,nt,ct){var bt=P.slice(0,3)!=="nth",xt=P.slice(-4)!=="last",Tt=G==="of-type";return nt===1&&ct===0?function(St){return!!St.parentNode}:function(St,ne,zt){var Vt,re,Et,Ee,Xi,yi=bt!==xt?"nextSibling":"previousSibling",yn=St.parentNode,Vn=Tt&&St.nodeName.toLowerCase(),Eo=!zt&&!Tt,Di=!1;if(yn){if(bt){for(;yi;){for(Et=St;Et=Et[yi];)if(Tt?A(Et,Vn):Et.nodeType===1)return!1;Xi=yi=P==="only"&&!Xi&&"nextSibling"}return!0}if(Xi=[xt?yn.firstChild:yn.lastChild],xt&&Eo){for(re=yn[ut]||(yn[ut]={}),Vt=re[P]||[],Ee=Vt[0]===tt&&Vt[1],Di=Ee&&Vt[2],Et=Ee&&yn.childNodes[Ee];Et=++Ee&&Et&&Et[yi]||(Di=Ee=0)||Xi.pop();)if(Et.nodeType===1&&++Di&&Et===St){re[P]=[tt,Ee,Di];break}}else if(Eo&&(re=St[ut]||(St[ut]={}),Vt=re[P]||[],Ee=Vt[0]===tt&&Vt[1],Di=Ee),Di===!1)for(;(Et=++Ee&&Et&&Et[yi]||(Di=Ee=0)||Xi.pop())&&!((Tt?A(Et,Vn):Et.nodeType===1)&&++Di&&(Eo&&(re=Et[ut]||(Et[ut]={}),re[P]=[tt,Di]),Et===St)););return Di-=ct,Di===nt||Di%nt===0&&Di/nt>=0}}},PSEUDO:function(P,G){var Q,nt=u.pseudos[P]||u.setFilters[P.toLowerCase()]||Se.error("unsupported pseudo: "+P);return nt[ut]?nt(G):nt.length>1?(Q=[P,P,"",G],u.setFilters.hasOwnProperty(P.toLowerCase())?Pn(function(ct,bt){for(var xt,Tt=nt(ct,G),St=Tt.length;St--;)xt=l.call(ct,Tt[St]),ct[xt]=!(bt[xt]=Tt[St])}):function(ct){return nt(ct,0,Q)}):nt}},pseudos:{not:Pn(function(P){var G=[],Q=[],nt=Vf(P.replace(X,"$1"));return nt[ut]?Pn(function(ct,bt,xt,Tt){for(var St,ne=nt(ct,null,Tt,[]),zt=ct.length;zt--;)(St=ne[zt])&&(ct[zt]=!(bt[zt]=St))}):function(ct,bt,xt){return G[0]=ct,nt(G,null,xt,Q),G[0]=null,!Q.pop()}}),has:Pn(function(P){return function(G){return Se(P,G).length>0}}),contains:Pn(function(P){return P=P.replace($n,tr),function(G){return(G.textContent||p.text(G)).indexOf(P)>-1}}),lang:Pn(function(P){return Qs.test(P||"")||Se.error("unsupported lang: "+P),P=P.replace($n,tr).toLowerCase(),function(G){var Q;do if(Q=O?G.lang:G.getAttribute("xml:lang")||G.getAttribute("lang"))return Q=Q.toLowerCase(),Q===P||Q.indexOf(P+"-")===0;while((G=G.parentNode)&&G.nodeType===1);return!1}}),target:function(P){var G=t.location&&t.location.hash;return G&&G.slice(1)===P.id},root:function(P){return P===R},focus:function(P){return P===gb()&&S.hasFocus()&&!!(P.type||P.href||~P.tabIndex)},enabled:Hp(!1),disabled:Hp(!0),checked:function(P){return A(P,"input")&&!!P.checked||A(P,"option")&&!!P.selected},selected:function(P){return P.parentNode&&P.parentNode.selectedIndex,P.selected===!0},empty:function(P){for(P=P.firstChild;P;P=P.nextSibling)if(P.nodeType<6)return!1;return!0},parent:function(P){return!u.pseudos.empty(P)},header:function(P){return yr.test(P.nodeName)},input:function(P){return vr.test(P.nodeName)},button:function(P){return A(P,"input")&&P.type==="button"||A(P,"button")},text:function(P){var G;return A(P,"input")&&P.type==="text"&&((G=P.getAttribute("type"))==null||G.toLowerCase()==="text")},first:Ur(function(){return[0]}),last:Ur(function(P,G){return[G-1]}),eq:Ur(function(P,G,Q){return[Q<0?Q+G:Q]}),even:Ur(function(P,G){for(var Q=0;Q<G;Q+=2)P.push(Q);return P}),odd:Ur(function(P,G){for(var Q=1;Q<G;Q+=2)P.push(Q);return P}),lt:Ur(function(P,G,Q){var nt;for(Q<0?nt=Q+G:Q>G?nt=G:nt=Q;--nt>=0;)P.push(nt);return P}),gt:Ur(function(P,G,Q){for(var nt=Q<0?Q+G:Q;++nt<G;)P.push(nt);return P})}},u.pseudos.nth=u.pseudos.eq;for(a in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[a]=pb(a);for(a in{submit:!0,reset:!0})u.pseudos[a]=mb(a);function Jp(){}Jp.prototype=u.filters=u.pseudos,u.setFilters=new Jp;function Ks(P,G){var Q,nt,ct,bt,xt,Tt,St,ne=pe[P+" "];if(ne)return G?0:ne.slice(0);for(xt=P,Tt=[],St=u.preFilter;xt;){(!Q||(nt=Qe.exec(xt)))&&(nt&&(xt=xt.slice(nt[0].length)||xt),Tt.push(ct=[])),Q=!1,(nt=Js.exec(xt))&&(Q=nt.shift(),ct.push({value:Q,type:nt[0].replace(X," ")}),xt=xt.slice(Q.length));for(bt in u.filter)(nt=Wn[bt].exec(xt))&&(!St[bt]||(nt=St[bt](nt)))&&(Q=nt.shift(),ct.push({value:Q,type:bt,matches:nt}),xt=xt.slice(Q.length));if(!Q)break}return G?xt.length:xt?Se.error(P):pe(P,Tt).slice(0)}function Tl(P){for(var G=0,Q=P.length,nt="";G<Q;G++)nt+=P[G].value;return nt}function Dl(P,G,Q){var nt=G.dir,ct=G.next,bt=ct||nt,xt=Q&&bt==="parentNode",Tt=pt++;return G.first?function(St,ne,zt){for(;St=St[nt];)if(St.nodeType===1||xt)return P(St,ne,zt);return!1}:function(St,ne,zt){var Vt,re,Et=[tt,Tt];if(zt){for(;St=St[nt];)if((St.nodeType===1||xt)&&P(St,ne,zt))return!0}else for(;St=St[nt];)if(St.nodeType===1||xt)if(re=St[ut]||(St[ut]={}),ct&&A(St,ct))St=St[nt]||St;else{if((Vt=re[bt])&&Vt[0]===tt&&Vt[1]===Tt)return Et[2]=Vt[2];if(re[bt]=Et,Et[2]=P(St,ne,zt))return!0}return!1}}function Zf(P){return P.length>1?function(G,Q,nt){for(var ct=P.length;ct--;)if(!P[ct](G,Q,nt))return!1;return!0}:P[0]}function vb(P,G,Q){for(var nt=0,ct=G.length;nt<ct;nt++)Se(P,G[nt],Q);return Q}function Pl(P,G,Q,nt,ct){for(var bt,xt=[],Tt=0,St=P.length,ne=G!=null;Tt<St;Tt++)(bt=P[Tt])&&(!Q||Q(bt,nt,ct))&&(xt.push(bt),ne&&G.push(Tt));return xt}function Ff(P,G,Q,nt,ct,bt){return nt&&!nt[ut]&&(nt=Ff(nt)),ct&&!ct[ut]&&(ct=Ff(ct,bt)),Pn(function(xt,Tt,St,ne){var zt,Vt,re,Et,Ee=[],Xi=[],yi=Tt.length,yn=xt||vb(G||"*",St.nodeType?[St]:St,[]),Vn=P&&(xt||!G)?Pl(yn,Ee,P,St,ne):yn;if(Q?(Et=ct||(xt?P:yi||nt)?[]:Tt,Q(Vn,Et,St,ne)):Et=Vn,nt)for(zt=Pl(Et,Xi),nt(zt,[],St,ne),Vt=zt.length;Vt--;)(re=zt[Vt])&&(Et[Xi[Vt]]=!(Vn[Xi[Vt]]=re));if(xt){if(ct||P){if(ct){for(zt=[],Vt=Et.length;Vt--;)(re=Et[Vt])&&zt.push(Vn[Vt]=re);ct(null,Et=[],zt,ne)}for(Vt=Et.length;Vt--;)(re=Et[Vt])&&(zt=ct?l.call(xt,re):Ee[Vt])>-1&&(xt[zt]=!(Tt[zt]=re))}}else Et=Pl(Et===Tt?Et.splice(yi,Et.length):Et),ct?ct(null,Tt,Et,ne):b.apply(Tt,Et)})}function Wf(P){for(var G,Q,nt,ct=P.length,bt=u.relative[P[0].type],xt=bt||u.relative[" "],Tt=bt?1:0,St=Dl(function(Vt){return Vt===G},xt,!0),ne=Dl(function(Vt){return l.call(G,Vt)>-1},xt,!0),zt=[function(Vt,re,Et){var Ee=!bt&&(Et||re!=g)||((G=re).nodeType?St(Vt,re,Et):ne(Vt,re,Et));return G=null,Ee}];Tt<ct;Tt++)if(Q=u.relative[P[Tt].type])zt=[Dl(Zf(zt),Q)];else{if(Q=u.filter[P[Tt].type].apply(null,P[Tt].matches),Q[ut]){for(nt=++Tt;nt<ct&&!u.relative[P[nt].type];nt++);return Ff(Tt>1&&Zf(zt),Tt>1&&Tl(P.slice(0,Tt-1).concat({value:P[Tt-2].type===" "?"*":""})).replace(X,"$1"),Q,Tt<nt&&Wf(P.slice(Tt,nt)),nt<ct&&Wf(P=P.slice(nt)),nt<ct&&Tl(P))}zt.push(Q)}return Zf(zt)}function yb(P,G){var Q=G.length>0,nt=P.length>0,ct=function(bt,xt,Tt,St,ne){var zt,Vt,re,Et=0,Ee="0",Xi=bt&&[],yi=[],yn=g,Vn=bt||nt&&u.find.TAG("*",ne),Eo=tt+=yn==null?1:Math.random()||.1,Di=Vn.length;for(ne&&(g=xt==S||xt||ne);Ee!==Di&&(zt=Vn[Ee])!=null;Ee++){if(nt&&zt){for(Vt=0,!xt&&zt.ownerDocument!=S&&(Ir(zt),Tt=!O);re=P[Vt++];)if(re(zt,xt||S,Tt)){b.call(St,zt);break}ne&&(tt=Eo)}Q&&((zt=!re&&zt)&&Et--,bt&&Xi.push(zt))}if(Et+=Ee,Q&&Ee!==Et){for(Vt=0;re=G[Vt++];)re(Xi,yi,xt,Tt);if(bt){if(Et>0)for(;Ee--;)Xi[Ee]||yi[Ee]||(yi[Ee]=_.call(St));yi=Pl(yi)}b.apply(St,yi),ne&&!bt&&yi.length>0&&Et+G.length>1&&p.uniqueSort(St)}return ne&&(tt=Eo,g=yn),Xi};return Q?Pn(ct):ct}function Vf(P,G){var Q,nt=[],ct=[],bt=Qt[P+" "];if(!bt){for(G||(G=Ks(P)),Q=G.length;Q--;)bt=Wf(G[Q]),bt[ut]?nt.push(bt):ct.push(bt);bt=Qt(P,yb(ct,nt)),bt.selector=P}return bt}function Qp(P,G,Q,nt){var ct,bt,xt,Tt,St,ne=typeof P=="function"&&P,zt=!nt&&Ks(P=ne.selector||P);if(Q=Q||[],zt.length===1){if(bt=zt[0]=zt[0].slice(0),bt.length>2&&(xt=bt[0]).type==="ID"&&G.nodeType===9&&O&&u.relative[bt[1].type]){if(G=(u.find.ID(xt.matches[0].replace($n,tr),G)||[])[0],G)ne&&(G=G.parentNode);else return Q;P=P.slice(bt.shift().value.length)}for(ct=Wn.needsContext.test(P)?0:bt.length;ct--&&(xt=bt[ct],!u.relative[Tt=xt.type]);)if((St=u.find[Tt])&&(nt=St(xt.matches[0].replace($n,tr),Bf.test(bt[0].type)&&Gf(G.parentNode)||G))){if(bt.splice(ct,1),P=nt.length&&Tl(bt),!P)return b.apply(Q,nt),Q;break}}return(ne||Vf(P,zt))(nt,G,!O,Q,!G||Bf.test(P)&&Gf(G.parentNode)||G),Q}w.sortStable=ut.split("").sort(ti).join("")===ut,Ir(),w.sortDetached=ko(function(P){return P.compareDocumentPosition(S.createElement("fieldset"))&1}),p.find=Se,p.expr[":"]=p.expr.pseudos,p.unique=p.uniqueSort,Se.compile=Vf,Se.select=Qp,Se.setDocument=Ir,Se.tokenize=Ks,Se.escape=p.escapeSelector,Se.getText=p.text,Se.isXML=p.isXMLDoc,Se.selectors=p.expr,Se.support=p.support,Se.uniqueSort=p.uniqueSort})();var J=function(a,u,g){for(var m=[],I=g!==void 0;(a=a[u])&&a.nodeType!==9;)if(a.nodeType===1){if(I&&p(a).is(g))break;m.push(a)}return m},q=function(a,u){for(var g=[];a;a=a.nextSibling)a.nodeType===1&&a!==u&&g.push(a);return g},Ot=p.expr.match.needsContext,Dt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ie(a,u,g){return x(u)?p.grep(a,function(m,I){return!!u.call(m,I,m)!==g}):u.nodeType?p.grep(a,function(m){return m===u!==g}):typeof u!="string"?p.grep(a,function(m){return l.call(u,m)>-1!==g}):p.filter(u,a,g)}p.filter=function(a,u,g){var m=u[0];return g&&(a=":not("+a+")"),u.length===1&&m.nodeType===1?p.find.matchesSelector(m,a)?[m]:[]:p.find.matches(a,p.grep(u,function(I){return I.nodeType===1}))},p.fn.extend({find:function(a){var u,g,m=this.length,I=this;if(typeof a!="string")return this.pushStack(p(a).filter(function(){for(u=0;u<m;u++)if(p.contains(I[u],this))return!0}));for(g=this.pushStack([]),u=0;u<m;u++)p.find(a,I[u],g);return m>1?p.uniqueSort(g):g},filter:function(a){return this.pushStack(Ie(this,a||[],!1))},not:function(a){return this.pushStack(Ie(this,a||[],!0))},is:function(a){return!!Ie(this,typeof a=="string"&&Ot.test(a)?p(a):a||[],!1).length}});var Te,Mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Pt=p.fn.init=function(a,u,g){var m,I;if(!a)return this;if(g=g||Te,typeof a=="string")if(a[0]==="<"&&a[a.length-1]===">"&&a.length>=3?m=[null,a,null]:m=Mt.exec(a),m&&(m[1]||!u))if(m[1]){if(u=u instanceof p?u[0]:u,p.merge(this,p.parseHTML(m[1],u&&u.nodeType?u.ownerDocument||u:T,!0)),Dt.test(m[1])&&p.isPlainObject(u))for(m in u)x(this[m])?this[m](u[m]):this.attr(m,u[m]);return this}else return I=T.getElementById(m[2]),I&&(this[0]=I,this.length=1),this;else return!u||u.jquery?(u||g).find(a):this.constructor(u).find(a);else{if(a.nodeType)return this[0]=a,this.length=1,this;if(x(a))return g.ready!==void 0?g.ready(a):a(p)}return p.makeArray(a,this)};Pt.prototype=p.fn,Te=p(T);var st=/^(?:parents|prev(?:Until|All))/,ot={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(a){var u=p(a,this),g=u.length;return this.filter(function(){for(var m=0;m<g;m++)if(p.contains(this,u[m]))return!0})},closest:function(a,u){var g,m=0,I=this.length,b=[],S=typeof a!="string"&&p(a);if(!Ot.test(a)){for(;m<I;m++)for(g=this[m];g&&g!==u;g=g.parentNode)if(g.nodeType<11&&(S?S.index(g)>-1:g.nodeType===1&&p.find.matchesSelector(g,a))){b.push(g);break}}return this.pushStack(b.length>1?p.uniqueSort(b):b)},index:function(a){return a?typeof a=="string"?l.call(p(a),this[0]):l.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,u){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(a,u))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}});function mt(a,u){for(;(a=a[u])&&a.nodeType!==1;);return a}p.each({parent:function(a){var u=a.parentNode;return u&&u.nodeType!==11?u:null},parents:function(a){return J(a,"parentNode")},parentsUntil:function(a,u,g){return J(a,"parentNode",g)},next:function(a){return mt(a,"nextSibling")},prev:function(a){return mt(a,"previousSibling")},nextAll:function(a){return J(a,"nextSibling")},prevAll:function(a){return J(a,"previousSibling")},nextUntil:function(a,u,g){return J(a,"nextSibling",g)},prevUntil:function(a,u,g){return J(a,"previousSibling",g)},siblings:function(a){return q((a.parentNode||{}).firstChild,a)},children:function(a){return q(a.firstChild)},contents:function(a){return a.contentDocument!=null&&n(a.contentDocument)?a.contentDocument:(A(a,"template")&&(a=a.content||a),p.merge([],a.childNodes))}},function(a,u){p.fn[a]=function(g,m){var I=p.map(this,u,g);return a.slice(-5)!=="Until"&&(m=g),m&&typeof m=="string"&&(I=p.filter(m,I)),this.length>1&&(ot[a]||p.uniqueSort(I),st.test(a)&&I.reverse()),this.pushStack(I)}});var Wt=/[^\x20\t\r\n\f]+/g;function se(a){var u={};return p.each(a.match(Wt)||[],function(g,m){u[m]=!0}),u}p.Callbacks=function(a){a=typeof a=="string"?se(a):p.extend({},a);var u,g,m,I,b=[],S=[],R=-1,O=function(){for(I=I||a.once,m=u=!0;S.length;R=-1)for(g=S.shift();++R<b.length;)b[R].apply(g[0],g[1])===!1&&a.stopOnFalse&&(R=b.length,g=!1);a.memory||(g=!1),u=!1,I&&(g?b=[]:b="")},V={add:function(){return b&&(g&&!u&&(R=b.length-1,S.push(g)),(function rt(ut){p.each(ut,function(tt,pt){x(pt)?(!a.unique||!V.has(pt))&&b.push(pt):pt&&pt.length&&K(pt)!=="string"&&rt(pt)})})(arguments),g&&!u&&O()),this},remove:function(){return p.each(arguments,function(rt,ut){for(var tt;(tt=p.inArray(ut,b,tt))>-1;)b.splice(tt,1),tt<=R&&R--}),this},has:function(rt){return rt?p.inArray(rt,b)>-1:b.length>0},empty:function(){return b&&(b=[]),this},disable:function(){return I=S=[],b=g="",this},disabled:function(){return!b},lock:function(){return I=S=[],!g&&!u&&(b=g=""),this},locked:function(){return!!I},fireWith:function(rt,ut){return I||(ut=ut||[],ut=[rt,ut.slice?ut.slice():ut],S.push(ut),u||O()),this},fire:function(){return V.fireWith(this,arguments),this},fired:function(){return!!m}};return V};function kt(a){return a}function ge(a){throw a}function C(a,u,g,m){var I;try{a&&x(I=a.promise)?I.call(a).done(u).fail(g):a&&x(I=a.then)?I.call(a,u,g):u.apply(void 0,[a].slice(m))}catch(b){g.apply(void 0,[b])}}p.extend({Deferred:function(a){var u=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],g="pending",m={state:function(){return g},always:function(){return I.done(arguments).fail(arguments),this},catch:function(b){return m.then(null,b)},pipe:function(){var b=arguments;return p.Deferred(function(S){p.each(u,function(R,O){var V=x(b[O[4]])&&b[O[4]];I[O[1]](function(){var rt=V&&V.apply(this,arguments);rt&&x(rt.promise)?rt.promise().progress(S.notify).done(S.resolve).fail(S.reject):S[O[0]+"With"](this,V?[rt]:arguments)})}),b=null}).promise()},then:function(b,S,R){var O=0;function V(rt,ut,tt,pt){return function(){var Zt=this,pe=arguments,Qt=function(){var ti,Gn;if(!(rt<O)){if(ti=tt.apply(Zt,pe),ti===ut.promise())throw new TypeError("Thenable self-resolution");Gn=ti&&(typeof ti=="object"||typeof ti=="function")&&ti.then,x(Gn)?pt?Gn.call(ti,V(O,ut,kt,pt),V(O,ut,ge,pt)):(O++,Gn.call(ti,V(O,ut,kt,pt),V(O,ut,ge,pt),V(O,ut,kt,ut.notifyWith))):(tt!==kt&&(Zt=void 0,pe=[ti]),(pt||ut.resolveWith)(Zt,pe))}},ci=pt?Qt:function(){try{Qt()}catch(ti){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(ti,ci.error),rt+1>=O&&(tt!==ge&&(Zt=void 0,pe=[ti]),ut.rejectWith(Zt,pe))}};rt?ci():(p.Deferred.getErrorHook?ci.error=p.Deferred.getErrorHook():p.Deferred.getStackHook&&(ci.error=p.Deferred.getStackHook()),t.setTimeout(ci))}}return p.Deferred(function(rt){u[0][3].add(V(0,rt,x(R)?R:kt,rt.notifyWith)),u[1][3].add(V(0,rt,x(b)?b:kt)),u[2][3].add(V(0,rt,x(S)?S:ge))}).promise()},promise:function(b){return b!=null?p.extend(b,m):m}},I={};return p.each(u,function(b,S){var R=S[2],O=S[5];m[S[1]]=R.add,O&&R.add(function(){g=O},u[3-b][2].disable,u[3-b][3].disable,u[0][2].lock,u[0][3].lock),R.add(S[3].fire),I[S[0]]=function(){return I[S[0]+"With"](this===I?void 0:this,arguments),this},I[S[0]+"With"]=R.fireWith}),m.promise(I),a&&a.call(I,I),I},when:function(a){var u=arguments.length,g=u,m=Array(g),I=r.call(arguments),b=p.Deferred(),S=function(R){return function(O){m[R]=this,I[R]=arguments.length>1?r.call(arguments):O,--u||b.resolveWith(m,I)}};if(u<=1&&(C(a,b.done(S(g)).resolve,b.reject,!u),b.state()==="pending"||x(I[g]&&I[g].then)))return b.then();for(;g--;)C(I[g],S(g),b.reject);return b.promise()}});var M=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(a,u){t.console&&t.console.warn&&a&&M.test(a.name)&&t.console.warn("jQuery.Deferred exception: "+a.message,a.stack,u)},p.readyException=function(a){t.setTimeout(function(){throw a})};var k=p.Deferred();p.fn.ready=function(a){return k.then(a).catch(function(u){p.readyException(u)}),this},p.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--p.readyWait:p.isReady)||(p.isReady=!0,!(a!==!0&&--p.readyWait>0)&&k.resolveWith(T,[p]))}}),p.ready.then=k.then;function j(){T.removeEventListener("DOMContentLoaded",j),t.removeEventListener("load",j),p.ready()}T.readyState==="complete"||T.readyState!=="loading"&&!T.documentElement.doScroll?t.setTimeout(p.ready):(T.addEventListener("DOMContentLoaded",j),t.addEventListener("load",j));var Z=function(a,u,g,m,I,b,S){var R=0,O=a.length,V=g==null;if(K(g)==="object"){I=!0;for(R in g)Z(a,u,R,g[R],!0,b,S)}else if(m!==void 0&&(I=!0,x(m)||(S=!0),V&&(S?(u.call(a,m),u=null):(V=u,u=function(rt,ut,tt){return V.call(p(rt),tt)})),u))for(;R<O;R++)u(a[R],g,S?m:m.call(a[R],R,u(a[R],g)));return I?a:V?u.call(a):O?u(a[0],g):b},at=/^-ms-/,At=/-([a-z])/g;function Lt(a,u){return u.toUpperCase()}function ee(a){return a.replace(at,"ms-").replace(At,Lt)}var Ge=function(a){return a.nodeType===1||a.nodeType===9||!+a.nodeType};function Ze(){this.expando=p.expando+Ze.uid++}Ze.uid=1,Ze.prototype={cache:function(a){var u=a[this.expando];return u||(u={},Ge(a)&&(a.nodeType?a[this.expando]=u:Object.defineProperty(a,this.expando,{value:u,configurable:!0}))),u},set:function(a,u,g){var m,I=this.cache(a);if(typeof u=="string")I[ee(u)]=g;else for(m in u)I[ee(m)]=u[m];return I},get:function(a,u){return u===void 0?this.cache(a):a[this.expando]&&a[this.expando][ee(u)]},access:function(a,u,g){return u===void 0||u&&typeof u=="string"&&g===void 0?this.get(a,u):(this.set(a,u,g),g!==void 0?g:u)},remove:function(a,u){var g,m=a[this.expando];if(m!==void 0){if(u!==void 0)for(Array.isArray(u)?u=u.map(ee):(u=ee(u),u=u in m?[u]:u.match(Wt)||[]),g=u.length;g--;)delete m[u[g]];(u===void 0||p.isEmptyObject(m))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var u=a[this.expando];return u!==void 0&&!p.isEmptyObject(u)}};var Ct=new Ze,ye=new Ze,De=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Re=/[A-Z]/g;function je(a){return a==="true"?!0:a==="false"?!1:a==="null"?null:a===+a+""?+a:De.test(a)?JSON.parse(a):a}function qe(a,u,g){var m;if(g===void 0&&a.nodeType===1)if(m="data-"+u.replace(Re,"-$&").toLowerCase(),g=a.getAttribute(m),typeof g=="string"){try{g=je(g)}catch{}ye.set(a,u,g)}else g=void 0;return g}p.extend({hasData:function(a){return ye.hasData(a)||Ct.hasData(a)},data:function(a,u,g){return ye.access(a,u,g)},removeData:function(a,u){ye.remove(a,u)},_data:function(a,u,g){return Ct.access(a,u,g)},_removeData:function(a,u){Ct.remove(a,u)}}),p.fn.extend({data:function(a,u){var g,m,I,b=this[0],S=b&&b.attributes;if(a===void 0){if(this.length&&(I=ye.get(b),b.nodeType===1&&!Ct.get(b,"hasDataAttrs"))){for(g=S.length;g--;)S[g]&&(m=S[g].name,m.indexOf("data-")===0&&(m=ee(m.slice(5)),qe(b,m,I[m])));Ct.set(b,"hasDataAttrs",!0)}return I}return typeof a=="object"?this.each(function(){ye.set(this,a)}):Z(this,function(R){var O;if(b&&R===void 0)return O=ye.get(b,a),O!==void 0||(O=qe(b,a),O!==void 0)?O:void 0;this.each(function(){ye.set(this,a,R)})},null,u,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){ye.remove(this,a)})}}),p.extend({queue:function(a,u,g){var m;if(a)return u=(u||"fx")+"queue",m=Ct.get(a,u),g&&(!m||Array.isArray(g)?m=Ct.access(a,u,p.makeArray(g)):m.push(g)),m||[]},dequeue:function(a,u){u=u||"fx";var g=p.queue(a,u),m=g.length,I=g.shift(),b=p._queueHooks(a,u),S=function(){p.dequeue(a,u)};I==="inprogress"&&(I=g.shift(),m--),I&&(u==="fx"&&g.unshift("inprogress"),delete b.stop,I.call(a,S,b)),!m&&b&&b.empty.fire()},_queueHooks:function(a,u){var g=u+"queueHooks";return Ct.get(a,g)||Ct.access(a,g,{empty:p.Callbacks("once memory").add(function(){Ct.remove(a,[u+"queue",g])})})}}),p.fn.extend({queue:function(a,u){var g=2;return typeof a!="string"&&(u=a,a="fx",g--),arguments.length<g?p.queue(this[0],a):u===void 0?this:this.each(function(){var m=p.queue(this,a,u);p._queueHooks(this,a),a==="fx"&&m[0]!=="inprogress"&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,u){var g,m=1,I=p.Deferred(),b=this,S=this.length,R=function(){--m||I.resolveWith(b,[b])};for(typeof a!="string"&&(u=a,a=void 0),a=a||"fx";S--;)g=Ct.get(b[S],a+"queueHooks"),g&&g.empty&&(m++,g.empty.add(R));return R(),I.promise(u)}});var Ti=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nn=new RegExp("^(?:([+-])=|)("+Ti+")([a-z%]*)$","i"),Vi=["Top","Right","Bottom","Left"],Tn=T.documentElement,Bn=function(a){return p.contains(a.ownerDocument,a)},Gs={composed:!0};Tn.getRootNode&&(Bn=function(a){return p.contains(a.ownerDocument,a)||a.getRootNode(Gs)===a.ownerDocument});var Fr=function(a,u){return a=u||a,a.style.display==="none"||a.style.display===""&&Bn(a)&&p.css(a,"display")==="none"};function Zs(a,u,g,m){var I,b,S=20,R=m?function(){return m.cur()}:function(){return p.css(a,u,"")},O=R(),V=g&&g[3]||(p.cssNumber[u]?"":"px"),rt=a.nodeType&&(p.cssNumber[u]||V!=="px"&&+O)&&Nn.exec(p.css(a,u));if(rt&&rt[3]!==V){for(O=O/2,V=V||rt[3],rt=+O||1;S--;)p.style(a,u,rt+V),(1-b)*(1-(b=R()/O||.5))<=0&&(S=0),rt=rt/b;rt=rt*2,p.style(a,u,rt+V),g=g||[]}return g&&(rt=+rt||+O||0,I=g[1]?rt+(g[1]+1)*g[2]:+g[2],m&&(m.unit=V,m.start=rt,m.end=I)),I}var Fs={};function wl(a){var u,g=a.ownerDocument,m=a.nodeName,I=Fs[m];return I||(u=g.body.appendChild(g.createElement(m)),I=p.css(u,"display"),u.parentNode.removeChild(u),I==="none"&&(I="block"),Fs[m]=I,I)}function on(a,u){for(var g,m,I=[],b=0,S=a.length;b<S;b++)m=a[b],m.style&&(g=m.style.display,u?(g==="none"&&(I[b]=Ct.get(m,"display")||null,I[b]||(m.style.display="")),m.style.display===""&&Fr(m)&&(I[b]=wl(m))):g!=="none"&&(I[b]="none",Ct.set(m,"display",g)));for(b=0;b<S;b++)I[b]!=null&&(a[b].style.display=I[b]);return a}p.fn.extend({show:function(){return on(this,!0)},hide:function(){return on(this)},toggle:function(a){return typeof a=="boolean"?a?this.show():this.hide():this.each(function(){Fr(this)?p(this).show():p(this).hide()})}});var mr=/^(?:checkbox|radio)$/i,Ws=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Vs=/^$|^module$|\/(?:java|ecma)script/i;(function(){var a=T.createDocumentFragment(),u=a.appendChild(T.createElement("div")),g=T.createElement("input");g.setAttribute("type","radio"),g.setAttribute("checked","checked"),g.setAttribute("name","t"),u.appendChild(g),w.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,u.innerHTML="<textarea>x</textarea>",w.noCloneChecked=!!u.cloneNode(!0).lastChild.defaultValue,u.innerHTML="<option></option>",w.option=!!u.lastChild})();var Yi={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Yi.tbody=Yi.tfoot=Yi.colgroup=Yi.caption=Yi.thead,Yi.th=Yi.td,w.option||(Yi.optgroup=Yi.option=[1,"<select multiple='multiple'>","</select>"]);function He(a,u){var g;return typeof a.getElementsByTagName<"u"?g=a.getElementsByTagName(u||"*"):typeof a.querySelectorAll<"u"?g=a.querySelectorAll(u||"*"):g=[],u===void 0||u&&A(a,u)?p.merge([a],g):g}function xf(a,u){for(var g=0,m=a.length;g<m;g++)Ct.set(a[g],"globalEval",!u||Ct.get(u[g],"globalEval"))}var kC=/<|&#?\w+;/;function wp(a,u,g,m,I){for(var b,S,R,O,V,rt,ut=u.createDocumentFragment(),tt=[],pt=0,Zt=a.length;pt<Zt;pt++)if(b=a[pt],b||b===0)if(K(b)==="object")p.merge(tt,b.nodeType?[b]:b);else if(!kC.test(b))tt.push(u.createTextNode(b));else{for(S=S||ut.appendChild(u.createElement("div")),R=(Ws.exec(b)||["",""])[1].toLowerCase(),O=Yi[R]||Yi._default,S.innerHTML=O[1]+p.htmlPrefilter(b)+O[2],rt=O[0];rt--;)S=S.lastChild;p.merge(tt,S.childNodes),S=ut.firstChild,S.textContent=""}for(ut.textContent="",pt=0;b=tt[pt++];){if(m&&p.inArray(b,m)>-1){I&&I.push(b);continue}if(V=Bn(b),S=He(ut.appendChild(b),"script"),V&&xf(S),g)for(rt=0;b=S[rt++];)Vs.test(b.type||"")&&g.push(b)}return ut}var xp=/^([^.]*)(?:\.(.+)|)/;function No(){return!0}function To(){return!1}function Sf(a,u,g,m,I,b){var S,R;if(typeof u=="object"){typeof g!="string"&&(m=m||g,g=void 0);for(R in u)Sf(a,R,g,m,u[R],b);return a}if(m==null&&I==null?(I=g,m=g=void 0):I==null&&(typeof g=="string"?(I=m,m=void 0):(I=m,m=g,g=void 0)),I===!1)I=To;else if(!I)return a;return b===1&&(S=I,I=function(O){return p().off(O),S.apply(this,arguments)},I.guid=S.guid||(S.guid=p.guid++)),a.each(function(){p.event.add(this,u,I,m,g)})}p.event={global:{},add:function(a,u,g,m,I){var b,S,R,O,V,rt,ut,tt,pt,Zt,pe,Qt=Ct.get(a);if(Ge(a))for(g.handler&&(b=g,g=b.handler,I=b.selector),I&&p.find.matchesSelector(Tn,I),g.guid||(g.guid=p.guid++),(O=Qt.events)||(O=Qt.events=Object.create(null)),(S=Qt.handle)||(S=Qt.handle=function(ci){return typeof p<"u"&&p.event.triggered!==ci.type?p.event.dispatch.apply(a,arguments):void 0}),u=(u||"").match(Wt)||[""],V=u.length;V--;)R=xp.exec(u[V])||[],pt=pe=R[1],Zt=(R[2]||"").split(".").sort(),pt&&(ut=p.event.special[pt]||{},pt=(I?ut.delegateType:ut.bindType)||pt,ut=p.event.special[pt]||{},rt=p.extend({type:pt,origType:pe,data:m,handler:g,guid:g.guid,selector:I,needsContext:I&&p.expr.match.needsContext.test(I),namespace:Zt.join(".")},b),(tt=O[pt])||(tt=O[pt]=[],tt.delegateCount=0,(!ut.setup||ut.setup.call(a,m,Zt,S)===!1)&&a.addEventListener&&a.addEventListener(pt,S)),ut.add&&(ut.add.call(a,rt),rt.handler.guid||(rt.handler.guid=g.guid)),I?tt.splice(tt.delegateCount++,0,rt):tt.push(rt),p.event.global[pt]=!0)},remove:function(a,u,g,m,I){var b,S,R,O,V,rt,ut,tt,pt,Zt,pe,Qt=Ct.hasData(a)&&Ct.get(a);if(!(!Qt||!(O=Qt.events))){for(u=(u||"").match(Wt)||[""],V=u.length;V--;){if(R=xp.exec(u[V])||[],pt=pe=R[1],Zt=(R[2]||"").split(".").sort(),!pt){for(pt in O)p.event.remove(a,pt+u[V],g,m,!0);continue}for(ut=p.event.special[pt]||{},pt=(m?ut.delegateType:ut.bindType)||pt,tt=O[pt]||[],R=R[2]&&new RegExp("(^|\\.)"+Zt.join("\\.(?:.*\\.|)")+"(\\.|$)"),S=b=tt.length;b--;)rt=tt[b],(I||pe===rt.origType)&&(!g||g.guid===rt.guid)&&(!R||R.test(rt.namespace))&&(!m||m===rt.selector||m==="**"&&rt.selector)&&(tt.splice(b,1),rt.selector&&tt.delegateCount--,ut.remove&&ut.remove.call(a,rt));S&&!tt.length&&((!ut.teardown||ut.teardown.call(a,Zt,Qt.handle)===!1)&&p.removeEvent(a,pt,Qt.handle),delete O[pt])}p.isEmptyObject(O)&&Ct.remove(a,"handle events")}},dispatch:function(a){var u,g,m,I,b,S,R=new Array(arguments.length),O=p.event.fix(a),V=(Ct.get(this,"events")||Object.create(null))[O.type]||[],rt=p.event.special[O.type]||{};for(R[0]=O,u=1;u<arguments.length;u++)R[u]=arguments[u];if(O.delegateTarget=this,!(rt.preDispatch&&rt.preDispatch.call(this,O)===!1)){for(S=p.event.handlers.call(this,O,V),u=0;(I=S[u++])&&!O.isPropagationStopped();)for(O.currentTarget=I.elem,g=0;(b=I.handlers[g++])&&!O.isImmediatePropagationStopped();)(!O.rnamespace||b.namespace===!1||O.rnamespace.test(b.namespace))&&(O.handleObj=b,O.data=b.data,m=((p.event.special[b.origType]||{}).handle||b.handler).apply(I.elem,R),m!==void 0&&(O.result=m)===!1&&(O.preventDefault(),O.stopPropagation()));return rt.postDispatch&&rt.postDispatch.call(this,O),O.result}},handlers:function(a,u){var g,m,I,b,S,R=[],O=u.delegateCount,V=a.target;if(O&&V.nodeType&&!(a.type==="click"&&a.button>=1)){for(;V!==this;V=V.parentNode||this)if(V.nodeType===1&&!(a.type==="click"&&V.disabled===!0)){for(b=[],S={},g=0;g<O;g++)m=u[g],I=m.selector+" ",S[I]===void 0&&(S[I]=m.needsContext?p(I,this).index(V)>-1:p.find(I,this,null,[V]).length),S[I]&&b.push(m);b.length&&R.push({elem:V,handlers:b})}}return V=this,O<u.length&&R.push({elem:V,handlers:u.slice(O)}),R},addProp:function(a,u){Object.defineProperty(p.Event.prototype,a,{enumerable:!0,configurable:!0,get:x(u)?function(){if(this.originalEvent)return u(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(g){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:g})}})},fix:function(a){return a[p.expando]?a:new p.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){var u=this||a;return mr.test(u.type)&&u.click&&A(u,"input")&&xl(u,"click",!0),!1},trigger:function(a){var u=this||a;return mr.test(u.type)&&u.click&&A(u,"input")&&xl(u,"click"),!0},_default:function(a){var u=a.target;return mr.test(u.type)&&u.click&&A(u,"input")&&Ct.get(u,"click")||A(u,"a")}},beforeunload:{postDispatch:function(a){a.result!==void 0&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};function xl(a,u,g){if(!g){Ct.get(a,u)===void 0&&p.event.add(a,u,No);return}Ct.set(a,u,!1),p.event.add(a,u,{namespace:!1,handler:function(m){var I,b=Ct.get(this,u);if(m.isTrigger&1&&this[u]){if(b)(p.event.special[u]||{}).delegateType&&m.stopPropagation();else if(b=r.call(arguments),Ct.set(this,u,b),this[u](),I=Ct.get(this,u),Ct.set(this,u,!1),b!==I)return m.stopImmediatePropagation(),m.preventDefault(),I}else b&&(Ct.set(this,u,p.event.trigger(b[0],b.slice(1),this)),m.stopPropagation(),m.isImmediatePropagationStopped=No)}})}p.removeEvent=function(a,u,g){a.removeEventListener&&a.removeEventListener(u,g)},p.Event=function(a,u){if(!(this instanceof p.Event))return new p.Event(a,u);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===void 0&&a.returnValue===!1?No:To,this.target=a.target&&a.target.nodeType===3?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,u&&p.extend(this,u),this.timeStamp=a&&a.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:To,isPropagationStopped:To,isImmediatePropagationStopped:To,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=No,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=No,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=No,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(a,u){function g(m){if(T.documentMode){var I=Ct.get(this,"handle"),b=p.event.fix(m);b.type=m.type==="focusin"?"focus":"blur",b.isSimulated=!0,I(m),b.target===b.currentTarget&&I(b)}else p.event.simulate(u,m.target,p.event.fix(m))}p.event.special[a]={setup:function(){var m;if(xl(this,a,!0),T.documentMode)m=Ct.get(this,u),m||this.addEventListener(u,g),Ct.set(this,u,(m||0)+1);else return!1},trigger:function(){return xl(this,a),!0},teardown:function(){var m;if(T.documentMode)m=Ct.get(this,u)-1,m?Ct.set(this,u,m):(this.removeEventListener(u,g),Ct.remove(this,u));else return!1},_default:function(m){return Ct.get(m.target,a)},delegateType:u},p.event.special[u]={setup:function(){var m=this.ownerDocument||this.document||this,I=T.documentMode?this:m,b=Ct.get(I,u);b||(T.documentMode?this.addEventListener(u,g):m.addEventListener(a,g,!0)),Ct.set(I,u,(b||0)+1)},teardown:function(){var m=this.ownerDocument||this.document||this,I=T.documentMode?this:m,b=Ct.get(I,u)-1;b?Ct.set(I,u,b):(T.documentMode?this.removeEventListener(u,g):m.removeEventListener(a,g,!0),Ct.remove(I,u))}}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,u){p.event.special[a]={delegateType:u,bindType:u,handle:function(g){var m,I=this,b=g.relatedTarget,S=g.handleObj;return(!b||b!==I&&!p.contains(I,b))&&(g.type=S.origType,m=S.handler.apply(this,arguments),g.type=u),m}}}),p.fn.extend({on:function(a,u,g,m){return Sf(this,a,u,g,m)},one:function(a,u,g,m){return Sf(this,a,u,g,m,1)},off:function(a,u,g){var m,I;if(a&&a.preventDefault&&a.handleObj)return m=a.handleObj,p(a.delegateTarget).off(m.namespace?m.origType+"."+m.namespace:m.origType,m.selector,m.handler),this;if(typeof a=="object"){for(I in a)this.off(I,u,a[I]);return this}return(u===!1||typeof u=="function")&&(g=u,u=void 0),g===!1&&(g=To),this.each(function(){p.event.remove(this,a,g,u)})}});var EC=/<script|<style|<link/i,OC=/checked\s*(?:[^=]|=\s*.checked.)/i,LC=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Sp(a,u){return A(a,"table")&&A(u.nodeType!==11?u:u.firstChild,"tr")&&p(a).children("tbody")[0]||a}function RC(a){return a.type=(a.getAttribute("type")!==null)+"/"+a.type,a}function jC(a){return(a.type||"").slice(0,5)==="true/"?a.type=a.type.slice(5):a.removeAttribute("type"),a}function _p(a,u){var g,m,I,b,S,R,O;if(u.nodeType===1){if(Ct.hasData(a)&&(b=Ct.get(a),O=b.events,O)){Ct.remove(u,"handle events");for(I in O)for(g=0,m=O[I].length;g<m;g++)p.event.add(u,I,O[I][g])}ye.hasData(a)&&(S=ye.access(a),R=p.extend({},S),ye.set(u,R))}}function zC(a,u){var g=u.nodeName.toLowerCase();g==="input"&&mr.test(a.type)?u.checked=a.checked:(g==="input"||g==="textarea")&&(u.defaultValue=a.defaultValue)}function Do(a,u,g,m){u=o(u);var I,b,S,R,O,V,rt=0,ut=a.length,tt=ut-1,pt=u[0],Zt=x(pt);if(Zt||ut>1&&typeof pt=="string"&&!w.checkClone&&OC.test(pt))return a.each(function(pe){var Qt=a.eq(pe);Zt&&(u[0]=pt.call(this,pe,Qt.html())),Do(Qt,u,g,m)});if(ut&&(I=wp(u,a[0].ownerDocument,!1,a,m),b=I.firstChild,I.childNodes.length===1&&(I=b),b||m)){for(S=p.map(He(I,"script"),RC),R=S.length;rt<ut;rt++)O=I,rt!==tt&&(O=p.clone(O,!0,!0),R&&p.merge(S,He(O,"script"))),g.call(a[rt],O,rt);if(R)for(V=S[S.length-1].ownerDocument,p.map(S,jC),rt=0;rt<R;rt++)O=S[rt],Vs.test(O.type||"")&&!Ct.access(O,"globalEval")&&p.contains(V,O)&&(O.src&&(O.type||"").toLowerCase()!=="module"?p._evalUrl&&!O.noModule&&p._evalUrl(O.src,{nonce:O.nonce||O.getAttribute("nonce")},V):Y(O.textContent.replace(LC,""),O,V))}return a}function Mp(a,u,g){for(var m,I=u?p.filter(u,a):a,b=0;(m=I[b])!=null;b++)!g&&m.nodeType===1&&p.cleanData(He(m)),m.parentNode&&(g&&Bn(m)&&xf(He(m,"script")),m.parentNode.removeChild(m));return a}p.extend({htmlPrefilter:function(a){return a},clone:function(a,u,g){var m,I,b,S,R=a.cloneNode(!0),O=Bn(a);if(!w.noCloneChecked&&(a.nodeType===1||a.nodeType===11)&&!p.isXMLDoc(a))for(S=He(R),b=He(a),m=0,I=b.length;m<I;m++)zC(b[m],S[m]);if(u)if(g)for(b=b||He(a),S=S||He(R),m=0,I=b.length;m<I;m++)_p(b[m],S[m]);else _p(a,R);return S=He(R,"script"),S.length>0&&xf(S,!O&&He(a,"script")),R},cleanData:function(a){for(var u,g,m,I=p.event.special,b=0;(g=a[b])!==void 0;b++)if(Ge(g)){if(u=g[Ct.expando]){if(u.events)for(m in u.events)I[m]?p.event.remove(g,m):p.removeEvent(g,m,u.handle);g[Ct.expando]=void 0}g[ye.expando]&&(g[ye.expando]=void 0)}}}),p.fn.extend({detach:function(a){return Mp(this,a,!0)},remove:function(a){return Mp(this,a)},text:function(a){return Z(this,function(u){return u===void 0?p.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=u)})},null,a,arguments.length)},append:function(){return Do(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var u=Sp(this,a);u.appendChild(a)}})},prepend:function(){return Do(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var u=Sp(this,a);u.insertBefore(a,u.firstChild)}})},before:function(){return Do(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Do(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,u=0;(a=this[u])!=null;u++)a.nodeType===1&&(p.cleanData(He(a,!1)),a.textContent="");return this},clone:function(a,u){return a=a??!1,u=u??a,this.map(function(){return p.clone(this,a,u)})},html:function(a){return Z(this,function(u){var g=this[0]||{},m=0,I=this.length;if(u===void 0&&g.nodeType===1)return g.innerHTML;if(typeof u=="string"&&!EC.test(u)&&!Yi[(Ws.exec(u)||["",""])[1].toLowerCase()]){u=p.htmlPrefilter(u);try{for(;m<I;m++)g=this[m]||{},g.nodeType===1&&(p.cleanData(He(g,!1)),g.innerHTML=u);g=0}catch{}}g&&this.empty().append(u)},null,a,arguments.length)},replaceWith:function(){var a=[];return Do(this,arguments,function(u){var g=this.parentNode;p.inArray(this,a)<0&&(p.cleanData(He(this)),g&&g.replaceChild(u,this))},a)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,u){p.fn[a]=function(g){for(var m,I=[],b=p(g),S=b.length-1,R=0;R<=S;R++)m=R===S?this:this.clone(!0),p(b[R])[u](m),s.apply(I,m.get());return this.pushStack(I)}});var _f=new RegExp("^("+Ti+")(?!px)[a-z%]+$","i"),Mf=/^--/,Sl=function(a){var u=a.ownerDocument.defaultView;return(!u||!u.opener)&&(u=t),u.getComputedStyle(a)},Np=function(a,u,g){var m,I,b={};for(I in u)b[I]=a.style[I],a.style[I]=u[I];m=g.call(a);for(I in u)a.style[I]=b[I];return m},BC=new RegExp(Vi.join("|"),"i");(function(){function a(){if(V){O.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",V.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Tn.appendChild(O).appendChild(V);var rt=t.getComputedStyle(V);g=rt.top!=="1%",R=u(rt.marginLeft)===12,V.style.right="60%",b=u(rt.right)===36,m=u(rt.width)===36,V.style.position="absolute",I=u(V.offsetWidth/3)===12,Tn.removeChild(O),V=null}}function u(rt){return Math.round(parseFloat(rt))}var g,m,I,b,S,R,O=T.createElement("div"),V=T.createElement("div");V.style&&(V.style.backgroundClip="content-box",V.cloneNode(!0).style.backgroundClip="",w.clearCloneStyle=V.style.backgroundClip==="content-box",p.extend(w,{boxSizingReliable:function(){return a(),m},pixelBoxStyles:function(){return a(),b},pixelPosition:function(){return a(),g},reliableMarginLeft:function(){return a(),R},scrollboxSize:function(){return a(),I},reliableTrDimensions:function(){var rt,ut,tt,pt;return S==null&&(rt=T.createElement("table"),ut=T.createElement("tr"),tt=T.createElement("div"),rt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ut.style.cssText="box-sizing:content-box;border:1px solid",ut.style.height="1px",tt.style.height="9px",tt.style.display="block",Tn.appendChild(rt).appendChild(ut).appendChild(tt),pt=t.getComputedStyle(ut),S=parseInt(pt.height,10)+parseInt(pt.borderTopWidth,10)+parseInt(pt.borderBottomWidth,10)===ut.offsetHeight,Tn.removeChild(rt)),S}}))})();function Ys(a,u,g){var m,I,b,S,R=Mf.test(u),O=a.style;return g=g||Sl(a),g&&(S=g.getPropertyValue(u)||g[u],R&&S&&(S=S.replace(X,"$1")||void 0),S===""&&!Bn(a)&&(S=p.style(a,u)),!w.pixelBoxStyles()&&_f.test(S)&&BC.test(u)&&(m=O.width,I=O.minWidth,b=O.maxWidth,O.minWidth=O.maxWidth=O.width=S,S=g.width,O.width=m,O.minWidth=I,O.maxWidth=b)),S!==void 0?S+"":S}function Tp(a,u){return{get:function(){if(a()){delete this.get;return}return(this.get=u).apply(this,arguments)}}}var Dp=["Webkit","Moz","ms"],Pp=T.createElement("div").style,kp={};function GC(a){for(var u=a[0].toUpperCase()+a.slice(1),g=Dp.length;g--;)if(a=Dp[g]+u,a in Pp)return a}function Nf(a){var u=p.cssProps[a]||kp[a];return u||(a in Pp?a:kp[a]=GC(a)||a)}var ZC=/^(none|table(?!-c[ea]).+)/,FC={position:"absolute",visibility:"hidden",display:"block"},Ep={letterSpacing:"0",fontWeight:"400"};function Op(a,u,g){var m=Nn.exec(u);return m?Math.max(0,m[2]-(g||0))+(m[3]||"px"):u}function Tf(a,u,g,m,I,b){var S=u==="width"?1:0,R=0,O=0,V=0;if(g===(m?"border":"content"))return 0;for(;S<4;S+=2)g==="margin"&&(V+=p.css(a,g+Vi[S],!0,I)),m?(g==="content"&&(O-=p.css(a,"padding"+Vi[S],!0,I)),g!=="margin"&&(O-=p.css(a,"border"+Vi[S]+"Width",!0,I))):(O+=p.css(a,"padding"+Vi[S],!0,I),g!=="padding"?O+=p.css(a,"border"+Vi[S]+"Width",!0,I):R+=p.css(a,"border"+Vi[S]+"Width",!0,I));return!m&&b>=0&&(O+=Math.max(0,Math.ceil(a["offset"+u[0].toUpperCase()+u.slice(1)]-b-O-R-.5))||0),O+V}function Lp(a,u,g){var m=Sl(a),I=!w.boxSizingReliable()||g,b=I&&p.css(a,"boxSizing",!1,m)==="border-box",S=b,R=Ys(a,u,m),O="offset"+u[0].toUpperCase()+u.slice(1);if(_f.test(R)){if(!g)return R;R="auto"}return(!w.boxSizingReliable()&&b||!w.reliableTrDimensions()&&A(a,"tr")||R==="auto"||!parseFloat(R)&&p.css(a,"display",!1,m)==="inline")&&a.getClientRects().length&&(b=p.css(a,"boxSizing",!1,m)==="border-box",S=O in a,S&&(R=a[O])),R=parseFloat(R)||0,R+Tf(a,u,g||(b?"border":"content"),S,m,R)+"px"}p.extend({cssHooks:{opacity:{get:function(a,u){if(u){var g=Ys(a,"opacity");return g===""?"1":g}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(a,u,g,m){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var I,b,S,R=ee(u),O=Mf.test(u),V=a.style;if(O||(u=Nf(R)),S=p.cssHooks[u]||p.cssHooks[R],g!==void 0){if(b=typeof g,b==="string"&&(I=Nn.exec(g))&&I[1]&&(g=Zs(a,u,I),b="number"),g==null||g!==g)return;b==="number"&&!O&&(g+=I&&I[3]||(p.cssNumber[R]?"":"px")),!w.clearCloneStyle&&g===""&&u.indexOf("background")===0&&(V[u]="inherit"),(!S||!("set"in S)||(g=S.set(a,g,m))!==void 0)&&(O?V.setProperty(u,g):V[u]=g)}else return S&&"get"in S&&(I=S.get(a,!1,m))!==void 0?I:V[u]}},css:function(a,u,g,m){var I,b,S,R=ee(u),O=Mf.test(u);return O||(u=Nf(R)),S=p.cssHooks[u]||p.cssHooks[R],S&&"get"in S&&(I=S.get(a,!0,g)),I===void 0&&(I=Ys(a,u,m)),I==="normal"&&u in Ep&&(I=Ep[u]),g===""||g?(b=parseFloat(I),g===!0||isFinite(b)?b||0:I):I}}),p.each(["height","width"],function(a,u){p.cssHooks[u]={get:function(g,m,I){if(m)return ZC.test(p.css(g,"display"))&&(!g.getClientRects().length||!g.getBoundingClientRect().width)?Np(g,FC,function(){return Lp(g,u,I)}):Lp(g,u,I)},set:function(g,m,I){var b,S=Sl(g),R=!w.scrollboxSize()&&S.position==="absolute",O=R||I,V=O&&p.css(g,"boxSizing",!1,S)==="border-box",rt=I?Tf(g,u,I,V,S):0;return V&&R&&(rt-=Math.ceil(g["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(S[u])-Tf(g,u,"border",!1,S)-.5)),rt&&(b=Nn.exec(m))&&(b[3]||"px")!=="px"&&(g.style[u]=m,m=p.css(g,u)),Op(g,m,rt)}}}),p.cssHooks.marginLeft=Tp(w.reliableMarginLeft,function(a,u){if(u)return(parseFloat(Ys(a,"marginLeft"))||a.getBoundingClientRect().left-Np(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(a,u){p.cssHooks[a+u]={expand:function(g){for(var m=0,I={},b=typeof g=="string"?g.split(" "):[g];m<4;m++)I[a+Vi[m]+u]=b[m]||b[m-2]||b[0];return I}},a!=="margin"&&(p.cssHooks[a+u].set=Op)}),p.fn.extend({css:function(a,u){return Z(this,function(g,m,I){var b,S,R={},O=0;if(Array.isArray(m)){for(b=Sl(g),S=m.length;O<S;O++)R[m[O]]=p.css(g,m[O],!1,b);return R}return I!==void 0?p.style(g,m,I):p.css(g,m)},a,u,arguments.length>1)}});function Ui(a,u,g,m,I){return new Ui.prototype.init(a,u,g,m,I)}p.Tween=Ui,Ui.prototype={constructor:Ui,init:function(a,u,g,m,I,b){this.elem=a,this.prop=g,this.easing=I||p.easing._default,this.options=u,this.start=this.now=this.cur(),this.end=m,this.unit=b||(p.cssNumber[g]?"":"px")},cur:function(){var a=Ui.propHooks[this.prop];return a&&a.get?a.get(this):Ui.propHooks._default.get(this)},run:function(a){var u,g=Ui.propHooks[this.prop];return this.options.duration?this.pos=u=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=u=a,this.now=(this.end-this.start)*u+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):Ui.propHooks._default.set(this),this}},Ui.prototype.init.prototype=Ui.prototype,Ui.propHooks={_default:{get:function(a){var u;return a.elem.nodeType!==1||a.elem[a.prop]!=null&&a.elem.style[a.prop]==null?a.elem[a.prop]:(u=p.css(a.elem,a.prop,""),!u||u==="auto"?0:u)},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.nodeType===1&&(p.cssHooks[a.prop]||a.elem.style[Nf(a.prop)]!=null)?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ui.propHooks.scrollTop=Ui.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.easing={linear:function(a){return a},swing:function(a){return .5-Math.cos(a*Math.PI)/2},_default:"swing"},p.fx=Ui.prototype.init,p.fx.step={};var Po,_l,WC=/^(?:toggle|show|hide)$/,VC=/queueHooks$/;function Df(){_l&&(T.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Df):t.setTimeout(Df,p.fx.interval),p.fx.tick())}function Rp(){return t.setTimeout(function(){Po=void 0}),Po=Date.now()}function Ml(a,u){var g,m=0,I={height:a};for(u=u?1:0;m<4;m+=2-u)g=Vi[m],I["margin"+g]=I["padding"+g]=a;return u&&(I.opacity=I.width=a),I}function jp(a,u,g){for(var m,I=(Dn.tweeners[u]||[]).concat(Dn.tweeners["*"]),b=0,S=I.length;b<S;b++)if(m=I[b].call(g,u,a))return m}function YC(a,u,g){var m,I,b,S,R,O,V,rt,ut="width"in u||"height"in u,tt=this,pt={},Zt=a.style,pe=a.nodeType&&Fr(a),Qt=Ct.get(a,"fxshow");g.queue||(S=p._queueHooks(a,"fx"),S.unqueued==null&&(S.unqueued=0,R=S.empty.fire,S.empty.fire=function(){S.unqueued||R()}),S.unqueued++,tt.always(function(){tt.always(function(){S.unqueued--,p.queue(a,"fx").length||S.empty.fire()})}));for(m in u)if(I=u[m],WC.test(I)){if(delete u[m],b=b||I==="toggle",I===(pe?"hide":"show"))if(I==="show"&&Qt&&Qt[m]!==void 0)pe=!0;else continue;pt[m]=Qt&&Qt[m]||p.style(a,m)}if(O=!p.isEmptyObject(u),!(!O&&p.isEmptyObject(pt))){ut&&a.nodeType===1&&(g.overflow=[Zt.overflow,Zt.overflowX,Zt.overflowY],V=Qt&&Qt.display,V==null&&(V=Ct.get(a,"display")),rt=p.css(a,"display"),rt==="none"&&(V?rt=V:(on([a],!0),V=a.style.display||V,rt=p.css(a,"display"),on([a]))),(rt==="inline"||rt==="inline-block"&&V!=null)&&p.css(a,"float")==="none"&&(O||(tt.done(function(){Zt.display=V}),V==null&&(rt=Zt.display,V=rt==="none"?"":rt)),Zt.display="inline-block")),g.overflow&&(Zt.overflow="hidden",tt.always(function(){Zt.overflow=g.overflow[0],Zt.overflowX=g.overflow[1],Zt.overflowY=g.overflow[2]})),O=!1;for(m in pt)O||(Qt?"hidden"in Qt&&(pe=Qt.hidden):Qt=Ct.access(a,"fxshow",{display:V}),b&&(Qt.hidden=!pe),pe&&on([a],!0),tt.done(function(){pe||on([a]),Ct.remove(a,"fxshow");for(m in pt)p.style(a,m,pt[m])})),O=jp(pe?Qt[m]:0,m,tt),m in Qt||(Qt[m]=O.start,pe&&(O.end=O.start,O.start=0))}}function UC(a,u){var g,m,I,b,S;for(g in a)if(m=ee(g),I=u[m],b=a[g],Array.isArray(b)&&(I=b[1],b=a[g]=b[0]),g!==m&&(a[m]=b,delete a[g]),S=p.cssHooks[m],S&&"expand"in S){b=S.expand(b),delete a[m];for(g in b)g in a||(a[g]=b[g],u[g]=I)}else u[m]=I}function Dn(a,u,g){var m,I,b=0,S=Dn.prefilters.length,R=p.Deferred().always(function(){delete O.elem}),O=function(){if(I)return!1;for(var ut=Po||Rp(),tt=Math.max(0,V.startTime+V.duration-ut),pt=tt/V.duration||0,Zt=1-pt,pe=0,Qt=V.tweens.length;pe<Qt;pe++)V.tweens[pe].run(Zt);return R.notifyWith(a,[V,Zt,tt]),Zt<1&&Qt?tt:(Qt||R.notifyWith(a,[V,1,0]),R.resolveWith(a,[V]),!1)},V=R.promise({elem:a,props:p.extend({},u),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},g),originalProperties:u,originalOptions:g,startTime:Po||Rp(),duration:g.duration,tweens:[],createTween:function(ut,tt){var pt=p.Tween(a,V.opts,ut,tt,V.opts.specialEasing[ut]||V.opts.easing);return V.tweens.push(pt),pt},stop:function(ut){var tt=0,pt=ut?V.tweens.length:0;if(I)return this;for(I=!0;tt<pt;tt++)V.tweens[tt].run(1);return ut?(R.notifyWith(a,[V,1,0]),R.resolveWith(a,[V,ut])):R.rejectWith(a,[V,ut]),this}}),rt=V.props;for(UC(rt,V.opts.specialEasing);b<S;b++)if(m=Dn.prefilters[b].call(V,a,rt,V.opts),m)return x(m.stop)&&(p._queueHooks(V.elem,V.opts.queue).stop=m.stop.bind(m)),m;return p.map(rt,jp,V),x(V.opts.start)&&V.opts.start.call(a,V),V.progress(V.opts.progress).done(V.opts.done,V.opts.complete).fail(V.opts.fail).always(V.opts.always),p.fx.timer(p.extend(O,{elem:a,anim:V,queue:V.opts.queue})),V}p.Animation=p.extend(Dn,{tweeners:{"*":[function(a,u){var g=this.createTween(a,u);return Zs(g.elem,a,Nn.exec(u),g),g}]},tweener:function(a,u){x(a)?(u=a,a=["*"]):a=a.match(Wt);for(var g,m=0,I=a.length;m<I;m++)g=a[m],Dn.tweeners[g]=Dn.tweeners[g]||[],Dn.tweeners[g].unshift(u)},prefilters:[YC],prefilter:function(a,u){u?Dn.prefilters.unshift(a):Dn.prefilters.push(a)}}),p.speed=function(a,u,g){var m=a&&typeof a=="object"?p.extend({},a):{complete:g||!g&&u||x(a)&&a,duration:a,easing:g&&u||u&&!x(u)&&u};return p.fx.off?m.duration=0:typeof m.duration!="number"&&(m.duration in p.fx.speeds?m.duration=p.fx.speeds[m.duration]:m.duration=p.fx.speeds._default),(m.queue==null||m.queue===!0)&&(m.queue="fx"),m.old=m.complete,m.complete=function(){x(m.old)&&m.old.call(this),m.queue&&p.dequeue(this,m.queue)},m},p.fn.extend({fadeTo:function(a,u,g,m){return this.filter(Fr).css("opacity",0).show().end().animate({opacity:u},a,g,m)},animate:function(a,u,g,m){var I=p.isEmptyObject(a),b=p.speed(u,g,m),S=function(){var R=Dn(this,p.extend({},a),b);(I||Ct.get(this,"finish"))&&R.stop(!0)};return S.finish=S,I||b.queue===!1?this.each(S):this.queue(b.queue,S)},stop:function(a,u,g){var m=function(I){var b=I.stop;delete I.stop,b(g)};return typeof a!="string"&&(g=u,u=a,a=void 0),u&&this.queue(a||"fx",[]),this.each(function(){var I=!0,b=a!=null&&a+"queueHooks",S=p.timers,R=Ct.get(this);if(b)R[b]&&R[b].stop&&m(R[b]);else for(b in R)R[b]&&R[b].stop&&VC.test(b)&&m(R[b]);for(b=S.length;b--;)S[b].elem===this&&(a==null||S[b].queue===a)&&(S[b].anim.stop(g),I=!1,S.splice(b,1));(I||!g)&&p.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var u,g=Ct.get(this),m=g[a+"queue"],I=g[a+"queueHooks"],b=p.timers,S=m?m.length:0;for(g.finish=!0,p.queue(this,a,[]),I&&I.stop&&I.stop.call(this,!0),u=b.length;u--;)b[u].elem===this&&b[u].queue===a&&(b[u].anim.stop(!0),b.splice(u,1));for(u=0;u<S;u++)m[u]&&m[u].finish&&m[u].finish.call(this);delete g.finish})}}),p.each(["toggle","show","hide"],function(a,u){var g=p.fn[u];p.fn[u]=function(m,I,b){return m==null||typeof m=="boolean"?g.apply(this,arguments):this.animate(Ml(u,!0),m,I,b)}}),p.each({slideDown:Ml("show"),slideUp:Ml("hide"),slideToggle:Ml("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,u){p.fn[a]=function(g,m,I){return this.animate(u,g,m,I)}}),p.timers=[],p.fx.tick=function(){var a,u=0,g=p.timers;for(Po=Date.now();u<g.length;u++)a=g[u],!a()&&g[u]===a&&g.splice(u--,1);g.length||p.fx.stop(),Po=void 0},p.fx.timer=function(a){p.timers.push(a),p.fx.start()},p.fx.interval=13,p.fx.start=function(){_l||(_l=!0,Df())},p.fx.stop=function(){_l=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(a,u){return a=p.fx&&p.fx.speeds[a]||a,u=u||"fx",this.queue(u,function(g,m){var I=t.setTimeout(g,a);m.stop=function(){t.clearTimeout(I)}})},(function(){var a=T.createElement("input"),u=T.createElement("select"),g=u.appendChild(T.createElement("option"));a.type="checkbox",w.checkOn=a.value!=="",w.optSelected=g.selected,a=T.createElement("input"),a.value="t",a.type="radio",w.radioValue=a.value==="t"})();var zp,Us=p.expr.attrHandle;p.fn.extend({attr:function(a,u){return Z(this,p.attr,a,u,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})}}),p.extend({attr:function(a,u,g){var m,I,b=a.nodeType;if(!(b===3||b===8||b===2)){if(typeof a.getAttribute>"u")return p.prop(a,u,g);if((b!==1||!p.isXMLDoc(a))&&(I=p.attrHooks[u.toLowerCase()]||(p.expr.match.bool.test(u)?zp:void 0)),g!==void 0){if(g===null){p.removeAttr(a,u);return}return I&&"set"in I&&(m=I.set(a,g,u))!==void 0?m:(a.setAttribute(u,g+""),g)}return I&&"get"in I&&(m=I.get(a,u))!==null?m:(m=p.find.attr(a,u),m??void 0)}},attrHooks:{type:{set:function(a,u){if(!w.radioValue&&u==="radio"&&A(a,"input")){var g=a.value;return a.setAttribute("type",u),g&&(a.value=g),u}}}},removeAttr:function(a,u){var g,m=0,I=u&&u.match(Wt);if(I&&a.nodeType===1)for(;g=I[m++];)a.removeAttribute(g)}}),zp={set:function(a,u,g){return u===!1?p.removeAttr(a,g):a.setAttribute(g,g),g}},p.each(p.expr.match.bool.source.match(/\w+/g),function(a,u){var g=Us[u]||p.find.attr;Us[u]=function(m,I,b){var S,R,O=I.toLowerCase();return b||(R=Us[O],Us[O]=S,S=g(m,I,b)!=null?O:null,Us[O]=R),S}});var XC=/^(?:input|select|textarea|button)$/i,HC=/^(?:a|area)$/i;p.fn.extend({prop:function(a,u){return Z(this,p.prop,a,u,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[p.propFix[a]||a]})}}),p.extend({prop:function(a,u,g){var m,I,b=a.nodeType;if(!(b===3||b===8||b===2))return(b!==1||!p.isXMLDoc(a))&&(u=p.propFix[u]||u,I=p.propHooks[u]),g!==void 0?I&&"set"in I&&(m=I.set(a,g,u))!==void 0?m:a[u]=g:I&&"get"in I&&(m=I.get(a,u))!==null?m:a[u]},propHooks:{tabIndex:{get:function(a){var u=p.find.attr(a,"tabindex");return u?parseInt(u,10):XC.test(a.nodeName)||HC.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),w.optSelected||(p.propHooks.selected={get:function(a){var u=a.parentNode;return u&&u.parentNode&&u.parentNode.selectedIndex,null},set:function(a){var u=a.parentNode;u&&(u.selectedIndex,u.parentNode&&u.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});function Wr(a){var u=a.match(Wt)||[];return u.join(" ")}function Vr(a){return a.getAttribute&&a.getAttribute("class")||""}function Pf(a){return Array.isArray(a)?a:typeof a=="string"?a.match(Wt)||[]:[]}p.fn.extend({addClass:function(a){var u,g,m,I,b,S;return x(a)?this.each(function(R){p(this).addClass(a.call(this,R,Vr(this)))}):(u=Pf(a),u.length?this.each(function(){if(m=Vr(this),g=this.nodeType===1&&" "+Wr(m)+" ",g){for(b=0;b<u.length;b++)I=u[b],g.indexOf(" "+I+" ")<0&&(g+=I+" ");S=Wr(g),m!==S&&this.setAttribute("class",S)}}):this)},removeClass:function(a){var u,g,m,I,b,S;return x(a)?this.each(function(R){p(this).removeClass(a.call(this,R,Vr(this)))}):arguments.length?(u=Pf(a),u.length?this.each(function(){if(m=Vr(this),g=this.nodeType===1&&" "+Wr(m)+" ",g){for(b=0;b<u.length;b++)for(I=u[b];g.indexOf(" "+I+" ")>-1;)g=g.replace(" "+I+" "," ");S=Wr(g),m!==S&&this.setAttribute("class",S)}}):this):this.attr("class","")},toggleClass:function(a,u){var g,m,I,b,S=typeof a,R=S==="string"||Array.isArray(a);return x(a)?this.each(function(O){p(this).toggleClass(a.call(this,O,Vr(this),u),u)}):typeof u=="boolean"&&R?u?this.addClass(a):this.removeClass(a):(g=Pf(a),this.each(function(){if(R)for(b=p(this),I=0;I<g.length;I++)m=g[I],b.hasClass(m)?b.removeClass(m):b.addClass(m);else(a===void 0||S==="boolean")&&(m=Vr(this),m&&Ct.set(this,"__className__",m),this.setAttribute&&this.setAttribute("class",m||a===!1?"":Ct.get(this,"__className__")||""))}))},hasClass:function(a){var u,g,m=0;for(u=" "+a+" ";g=this[m++];)if(g.nodeType===1&&(" "+Wr(Vr(g))+" ").indexOf(u)>-1)return!0;return!1}});var JC=/\r/g;p.fn.extend({val:function(a){var u,g,m,I=this[0];return arguments.length?(m=x(a),this.each(function(b){var S;this.nodeType===1&&(m?S=a.call(this,b,p(this).val()):S=a,S==null?S="":typeof S=="number"?S+="":Array.isArray(S)&&(S=p.map(S,function(R){return R==null?"":R+""})),u=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],(!u||!("set"in u)||u.set(this,S,"value")===void 0)&&(this.value=S))})):I?(u=p.valHooks[I.type]||p.valHooks[I.nodeName.toLowerCase()],u&&"get"in u&&(g=u.get(I,"value"))!==void 0?g:(g=I.value,typeof g=="string"?g.replace(JC,""):g??"")):void 0}}),p.extend({valHooks:{option:{get:function(a){var u=p.find.attr(a,"value");return u??Wr(p.text(a))}},select:{get:function(a){var u,g,m,I=a.options,b=a.selectedIndex,S=a.type==="select-one",R=S?null:[],O=S?b+1:I.length;for(b<0?m=O:m=S?b:0;m<O;m++)if(g=I[m],(g.selected||m===b)&&!g.disabled&&(!g.parentNode.disabled||!A(g.parentNode,"optgroup"))){if(u=p(g).val(),S)return u;R.push(u)}return R},set:function(a,u){for(var g,m,I=a.options,b=p.makeArray(u),S=I.length;S--;)m=I[S],(m.selected=p.inArray(p.valHooks.option.get(m),b)>-1)&&(g=!0);return g||(a.selectedIndex=-1),b}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(a,u){if(Array.isArray(u))return a.checked=p.inArray(p(a).val(),u)>-1}},w.checkOn||(p.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value})});var Xs=t.location,Bp={guid:Date.now()},kf=/\?/;p.parseXML=function(a){var u,g;if(!a||typeof a!="string")return null;try{u=new t.DOMParser().parseFromString(a,"text/xml")}catch{}return g=u&&u.getElementsByTagName("parsererror")[0],(!u||g)&&p.error("Invalid XML: "+(g?p.map(g.childNodes,function(m){return m.textContent}).join(`
`):a)),u};var Gp=/^(?:focusinfocus|focusoutblur)$/,Zp=function(a){a.stopPropagation()};p.extend(p.event,{trigger:function(a,u,g,m){var I,b,S,R,O,V,rt,ut,tt=[g||T],pt=h.call(a,"type")?a.type:a,Zt=h.call(a,"namespace")?a.namespace.split("."):[];if(b=ut=S=g=g||T,!(g.nodeType===3||g.nodeType===8)&&!Gp.test(pt+p.event.triggered)&&(pt.indexOf(".")>-1&&(Zt=pt.split("."),pt=Zt.shift(),Zt.sort()),O=pt.indexOf(":")<0&&"on"+pt,a=a[p.expando]?a:new p.Event(pt,typeof a=="object"&&a),a.isTrigger=m?2:3,a.namespace=Zt.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+Zt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=g),u=u==null?[a]:p.makeArray(u,[a]),rt=p.event.special[pt]||{},!(!m&&rt.trigger&&rt.trigger.apply(g,u)===!1))){if(!m&&!rt.noBubble&&!N(g)){for(R=rt.delegateType||pt,Gp.test(R+pt)||(b=b.parentNode);b;b=b.parentNode)tt.push(b),S=b;S===(g.ownerDocument||T)&&tt.push(S.defaultView||S.parentWindow||t)}for(I=0;(b=tt[I++])&&!a.isPropagationStopped();)ut=b,a.type=I>1?R:rt.bindType||pt,V=(Ct.get(b,"events")||Object.create(null))[a.type]&&Ct.get(b,"handle"),V&&V.apply(b,u),V=O&&b[O],V&&V.apply&&Ge(b)&&(a.result=V.apply(b,u),a.result===!1&&a.preventDefault());return a.type=pt,!m&&!a.isDefaultPrevented()&&(!rt._default||rt._default.apply(tt.pop(),u)===!1)&&Ge(g)&&O&&x(g[pt])&&!N(g)&&(S=g[O],S&&(g[O]=null),p.event.triggered=pt,a.isPropagationStopped()&&ut.addEventListener(pt,Zp),g[pt](),a.isPropagationStopped()&&ut.removeEventListener(pt,Zp),p.event.triggered=void 0,S&&(g[O]=S)),a.result}},simulate:function(a,u,g){var m=p.extend(new p.Event,g,{type:a,isSimulated:!0});p.event.trigger(m,null,u)}}),p.fn.extend({trigger:function(a,u){return this.each(function(){p.event.trigger(a,u,this)})},triggerHandler:function(a,u){var g=this[0];if(g)return p.event.trigger(a,u,g,!0)}});var QC=/\[\]$/,Fp=/\r?\n/g,KC=/^(?:submit|button|image|reset|file)$/i,qC=/^(?:input|select|textarea|keygen)/i;function Ef(a,u,g,m){var I;if(Array.isArray(u))p.each(u,function(b,S){g||QC.test(a)?m(a,S):Ef(a+"["+(typeof S=="object"&&S!=null?b:"")+"]",S,g,m)});else if(!g&&K(u)==="object")for(I in u)Ef(a+"["+I+"]",u[I],g,m);else m(a,u)}p.param=function(a,u){var g,m=[],I=function(b,S){var R=x(S)?S():S;m[m.length]=encodeURIComponent(b)+"="+encodeURIComponent(R??"")};if(a==null)return"";if(Array.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){I(this.name,this.value)});else for(g in a)Ef(g,a[g],u,I);return m.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=p.prop(this,"elements");return a?p.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!p(this).is(":disabled")&&qC.test(this.nodeName)&&!KC.test(a)&&(this.checked||!mr.test(a))}).map(function(a,u){var g=p(this).val();return g==null?null:Array.isArray(g)?p.map(g,function(m){return{name:u.name,value:m.replace(Fp,`\r
`)}}):{name:u.name,value:g.replace(Fp,`\r
`)}}).get()}});var $C=/%20/g,tb=/#.*$/,eb=/([?&])_=[^&]*/,ib=/^(.*?):[ \t]*([^\r\n]*)$/mg,nb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rb=/^(?:GET|HEAD)$/,ob=/^\/\//,Wp={},Of={},Vp="*/".concat("*"),Lf=T.createElement("a");Lf.href=Xs.href;function Yp(a){return function(u,g){typeof u!="string"&&(g=u,u="*");var m,I=0,b=u.toLowerCase().match(Wt)||[];if(x(g))for(;m=b[I++];)m[0]==="+"?(m=m.slice(1)||"*",(a[m]=a[m]||[]).unshift(g)):(a[m]=a[m]||[]).push(g)}}function Up(a,u,g,m){var I={},b=a===Of;function S(R){var O;return I[R]=!0,p.each(a[R]||[],function(V,rt){var ut=rt(u,g,m);if(typeof ut=="string"&&!b&&!I[ut])return u.dataTypes.unshift(ut),S(ut),!1;if(b)return!(O=ut)}),O}return S(u.dataTypes[0])||!I["*"]&&S("*")}function Rf(a,u){var g,m,I=p.ajaxSettings.flatOptions||{};for(g in u)u[g]!==void 0&&((I[g]?a:m||(m={}))[g]=u[g]);return m&&p.extend(!0,a,m),a}function sb(a,u,g){for(var m,I,b,S,R=a.contents,O=a.dataTypes;O[0]==="*";)O.shift(),m===void 0&&(m=a.mimeType||u.getResponseHeader("Content-Type"));if(m){for(I in R)if(R[I]&&R[I].test(m)){O.unshift(I);break}}if(O[0]in g)b=O[0];else{for(I in g){if(!O[0]||a.converters[I+" "+O[0]]){b=I;break}S||(S=I)}b=b||S}if(b)return b!==O[0]&&O.unshift(b),g[b]}function ab(a,u,g,m){var I,b,S,R,O,V={},rt=a.dataTypes.slice();if(rt[1])for(S in a.converters)V[S.toLowerCase()]=a.converters[S];for(b=rt.shift();b;)if(a.responseFields[b]&&(g[a.responseFields[b]]=u),!O&&m&&a.dataFilter&&(u=a.dataFilter(u,a.dataType)),O=b,b=rt.shift(),b){if(b==="*")b=O;else if(O!=="*"&&O!==b){if(S=V[O+" "+b]||V["* "+b],!S){for(I in V)if(R=I.split(" "),R[1]===b&&(S=V[O+" "+R[0]]||V["* "+R[0]],S)){S===!0?S=V[I]:V[I]!==!0&&(b=R[0],rt.unshift(R[1]));break}}if(S!==!0)if(S&&a.throws)u=S(u);else try{u=S(u)}catch(ut){return{state:"parsererror",error:S?ut:"No conversion from "+O+" to "+b}}}}return{state:"success",data:u}}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Xs.href,type:"GET",isLocal:nb.test(Xs.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vp,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,u){return u?Rf(Rf(a,p.ajaxSettings),u):Rf(p.ajaxSettings,a)},ajaxPrefilter:Yp(Wp),ajaxTransport:Yp(Of),ajax:function(a,u){typeof a=="object"&&(u=a,a=void 0),u=u||{};var g,m,I,b,S,R,O,V,rt,ut,tt=p.ajaxSetup({},u),pt=tt.context||tt,Zt=tt.context&&(pt.nodeType||pt.jquery)?p(pt):p.event,pe=p.Deferred(),Qt=p.Callbacks("once memory"),ci=tt.statusCode||{},ti={},Gn={},Zn="canceled",ae={readyState:0,getResponseHeader:function(me){var Qe;if(O){if(!b)for(b={};Qe=ib.exec(I);)b[Qe[1].toLowerCase()+" "]=(b[Qe[1].toLowerCase()+" "]||[]).concat(Qe[2]);Qe=b[me.toLowerCase()+" "]}return Qe==null?null:Qe.join(", ")},getAllResponseHeaders:function(){return O?I:null},setRequestHeader:function(me,Qe){return O==null&&(me=Gn[me.toLowerCase()]=Gn[me.toLowerCase()]||me,ti[me]=Qe),this},overrideMimeType:function(me){return O==null&&(tt.mimeType=me),this},statusCode:function(me){var Qe;if(me)if(O)ae.always(me[ae.status]);else for(Qe in me)ci[Qe]=[ci[Qe],me[Qe]];return this},abort:function(me){var Qe=me||Zn;return g&&g.abort(Qe),Yr(0,Qe),this}};if(pe.promise(ae),tt.url=((a||tt.url||Xs.href)+"").replace(ob,Xs.protocol+"//"),tt.type=u.method||u.type||tt.method||tt.type,tt.dataTypes=(tt.dataType||"*").toLowerCase().match(Wt)||[""],tt.crossDomain==null){R=T.createElement("a");try{R.href=tt.url,R.href=R.href,tt.crossDomain=Lf.protocol+"//"+Lf.host!=R.protocol+"//"+R.host}catch{tt.crossDomain=!0}}if(tt.data&&tt.processData&&typeof tt.data!="string"&&(tt.data=p.param(tt.data,tt.traditional)),Up(Wp,tt,u,ae),O)return ae;V=p.event&&tt.global,V&&p.active++===0&&p.event.trigger("ajaxStart"),tt.type=tt.type.toUpperCase(),tt.hasContent=!rb.test(tt.type),m=tt.url.replace(tb,""),tt.hasContent?tt.data&&tt.processData&&(tt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(tt.data=tt.data.replace($C,"+")):(ut=tt.url.slice(m.length),tt.data&&(tt.processData||typeof tt.data=="string")&&(m+=(kf.test(m)?"&":"?")+tt.data,delete tt.data),tt.cache===!1&&(m=m.replace(eb,"$1"),ut=(kf.test(m)?"&":"?")+"_="+Bp.guid+++ut),tt.url=m+ut),tt.ifModified&&(p.lastModified[m]&&ae.setRequestHeader("If-Modified-Since",p.lastModified[m]),p.etag[m]&&ae.setRequestHeader("If-None-Match",p.etag[m])),(tt.data&&tt.hasContent&&tt.contentType!==!1||u.contentType)&&ae.setRequestHeader("Content-Type",tt.contentType),ae.setRequestHeader("Accept",tt.dataTypes[0]&&tt.accepts[tt.dataTypes[0]]?tt.accepts[tt.dataTypes[0]]+(tt.dataTypes[0]!=="*"?", "+Vp+"; q=0.01":""):tt.accepts["*"]);for(rt in tt.headers)ae.setRequestHeader(rt,tt.headers[rt]);if(tt.beforeSend&&(tt.beforeSend.call(pt,ae,tt)===!1||O))return ae.abort();if(Zn="abort",Qt.add(tt.complete),ae.done(tt.success),ae.fail(tt.error),g=Up(Of,tt,u,ae),!g)Yr(-1,"No Transport");else{if(ae.readyState=1,V&&Zt.trigger("ajaxSend",[ae,tt]),O)return ae;tt.async&&tt.timeout>0&&(S=t.setTimeout(function(){ae.abort("timeout")},tt.timeout));try{O=!1,g.send(ti,Yr)}catch(me){if(O)throw me;Yr(-1,me)}}function Yr(me,Qe,Js,zf){var Fn,Qs,Wn,vr,yr,vn=Qe;O||(O=!0,S&&t.clearTimeout(S),g=void 0,I=zf||"",ae.readyState=me>0?4:0,Fn=me>=200&&me<300||me===304,Js&&(vr=sb(tt,ae,Js)),!Fn&&p.inArray("script",tt.dataTypes)>-1&&p.inArray("json",tt.dataTypes)<0&&(tt.converters["text script"]=function(){}),vr=ab(tt,vr,ae,Fn),Fn?(tt.ifModified&&(yr=ae.getResponseHeader("Last-Modified"),yr&&(p.lastModified[m]=yr),yr=ae.getResponseHeader("etag"),yr&&(p.etag[m]=yr)),me===204||tt.type==="HEAD"?vn="nocontent":me===304?vn="notmodified":(vn=vr.state,Qs=vr.data,Wn=vr.error,Fn=!Wn)):(Wn=vn,(me||!vn)&&(vn="error",me<0&&(me=0))),ae.status=me,ae.statusText=(Qe||vn)+"",Fn?pe.resolveWith(pt,[Qs,vn,ae]):pe.rejectWith(pt,[ae,vn,Wn]),ae.statusCode(ci),ci=void 0,V&&Zt.trigger(Fn?"ajaxSuccess":"ajaxError",[ae,tt,Fn?Qs:Wn]),Qt.fireWith(pt,[ae,vn]),V&&(Zt.trigger("ajaxComplete",[ae,tt]),--p.active||p.event.trigger("ajaxStop")))}return ae},getJSON:function(a,u,g){return p.get(a,u,g,"json")},getScript:function(a,u){return p.get(a,void 0,u,"script")}}),p.each(["get","post"],function(a,u){p[u]=function(g,m,I,b){return x(m)&&(b=b||I,I=m,m=void 0),p.ajax(p.extend({url:g,type:u,dataType:b,data:m,success:I},p.isPlainObject(g)&&g))}}),p.ajaxPrefilter(function(a){var u;for(u in a.headers)u.toLowerCase()==="content-type"&&(a.contentType=a.headers[u]||"")}),p._evalUrl=function(a,u,g){return p.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(m){p.globalEval(m,u,g)}})},p.fn.extend({wrapAll:function(a){var u;return this[0]&&(x(a)&&(a=a.call(this[0])),u=p(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&u.insertBefore(this[0]),u.map(function(){for(var g=this;g.firstElementChild;)g=g.firstElementChild;return g}).append(this)),this},wrapInner:function(a){return x(a)?this.each(function(u){p(this).wrapInner(a.call(this,u))}):this.each(function(){var u=p(this),g=u.contents();g.length?g.wrapAll(a):u.append(a)})},wrap:function(a){var u=x(a);return this.each(function(g){p(this).wrapAll(u?a.call(this,g):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(a){return!p.expr.pseudos.visible(a)},p.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var lb={0:200,1223:204},Hs=p.ajaxSettings.xhr();w.cors=!!Hs&&"withCredentials"in Hs,w.ajax=Hs=!!Hs,p.ajaxTransport(function(a){var u,g;if(w.cors||Hs&&!a.crossDomain)return{send:function(m,I){var b,S=a.xhr();if(S.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(b in a.xhrFields)S[b]=a.xhrFields[b];a.mimeType&&S.overrideMimeType&&S.overrideMimeType(a.mimeType),!a.crossDomain&&!m["X-Requested-With"]&&(m["X-Requested-With"]="XMLHttpRequest");for(b in m)S.setRequestHeader(b,m[b]);u=function(R){return function(){u&&(u=g=S.onload=S.onerror=S.onabort=S.ontimeout=S.onreadystatechange=null,R==="abort"?S.abort():R==="error"?typeof S.status!="number"?I(0,"error"):I(S.status,S.statusText):I(lb[S.status]||S.status,S.statusText,(S.responseType||"text")!=="text"||typeof S.responseText!="string"?{binary:S.response}:{text:S.responseText},S.getAllResponseHeaders()))}},S.onload=u(),g=S.onerror=S.ontimeout=u("error"),S.onabort!==void 0?S.onabort=g:S.onreadystatechange=function(){S.readyState===4&&t.setTimeout(function(){u&&g()})},u=u("abort");try{S.send(a.hasContent&&a.data||null)}catch(R){if(u)throw R}},abort:function(){u&&u()}}}),p.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===void 0&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),p.ajaxTransport("script",function(a){if(a.crossDomain||a.scriptAttrs){var u,g;return{send:function(m,I){u=p("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",g=function(b){u.remove(),g=null,b&&I(b.type==="error"?404:200,b.type)}),T.head.appendChild(u[0])},abort:function(){g&&g()}}}});var Xp=[],jf=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Xp.pop()||p.expando+"_"+Bp.guid++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(a,u,g){var m,I,b,S=a.jsonp!==!1&&(jf.test(a.url)?"url":typeof a.data=="string"&&(a.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&jf.test(a.data)&&"data");if(S||a.dataTypes[0]==="jsonp")return m=a.jsonpCallback=x(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,S?a[S]=a[S].replace(jf,"$1"+m):a.jsonp!==!1&&(a.url+=(kf.test(a.url)?"&":"?")+a.jsonp+"="+m),a.converters["script json"]=function(){return b||p.error(m+" was not called"),b[0]},a.dataTypes[0]="json",I=t[m],t[m]=function(){b=arguments},g.always(function(){I===void 0?p(t).removeProp(m):t[m]=I,a[m]&&(a.jsonpCallback=u.jsonpCallback,Xp.push(m)),b&&x(I)&&I(b[0]),b=I=void 0}),"script"}),w.createHTMLDocument=(function(){var a=T.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",a.childNodes.length===2})(),p.parseHTML=function(a,u,g){if(typeof a!="string")return[];typeof u=="boolean"&&(g=u,u=!1);var m,I,b;return u||(w.createHTMLDocument?(u=T.implementation.createHTMLDocument(""),m=u.createElement("base"),m.href=T.location.href,u.head.appendChild(m)):u=T),I=Dt.exec(a),b=!g&&[],I?[u.createElement(I[1])]:(I=wp([a],u,b),b&&b.length&&p(b).remove(),p.merge([],I.childNodes))},p.fn.load=function(a,u,g){var m,I,b,S=this,R=a.indexOf(" ");return R>-1&&(m=Wr(a.slice(R)),a=a.slice(0,R)),x(u)?(g=u,u=void 0):u&&typeof u=="object"&&(I="POST"),S.length>0&&p.ajax({url:a,type:I||"GET",dataType:"html",data:u}).done(function(O){b=arguments,S.html(m?p("<div>").append(p.parseHTML(O)).find(m):O)}).always(g&&function(O,V){S.each(function(){g.apply(this,b||[O.responseText,V,O])})}),this},p.expr.pseudos.animated=function(a){return p.grep(p.timers,function(u){return a===u.elem}).length},p.offset={setOffset:function(a,u,g){var m,I,b,S,R,O,V,rt=p.css(a,"position"),ut=p(a),tt={};rt==="static"&&(a.style.position="relative"),R=ut.offset(),b=p.css(a,"top"),O=p.css(a,"left"),V=(rt==="absolute"||rt==="fixed")&&(b+O).indexOf("auto")>-1,V?(m=ut.position(),S=m.top,I=m.left):(S=parseFloat(b)||0,I=parseFloat(O)||0),x(u)&&(u=u.call(a,g,p.extend({},R))),u.top!=null&&(tt.top=u.top-R.top+S),u.left!=null&&(tt.left=u.left-R.left+I),"using"in u?u.using.call(a,tt):ut.css(tt)}},p.fn.extend({offset:function(a){if(arguments.length)return a===void 0?this:this.each(function(I){p.offset.setOffset(this,a,I)});var u,g,m=this[0];if(m)return m.getClientRects().length?(u=m.getBoundingClientRect(),g=m.ownerDocument.defaultView,{top:u.top+g.pageYOffset,left:u.left+g.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var a,u,g,m=this[0],I={top:0,left:0};if(p.css(m,"position")==="fixed")u=m.getBoundingClientRect();else{for(u=this.offset(),g=m.ownerDocument,a=m.offsetParent||g.documentElement;a&&(a===g.body||a===g.documentElement)&&p.css(a,"position")==="static";)a=a.parentNode;a&&a!==m&&a.nodeType===1&&(I=p(a).offset(),I.top+=p.css(a,"borderTopWidth",!0),I.left+=p.css(a,"borderLeftWidth",!0))}return{top:u.top-I.top-p.css(m,"marginTop",!0),left:u.left-I.left-p.css(m,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&p.css(a,"position")==="static";)a=a.offsetParent;return a||Tn})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,u){var g=u==="pageYOffset";p.fn[a]=function(m){return Z(this,function(I,b,S){var R;if(N(I)?R=I:I.nodeType===9&&(R=I.defaultView),S===void 0)return R?R[u]:I[b];R?R.scrollTo(g?R.pageXOffset:S,g?S:R.pageYOffset):I[b]=S},a,m,arguments.length)}}),p.each(["top","left"],function(a,u){p.cssHooks[u]=Tp(w.pixelPosition,function(g,m){if(m)return m=Ys(g,u),_f.test(m)?p(g).position()[u]+"px":m})}),p.each({Height:"height",Width:"width"},function(a,u){p.each({padding:"inner"+a,content:u,"":"outer"+a},function(g,m){p.fn[m]=function(I,b){var S=arguments.length&&(g||typeof I!="boolean"),R=g||(I===!0||b===!0?"margin":"border");return Z(this,function(O,V,rt){var ut;return N(O)?m.indexOf("outer")===0?O["inner"+a]:O.document.documentElement["client"+a]:O.nodeType===9?(ut=O.documentElement,Math.max(O.body["scroll"+a],ut["scroll"+a],O.body["offset"+a],ut["offset"+a],ut["client"+a])):rt===void 0?p.css(O,V,R):p.style(O,V,rt,R)},u,S?I:void 0,S)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,u){p.fn[u]=function(g){return this.on(u,g)}}),p.fn.extend({bind:function(a,u,g){return this.on(a,null,u,g)},unbind:function(a,u){return this.off(a,null,u)},delegate:function(a,u,g,m){return this.on(u,a,g,m)},undelegate:function(a,u,g){return arguments.length===1?this.off(a,"**"):this.off(u,a||"**",g)},hover:function(a,u){return this.on("mouseenter",a).on("mouseleave",u||a)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,u){p.fn[u]=function(g,m){return arguments.length>0?this.on(u,null,g,m):this.trigger(u)}});var cb=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;p.proxy=function(a,u){var g,m,I;if(typeof u=="string"&&(g=a[u],u=a,a=g),!!x(a))return m=r.call(arguments,2),I=function(){return a.apply(u||this,m.concat(r.call(arguments)))},I.guid=a.guid=a.guid||p.guid++,I},p.holdReady=function(a){a?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=A,p.isFunction=x,p.isWindow=N,p.camelCase=ee,p.type=K,p.now=Date.now,p.isNumeric=function(a){var u=p.type(a);return(u==="number"||u==="string")&&!isNaN(a-parseFloat(a))},p.trim=function(a){return a==null?"":(a+"").replace(cb,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return p});var ub=t.jQuery,fb=t.$;return p.noConflict=function(a){return t.$===p&&(t.$=fb),a&&t.jQuery===p&&(t.jQuery=ub),p},typeof e>"u"&&(t.jQuery=t.$=p),p})});var Ya=Kp(ag=>{"use strict";(function(t){var e=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global;if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function(r,o,s){e.Backbone=t(e,s,r,o)});else if(typeof ag<"u"){var i=(yy(),Ib(vy)),n;try{n=Er()}catch{}t(e,ag,i,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)})(function(t,e,i,n){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.4.1",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=e.Events={},l=/\s+/,c,d=function(C,M,k,j,Z){var at=0,At;if(k&&typeof k=="object")for(j!==void 0&&("context"in Z)&&Z.context===void 0&&(Z.context=j),At=i.keys(k);at<At.length;at++)M=d(C,M,At[at],k[At[at]],Z);else if(k&&l.test(k))for(At=k.split(l);at<At.length;at++)M=C(M,At[at],j,Z);else M=C(M,k,j,Z);return M};s.on=function(C,M,k){if(this._events=d(h,this._events||{},C,M,{context:k,ctx:this,listening:c}),c){var j=this._listeners||(this._listeners={});j[c.id]=c,c.interop=!1}return this},s.listenTo=function(C,M,k){if(!C)return this;var j=C._listenId||(C._listenId=i.uniqueId("l")),Z=this._listeningTo||(this._listeningTo={}),at=c=Z[j];at||(this._listenId||(this._listenId=i.uniqueId("l")),at=c=Z[j]=new T(this,C));var At=f(C,M,k,this);if(c=void 0,At)throw At;return at.interop&&at.on(M,k),this};var h=function(C,M,k,j){if(k){var Z=C[M]||(C[M]=[]),at=j.context,At=j.ctx,Lt=j.listening;Lt&&Lt.count++,Z.push({callback:k,context:at,ctx:at||At,listening:Lt})}return C},f=function(C,M,k,j){try{C.on(M,k,j)}catch(Z){return Z}};s.off=function(C,M,k){return this._events?(this._events=d(y,this._events,C,M,{context:k,listeners:this._listeners}),this):this},s.stopListening=function(C,M,k){var j=this._listeningTo;if(!j)return this;for(var Z=C?[C._listenId]:i.keys(j),at=0;at<Z.length;at++){var At=j[Z[at]];if(!At)break;At.obj.off(M,k,this),At.interop&&At.off(M,k)}return i.isEmpty(j)&&(this._listeningTo=void 0),this};var y=function(C,M,k,j){if(C){var Z=j.context,at=j.listeners,At=0,Lt;if(!M&&!Z&&!k){for(Lt=i.keys(at);At<Lt.length;At++)at[Lt[At]].cleanup();return}for(Lt=M?[M]:i.keys(C);At<Lt.length;At++){M=Lt[At];var ee=C[M];if(!ee)break;for(var Ge=[],Ze=0;Ze<ee.length;Ze++){var Ct=ee[Ze];if(k&&k!==Ct.callback&&k!==Ct.callback._callback||Z&&Z!==Ct.context)Ge.push(Ct);else{var ye=Ct.listening;ye&&ye.off(M,k)}}Ge.length?C[M]=Ge:delete C[M]}return C}};s.once=function(C,M,k){var j=d(w,{},C,M,this.off.bind(this));return typeof C=="string"&&k==null&&(M=void 0),this.on(j,M,k)},s.listenToOnce=function(C,M,k){var j=d(w,{},M,k,this.stopListening.bind(this,C));return this.listenTo(C,j)};var w=function(C,M,k,j){if(k){var Z=C[M]=i.once(function(){j(M,Z),k.apply(this,arguments)});Z._callback=k}return C};s.trigger=function(C){if(!this._events)return this;for(var M=Math.max(0,arguments.length-1),k=Array(M),j=0;j<M;j++)k[j]=arguments[j+1];return d(x,this._events,C,void 0,k),this};var x=function(C,M,k,j){if(C){var Z=C[M],at=C.all;Z&&at&&(at=at.slice()),Z&&N(Z,j),at&&N(at,[M].concat(j))}return C},N=function(C,M){var k,j=-1,Z=C.length,at=M[0],At=M[1],Lt=M[2];switch(M.length){case 0:for(;++j<Z;)(k=C[j]).callback.call(k.ctx);return;case 1:for(;++j<Z;)(k=C[j]).callback.call(k.ctx,at);return;case 2:for(;++j<Z;)(k=C[j]).callback.call(k.ctx,at,At);return;case 3:for(;++j<Z;)(k=C[j]).callback.call(k.ctx,at,At,Lt);return;default:for(;++j<Z;)(k=C[j]).callback.apply(k.ctx,M);return}},T=function(C,M){this.id=C._listenId,this.listener=C,this.obj=M,this.interop=!0,this.count=0,this._events=void 0};T.prototype.on=s.on,T.prototype.off=function(C,M){var k;this.interop?(this._events=d(y,this._events,C,M,{context:void 0,listeners:void 0}),k=!this._events):(this.count--,k=this.count===0),k&&this.cleanup()},T.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,i.extend(e,s);var E=e.Model=function(C,M){var k=C||{};M||(M={}),this.preinitialize.apply(this,arguments),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},M.collection&&(this.collection=M.collection),M.parse&&(k=this.parse(k,M)||{});var j=i.result(this,"defaults");k=i.defaults(i.extend({},j,k),j),this.set(k,M),this.changed={},this.initialize.apply(this,arguments)};i.extend(E.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(C){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(C){return this.attributes[C]},escape:function(C){return i.escape(this.get(C))},has:function(C){return this.get(C)!=null},matches:function(C){return!!i.iteratee(C,this)(this.attributes)},set:function(C,M,k){if(C==null)return this;var j;if(typeof C=="object"?(j=C,k=M):(j={})[C]=M,k||(k={}),!this._validate(j,k))return!1;var Z=k.unset,at=k.silent,At=[],Lt=this._changing;this._changing=!0,Lt||(this._previousAttributes=i.clone(this.attributes),this.changed={});var ee=this.attributes,Ge=this.changed,Ze=this._previousAttributes;for(var Ct in j)M=j[Ct],i.isEqual(ee[Ct],M)||At.push(Ct),i.isEqual(Ze[Ct],M)?delete Ge[Ct]:Ge[Ct]=M,Z?delete ee[Ct]:ee[Ct]=M;if(this.idAttribute in j){var ye=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,ye,k)}if(!at){At.length&&(this._pending=k);for(var De=0;De<At.length;De++)this.trigger("change:"+At[De],this,ee[At[De]],k)}if(Lt)return this;if(!at)for(;this._pending;)k=this._pending,this._pending=!1,this.trigger("change",this,k);return this._pending=!1,this._changing=!1,this},unset:function(C,M){return this.set(C,void 0,i.extend({},M,{unset:!0}))},clear:function(C){var M={};for(var k in this.attributes)M[k]=void 0;return this.set(M,i.extend({},C,{unset:!0}))},hasChanged:function(C){return C==null?!i.isEmpty(this.changed):i.has(this.changed,C)},changedAttributes:function(C){if(!C)return this.hasChanged()?i.clone(this.changed):!1;var M=this._changing?this._previousAttributes:this.attributes,k={},j;for(var Z in C){var at=C[Z];i.isEqual(M[Z],at)||(k[Z]=at,j=!0)}return j?k:!1},previous:function(C){return C==null||!this._previousAttributes?null:this._previousAttributes[C]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(C){C=i.extend({parse:!0},C);var M=this,k=C.success;return C.success=function(j){var Z=C.parse?M.parse(j,C):j;if(!M.set(Z,C))return!1;k&&k.call(C.context,M,j,C),M.trigger("sync",M,j,C)},ge(this,C),this.sync("read",this,C)},save:function(C,M,k){var j;C==null||typeof C=="object"?(j=C,k=M):(j={})[C]=M,k=i.extend({validate:!0,parse:!0},k);var Z=k.wait;if(j&&!Z){if(!this.set(j,k))return!1}else if(!this._validate(j,k))return!1;var at=this,At=k.success,Lt=this.attributes;k.success=function(Ze){at.attributes=Lt;var Ct=k.parse?at.parse(Ze,k):Ze;if(Z&&(Ct=i.extend({},j,Ct)),Ct&&!at.set(Ct,k))return!1;At&&At.call(k.context,at,Ze,k),at.trigger("sync",at,Ze,k)},ge(this,k),j&&Z&&(this.attributes=i.extend({},Lt,j));var ee=this.isNew()?"create":k.patch?"patch":"update";ee==="patch"&&!k.attrs&&(k.attrs=j);var Ge=this.sync(ee,this,k);return this.attributes=Lt,Ge},destroy:function(C){C=C?i.clone(C):{};var M=this,k=C.success,j=C.wait,Z=function(){M.stopListening(),M.trigger("destroy",M,M.collection,C)};C.success=function(At){j&&Z(),k&&k.call(C.context,M,At,C),M.isNew()||M.trigger("sync",M,At,C)};var at=!1;return this.isNew()?i.defer(C.success):(ge(this,C),at=this.sync("delete",this,C)),j||Z(),at},url:function(){var C=i.result(this,"urlRoot")||i.result(this.collection,"url")||kt();if(this.isNew())return C;var M=this.get(this.idAttribute);return C.replace(/[^\/]$/,"$&/")+encodeURIComponent(M)},parse:function(C,M){return C},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(C){return this._validate({},i.extend({},C,{validate:!0}))},_validate:function(C,M){if(!M.validate||!this.validate)return!0;C=i.extend({},this.attributes,C);var k=this.validationError=this.validate(C,M)||null;return k?(this.trigger("invalid",this,k,i.extend(M,{validationError:k})),!1):!0}});var Y=e.Collection=function(C,M){M||(M={}),this.preinitialize.apply(this,arguments),M.model&&(this.model=M.model),M.comparator!==void 0&&(this.comparator=M.comparator),this._reset(),this.initialize.apply(this,arguments),C&&this.reset(C,i.extend({silent:!0},M))},K={add:!0,remove:!0,merge:!0},et={add:!0,remove:!1},lt=function(C,M,k){k=Math.min(Math.max(k,0),C.length);var j=Array(C.length-k),Z=M.length,at;for(at=0;at<j.length;at++)j[at]=C[at+k];for(at=0;at<Z;at++)C[at+k]=M[at];for(at=0;at<j.length;at++)C[at+Z+k]=j[at]};i.extend(Y.prototype,s,{model:E,preinitialize:function(){},initialize:function(){},toJSON:function(C){return this.map(function(M){return M.toJSON(C)})},sync:function(){return e.sync.apply(this,arguments)},add:function(C,M){return this.set(C,i.extend({merge:!1},M,et))},remove:function(C,M){M=i.extend({},M);var k=!i.isArray(C);C=k?[C]:C.slice();var j=this._removeModels(C,M);return!M.silent&&j.length&&(M.changes={added:[],merged:[],removed:j},this.trigger("update",this,M)),k?j[0]:j},set:function(C,M){if(C!=null){M=i.extend({},K,M),M.parse&&!this._isModel(C)&&(C=this.parse(C,M)||[]);var k=!i.isArray(C);C=k?[C]:C.slice();var j=M.at;j!=null&&(j=+j),j>this.length&&(j=this.length),j<0&&(j+=this.length+1);var Z=[],at=[],At=[],Lt=[],ee={},Ge=M.add,Ze=M.merge,Ct=M.remove,ye=!1,De=this.comparator&&j==null&&M.sort!==!1,Re=i.isString(this.comparator)?this.comparator:null,je,qe;for(qe=0;qe<C.length;qe++){je=C[qe];var Ti=this.get(je);if(Ti){if(Ze&&je!==Ti){var Nn=this._isModel(je)?je.attributes:je;M.parse&&(Nn=Ti.parse(Nn,M)),Ti.set(Nn,M),At.push(Ti),De&&!ye&&(ye=Ti.hasChanged(Re))}ee[Ti.cid]||(ee[Ti.cid]=!0,Z.push(Ti)),C[qe]=Ti}else Ge&&(je=C[qe]=this._prepareModel(je,M),je&&(at.push(je),this._addReference(je,M),ee[je.cid]=!0,Z.push(je)))}if(Ct){for(qe=0;qe<this.length;qe++)je=this.models[qe],ee[je.cid]||Lt.push(je);Lt.length&&this._removeModels(Lt,M)}var Vi=!1,Tn=!De&&Ge&&Ct;if(Z.length&&Tn?(Vi=this.length!==Z.length||i.some(this.models,function(Bn,Gs){return Bn!==Z[Gs]}),this.models.length=0,lt(this.models,Z,0),this.length=this.models.length):at.length&&(De&&(ye=!0),lt(this.models,at,j??this.length),this.length=this.models.length),ye&&this.sort({silent:!0}),!M.silent){for(qe=0;qe<at.length;qe++)j!=null&&(M.index=j+qe),je=at[qe],je.trigger("add",je,this,M);(ye||Vi)&&this.trigger("sort",this,M),(at.length||Lt.length||At.length)&&(M.changes={added:at,removed:Lt,merged:At},this.trigger("update",this,M))}return k?C[0]:C}},reset:function(C,M){M=M?i.clone(M):{};for(var k=0;k<this.models.length;k++)this._removeReference(this.models[k],M);return M.previousModels=this.models,this._reset(),C=this.add(C,i.extend({silent:!0},M)),M.silent||this.trigger("reset",this,M),C},push:function(C,M){return this.add(C,i.extend({at:this.length},M))},pop:function(C){var M=this.at(this.length-1);return this.remove(M,C)},unshift:function(C,M){return this.add(C,i.extend({at:0},M))},shift:function(C){var M=this.at(0);return this.remove(M,C)},slice:function(){return o.apply(this.models,arguments)},get:function(C){if(C!=null)return this._byId[C]||this._byId[this.modelId(this._isModel(C)?C.attributes:C,C.idAttribute)]||C.cid&&this._byId[C.cid]},has:function(C){return this.get(C)!=null},at:function(C){return C<0&&(C+=this.length),this.models[C]},where:function(C,M){return this[M?"find":"filter"](C)},findWhere:function(C){return this.where(C,!0)},sort:function(C){var M=this.comparator;if(!M)throw new Error("Cannot sort a set without a comparator");C||(C={});var k=M.length;return i.isFunction(M)&&(M=M.bind(this)),k===1||i.isString(M)?this.models=this.sortBy(M):this.models.sort(M),C.silent||this.trigger("sort",this,C),this},pluck:function(C){return this.map(C+"")},fetch:function(C){C=i.extend({parse:!0},C);var M=C.success,k=this;return C.success=function(j){var Z=C.reset?"reset":"set";k[Z](j,C),M&&M.call(C.context,k,j,C),k.trigger("sync",k,j,C)},ge(this,C),this.sync("read",this,C)},create:function(C,M){M=M?i.clone(M):{};var k=M.wait;if(C=this._prepareModel(C,M),!C)return!1;k||this.add(C,M);var j=this,Z=M.success;return M.success=function(at,At,Lt){k&&j.add(at,Lt),Z&&Z.call(Lt.context,at,At,Lt)},C.save(null,M),C},parse:function(C,M){return C},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(C,M){return C[M||this.model.prototype.idAttribute||"id"]},values:function(){return new v(this,A)},keys:function(){return new v(this,_)},entries:function(){return new v(this,D)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(C,M){if(this._isModel(C))return C.collection||(C.collection=this),C;M=M?i.clone(M):{},M.collection=this;var k;return this.model.prototype?k=new this.model(C,M):k=this.model(C,M),k.validationError?(this.trigger("invalid",this,k.validationError,M),!1):k},_removeModels:function(C,M){for(var k=[],j=0;j<C.length;j++){var Z=this.get(C[j]);if(Z){var at=this.indexOf(Z);this.models.splice(at,1),this.length--,delete this._byId[Z.cid];var At=this.modelId(Z.attributes,Z.idAttribute);At!=null&&delete this._byId[At],M.silent||(M.index=at,Z.trigger("remove",Z,this,M)),k.push(Z),this._removeReference(Z,M)}}return k},_isModel:function(C){return C instanceof E},_addReference:function(C,M){this._byId[C.cid]=C;var k=this.modelId(C.attributes,C.idAttribute);k!=null&&(this._byId[k]=C),C.on("all",this._onModelEvent,this)},_removeReference:function(C,M){delete this._byId[C.cid];var k=this.modelId(C.attributes,C.idAttribute);k!=null&&delete this._byId[k],this===C.collection&&delete C.collection,C.off("all",this._onModelEvent,this)},_onModelEvent:function(C,M,k,j){if(M){if((C==="add"||C==="remove")&&k!==this)return;if(C==="destroy"&&this.remove(M,j),C==="changeId"){var Z=this.modelId(M.previousAttributes(),M.idAttribute),at=this.modelId(M.attributes,M.idAttribute);Z!=null&&delete this._byId[Z],at!=null&&(this._byId[at]=M)}}this.trigger.apply(this,arguments)}});var p=typeof Symbol=="function"&&Symbol.iterator;p&&(Y.prototype[p]=Y.prototype.values);var v=function(C,M){this._collection=C,this._kind=M,this._index=0},A=1,_=2,D=3;p&&(v.prototype[p]=function(){return this}),v.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var C=this._collection.at(this._index);this._index++;var M;if(this._kind===A)M=C;else{var k=this._collection.modelId(C.attributes,C.idAttribute);this._kind===_?M=k:M=[k,C]}return{value:M,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var z=e.View=function(C){this.cid=i.uniqueId("view"),this.preinitialize.apply(this,arguments),i.extend(this,i.pick(C,X)),this._ensureElement(),this.initialize.apply(this,arguments)},B=/^(\S+)\s*(.*)$/,X=["model","collection","el","id","attributes","className","tagName","events"];i.extend(z.prototype,s,{tagName:"div",$:function(C){return this.$el.find(C)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(C){return this.undelegateEvents(),this._setElement(C),this.delegateEvents(),this},_setElement:function(C){this.$el=C instanceof e.$?C:e.$(C),this.el=this.$el[0]},delegateEvents:function(C){if(C||(C=i.result(this,"events")),!C)return this;this.undelegateEvents();for(var M in C){var k=C[M];if(i.isFunction(k)||(k=this[k]),!!k){var j=M.match(B);this.delegate(j[1],j[2],k.bind(this))}}return this},delegate:function(C,M,k){return this.$el.on(C+".delegateEvents"+this.cid,M,k),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(C,M,k){return this.$el.off(C+".delegateEvents"+this.cid,M,k),this},_createElement:function(C){return document.createElement(C)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var C=i.extend({},i.result(this,"attributes"));this.id&&(C.id=i.result(this,"id")),this.className&&(C.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(C)}},_setAttributes:function(C){this.$el.attr(C)}});var ft=function(C,M,k,j){switch(M){case 1:return function(){return C[k](this[j])};case 2:return function(Z){return C[k](this[j],Z)};case 3:return function(Z,at){return C[k](this[j],W(Z,this),at)};case 4:return function(Z,at,At){return C[k](this[j],W(Z,this),at,At)};default:return function(){var Z=o.call(arguments);return Z.unshift(this[j]),C[k].apply(C,Z)}}},vt=function(C,M,k,j){i.each(k,function(Z,at){M[at]&&(C.prototype[at]=ft(M,Z,at,j))})},W=function(C,M){return i.isFunction(C)?C:i.isObject(C)&&!M._isModel(C)?$(C):i.isString(C)?function(k){return k.get(C)}:C},$=function(C){var M=i.matches(C);return function(k){return M(k.attributes)}},J={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},q={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};i.each([[Y,J,"models"],[E,q,"attributes"]],function(C){var M=C[0],k=C[1],j=C[2];M.mixin=function(Z){var at=i.reduce(i.functions(Z),function(At,Lt){return At[Lt]=0,At},{});vt(M,Z,at,j)},vt(M,i,k,j)}),e.sync=function(C,M,k){var j=Ot[C];i.defaults(k||(k={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var Z={type:j,dataType:"json"};if(k.url||(Z.url=i.result(M,"url")||kt()),k.data==null&&M&&(C==="create"||C==="update"||C==="patch")&&(Z.contentType="application/json",Z.data=JSON.stringify(k.attrs||M.toJSON(k))),k.emulateJSON&&(Z.contentType="application/x-www-form-urlencoded",Z.data=Z.data?{model:Z.data}:{}),k.emulateHTTP&&(j==="PUT"||j==="DELETE"||j==="PATCH")){Z.type="POST",k.emulateJSON&&(Z.data._method=j);var at=k.beforeSend;k.beforeSend=function(ee){if(ee.setRequestHeader("X-HTTP-Method-Override",j),at)return at.apply(this,arguments)}}Z.type!=="GET"&&!k.emulateJSON&&(Z.processData=!1);var At=k.error;k.error=function(ee,Ge,Ze){k.textStatus=Ge,k.errorThrown=Ze,At&&At.call(k.context,ee,Ge,Ze)};var Lt=k.xhr=e.ajax(i.extend(Z,k));return M.trigger("request",M,Lt,k),Lt};var Ot={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var Dt=e.Router=function(C){C||(C={}),this.preinitialize.apply(this,arguments),C.routes&&(this.routes=C.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Ie=/\((.*?)\)/g,Te=/(\(\?)?:\w+/g,Mt=/\*\w+/g,Pt=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(Dt.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(C,M,k){i.isRegExp(C)||(C=this._routeToRegExp(C)),i.isFunction(M)&&(k=M,M=""),k||(k=this[M]);var j=this;return e.history.route(C,function(Z){var at=j._extractParameters(C,Z);j.execute(k,at,M)!==!1&&(j.trigger.apply(j,["route:"+M].concat(at)),j.trigger("route",M,at),e.history.trigger("route",j,M,at))}),this},execute:function(C,M,k){C&&C.apply(this,M)},navigate:function(C,M){return e.history.navigate(C,M),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var C,M=i.keys(this.routes);(C=M.pop())!=null;)this.route(C,this.routes[C])}},_routeToRegExp:function(C){return C=C.replace(Pt,"\\$&").replace(Ie,"(?:$1)?").replace(Te,function(M,k){return k?M:"([^/?]+)"}).replace(Mt,"([^?]*?)"),new RegExp("^"+C+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(C,M){var k=C.exec(M).slice(1);return i.map(k,function(j,Z){return Z===k.length-1?j||null:j?decodeURIComponent(j):null})}});var st=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ot=/^[#\/]|\s+$/g,mt=/^\/+|\/+$/g,Wt=/#.*$/;st.started=!1,i.extend(st.prototype,s,{interval:50,atRoot:function(){var C=this.location.pathname.replace(/[^\/]$/,"$&/");return C===this.root&&!this.getSearch()},matchRoot:function(){var C=this.decodeFragment(this.location.pathname),M=C.slice(0,this.root.length-1)+"/";return M===this.root},decodeFragment:function(C){return decodeURI(C.replace(/%25/g,"%2525"))},getSearch:function(){var C=this.location.href.replace(/#.*/,"").match(/\?.+/);return C?C[0]:""},getHash:function(C){var M=(C||this).location.href.match(/#(.*)$/);return M?M[1]:""},getPath:function(){var C=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return C.charAt(0)==="/"?C.slice(1):C},getFragment:function(C){return C==null&&(this._usePushState||!this._wantsHashChange?C=this.getPath():C=this.getHash()),C.replace(ot,"")},start:function(C){if(st.started)throw new Error("Backbone.history has already been started");if(st.started=!0,this.options=i.extend({root:"/"},this.options,C),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(mt,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var M=this.root.slice(0,-1)||"/";return this.location.replace(M+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var k=document.body,j=k.insertBefore(this.iframe,k.firstChild).contentWindow;j.document.open(),j.document.close(),j.location.hash="#"+this.fragment}var Z=window.addEventListener||function(at,At){return attachEvent("on"+at,At)};if(this._usePushState?Z("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Z("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var C=window.removeEventListener||function(M,k){return detachEvent("on"+M,k)};this._usePushState?C("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&C("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),st.started=!1},route:function(C,M){this.handlers.unshift({route:C,callback:M})},checkUrl:function(C){var M=this.getFragment();if(M===this.fragment&&this.iframe&&(M=this.getHash(this.iframe.contentWindow)),M===this.fragment)return!1;this.iframe&&this.navigate(M),this.loadUrl()},loadUrl:function(C){return this.matchRoot()?(C=this.fragment=this.getFragment(C),i.some(this.handlers,function(M){if(M.route.test(C))return M.callback(C),!0})):!1},navigate:function(C,M){if(!st.started)return!1;(!M||M===!0)&&(M={trigger:!!M}),C=this.getFragment(C||"");var k=this.root;(C===""||C.charAt(0)==="?")&&(k=k.slice(0,-1)||"/");var j=k+C;C=C.replace(Wt,"");var Z=this.decodeFragment(C);if(this.fragment!==Z){if(this.fragment=Z,this._usePushState)this.history[M.replace?"replaceState":"pushState"]({},document.title,j);else if(this._wantsHashChange){if(this._updateHash(this.location,C,M.replace),this.iframe&&C!==this.getHash(this.iframe.contentWindow)){var at=this.iframe.contentWindow;M.replace||(at.document.open(),at.document.close()),this._updateHash(at.location,C,M.replace)}}else return this.location.assign(j);if(M.trigger)return this.loadUrl(C)}},_updateHash:function(C,M,k){if(k){var j=C.href.replace(/(javascript:|#).*$/,"");C.replace(j+"#"+M)}else C.hash="#"+M}}),e.history=new st;var se=function(C,M){var k=this,j;return C&&i.has(C,"constructor")?j=C.constructor:j=function(){return k.apply(this,arguments)},i.extend(j,k,M),j.prototype=i.create(k.prototype,C),j.prototype.constructor=j,j.__super__=k.prototype,j};E.extend=Y.extend=Dt.extend=z.extend=st.extend=se;var kt=function(){throw new Error('A "url" property or function must be specified')},ge=function(C,M){var k=M.error;M.error=function(j){k&&k.call(M.context,C,j,M),C.trigger("error",C,j,M)}};return e})});var Fl=class t{constructor(e,i){this.cdr=e;this.authenticationService=i}mobnavigationactive=!1;lock=!1;subscription;profile;ngOnInit(){this.profile=this.authenticationService.getProfile()}onDocumentClick(){this.lock||(this.mobnavigationactive=!1,this.cdr.detectChanges())}openmobnavigationactive(){this.mobnavigationactive=!0,this.lock=!0,this.subscription=qp(100).subscribe(()=>{this.lock=!1})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}logOut(){this.authenticationService.logout()}static \u0275fac=function(i){return new(i||t)(Ht(ui),Ht(vm))};static \u0275cmp=Kt({type:t,selectors:[["app-main"]],hostBindings:function(i,n){i&1&&he("click",function(){return n.onDocumentClick()},nm)},standalone:!1,decls:100,vars:6,consts:[[1,"nxl-navigation"],[1,"navbar-wrapper"],[1,"m-header"],["href","/",1,"b-brand"],["src","favicon.png","alt","",1,"logo","w-25"],[1,"navbar-content"],[1,"nxl-navbar"],[1,"nxl-item","nxl-caption"],["routerLinkActive","active",1,"nxl-item"],["href","javascript:void(0);",1,"nxl-link",3,"routerLink"],[1,"nxl-micon"],[1,"feather-airplay"],[1,"nxl-mtext"],[1,"feather-box"],[1,"nxl-header"],[1,"header-wrapper"],[1,"header-left","d-flex","align-items-center","gap-4","d-sm-flex","d-md-flex","d-lg-none"],["href","javascript:void(0);","id","mobile-collapse",1,"nxl-head-mobile-toggler",3,"click"],[1,"hamburger","hamburger--arrowturn"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"header-right","ms-auto"],[1,"d-flex","align-items-center"],[1,"nxl-h-item","d-none","d-sm-flex"],[1,"full-screen-switcher"],["href","javascript:void(0);","onclick","$('body').fullScreenHelper('toggle');",1,"nxl-head-link","me-0"],[1,"feather-maximize","maximize"],[1,"feather-minimize","minimize"],[1,"dropdown","nxl-h-item"],["href","javascript:void(0);","data-bs-toggle","dropdown","role","button","data-bs-auto-close","outside",1,"nxl-head-link","me-0"],[1,"feather-clock"],[1,"badge","bg-success","nxl-h-badge"],[1,"dropdown-menu","dropdown-menu-end","nxl-h-dropdown","nxl-timesheets-menu"],[1,"d-flex","justify-content-between","align-items-center","timesheets-head"],[1,"fw-bold","text-dark","mb-0"],["href","javascript:void(0);","data-bs-toggle","tooltip","title","Upcomming Timers",1,"fs-11","text-success","text-end","ms-auto"],[1,"d-flex","justify-content-between","align-items-center","flex-column","timesheets-body"],[1,"feather-clock","fs-1","mb-4"],[1,"text-muted"],["href","javascript:void(0);",1,"btn","btn-sm","btn-primary"],[1,"text-center","timesheets-footer"],["href","javascript:void(0);",1,"fs-13","fw-semibold","text-dark"],["href","javascript:void(0);","data-bs-toggle","dropdown","role","button","data-bs-auto-close","outside"],["src","favicon.png","alt","user-image",1,"img-fluid","user-avtar","me-0"],[1,"dropdown-menu","dropdown-menu-end","nxl-h-dropdown","nxl-user-dropdown"],[1,"dropdown-header"],["src","favicon.png","alt","user-image",1,"img-fluid","user-avtar"],[1,"text-dark","mb-0"],[1,"badge","bg-soft-success","text-success","ms-1"],[1,"fs-12","fw-medium","text-muted"],["href","javascript:void(0);",1,"dropdown-item"],[1,"feather-user"],[1,"feather-activity"],[1,"feather-dollar-sign"],[1,"feather-bell"],[1,"feather-settings"],[1,"dropdown-divider"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"feather-log-out"],[1,"nxl-container"],[1,"nxl-content"]],template:function(i,n){i&1&&(F(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),Nt(4,"img",4),U()(),F(5,"div",5)(6,"ul",6)(7,"li",7)(8,"label"),dt(9,"Navigation"),U()(),F(10,"li",8)(11,"a",9)(12,"span",10),Nt(13,"i",11),U(),F(14,"span",12),dt(15,"Dashboard"),U()()(),F(16,"li",8)(17,"a",9)(18,"span",10),Nt(19,"i",13),U(),F(20,"span",12),dt(21,"Projects"),U()()()()()()(),F(22,"header",14)(23,"div",15)(24,"div",16)(25,"a",17),he("click",function(){return n.openmobnavigationactive()}),F(26,"div",18)(27,"div",19),Nt(28,"div",20),U()()()(),F(29,"div",21)(30,"div",22)(31,"div",23)(32,"div",24)(33,"a",25),Nt(34,"i",26)(35,"i",27),U()()(),F(36,"div",28)(37,"a",29),Nt(38,"i",30),F(39,"span",31),dt(40,"2"),U()(),F(41,"div",32)(42,"div",33)(43,"h6",34),dt(44,"Timesheets"),U(),F(45,"a",35),Nt(46,"i",30),F(47,"span"),dt(48,"3 Upcomming"),U()()(),F(49,"div",36),Nt(50,"i",37),F(51,"p",38),dt(52,"No started timers found yes!"),U(),F(53,"a",39),dt(54,"Started Timer"),U()(),F(55,"div",40)(56,"a",41),dt(57,"Alls Timesheets"),U()()()(),F(58,"div",28)(59,"a",42),Nt(60,"img",43),U(),F(61,"div",44)(62,"div",45)(63,"div",22),Nt(64,"img",46),F(65,"div")(66,"h6",47),dt(67),F(68,"span",48),dt(69,"PRO"),U()(),F(70,"span",49),dt(71),U()()()(),F(72,"a",50),Nt(73,"i",51),F(74,"span"),dt(75,"Profile Details"),U()(),F(76,"a",50),Nt(77,"i",52),F(78,"span"),dt(79,"Activity Feed"),U()(),F(80,"a",50),Nt(81,"i",53),F(82,"span"),dt(83,"Billing Details"),U()(),F(84,"a",50),Nt(85,"i",54),F(86,"span"),dt(87,"Notifications"),U()(),F(88,"a",50),Nt(89,"i",55),F(90,"span"),dt(91,"Account Settings"),U()(),Nt(92,"div",56),F(93,"a",57),he("click",function(){return n.logOut()}),Nt(94,"i",58),F(95,"span"),dt(96,"Logout"),U()()()()()()()(),F(97,"main",59)(98,"div",60),Nt(99,"router-outlet"),U()()),i&2&&(an("mob-navigation-active",n.mobnavigationactive),yt(11),de("routerLink","dashboard"),yt(6),de("routerLink","projects"),yt(50),In("",n.profile==null?null:n.profile.userName," "),yt(4),ln(n.profile==null?null:n.profile.email))},dependencies:[gm,Bl,mm],encapsulation:2})};var Wl=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Kt({type:t,selectors:[["app-dashboard"]],standalone:!1,decls:6,vars:0,consts:[[1,"page-header"],[1,"page-header-left","d-flex","align-items-center"],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"main-content"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li",3),dt(4,"Dashboard"),U()()()(),Nt(5,"div",4))},encapsulation:2})};var bb=20,jm=(()=>{class t{_platform=Ft(Qr);_listeners;_viewportSize=null;_change=new Ii;_document=Ft(En);constructor(){let i=Ft(Cr),n=Ft(jo).createRenderer(null,null);i.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(i=>i()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+r,right:i.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,n=this._getWindow(),r=i.documentElement,o=r.getBoundingClientRect(),s=-o.top||i.body?.scrollTop||n.scrollY||r.scrollTop||0,l=-o.left||i.body?.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:s,left:l}}change(i=bb){return i>0?this._change.pipe(tm(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ki({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var aa=class{_attachedHost=null;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Zo=class extends aa{component;viewContainerRef;injector;projectableNodes;constructor(e,i,n,r){super(),this.component=e,this.viewContainerRef=i,this.injector=n,this.projectableNodes=r}},Fo=class extends aa{templateRef;viewContainerRef;context;injector;constructor(e,i,n,r){super(),this.templateRef=e,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,i=this.context){return this.context=i,super.attach(e)}detach(){return this.context=void 0,super.detach()}},nd=class extends aa{element;constructor(e){super(),this.element=e instanceof Hr?e.nativeElement:e}},Wo=class{_attachedPortal=null;_disposeFn=null;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Zo)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Fo)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof nd)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Vl=class extends Wo{outletElement;_appRef;_defaultInjector;constructor(e,i,n){super(),this.outletElement=e,this._appRef=i,this._defaultInjector=n}attachComponentPortal(e){let i;if(e.viewContainerRef){let n=e.injector||e.viewContainerRef.injector,r=n.get(Hf,null,{optional:!0})||void 0;i=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>i.destroy())}else{let n=this._appRef,r=e.injector||this._defaultInjector||sn.NULL,o=r.get(Ll,n.injector);i=cm(e.component,{elementInjector:r,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),n.attachView(i.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(i.hostView),i.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let i=e.viewContainerRef,n=i.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);r!==-1&&i.remove(r)}),this._attachedPortal=e,n}attachDomPortal=e=>{let i=e.element;i.parentNode;let n=this.outletElement.ownerDocument.createComment("dom-portal");i.parentNode.insertBefore(n,i),this.outletElement.appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(i,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var la=(()=>{class t extends Wo{_moduleRef=Ft(Hf,{optional:!0});_document=Ft(En);_viewContainerRef=Ft(Rl);_isInitialized=!1;_attachedRef=null;constructor(){super()}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}attached=new Xr;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let n=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,r=n.createComponent(i.component,{index:n.length,injector:i.injector||n.injector,projectableNodes:i.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(i){i.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=i=>{let n=i.element;n.parentNode;let r=this._document.createComment("dom-portal");i.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=i,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ia({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Jr]})}return t})();var zm=xm();function ca(t){return new Yl(t.get(jm),t.get(En))}var Yl=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,i){this._viewportRuler=e,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=or(-this._previousScrollPosition.left),e.style.top=or(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,i=this._document.body,n=e.style,r=i.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),zm&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zm&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.documentElement,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var Ul=class{enable(){}disable(){}attach(){}};var Vo=class{positionStrategy;scrollStrategy=new Ul;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(e){if(e){let i=Object.keys(e);for(let n of i)e[n]!==void 0&&(this[n]=e[n])}}};var Fm=(()=>{class t{_attachedOverlays=[];_document=Ft(En);_isAttached=!1;constructor(){}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let n=this._attachedOverlays.indexOf(i);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ki({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wm=(()=>{class t extends Fm{_ngZone=Ft(Cr);_renderer=Ft(jo).createRenderer(null,null);_cleanupKeydown;add(i){super.add(i),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=i=>{let n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--)if(n[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[r]._keydownEvents.next(i));break}};static \u0275fac=(()=>{let i;return function(r){return(i||(i=$s(t)))(r||t)}})();static \u0275prov=ki({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vm=(()=>{class t extends Fm{_platform=Ft(Qr);_ngZone=Ft(Cr);_renderer=Ft(jo).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget=null;_cleanups;add(i){if(super.add(i),!this._isAttached){let n=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(n,"pointerdown",this._pointerDownListener,r),o.listen(n,"click",this._clickListener,r),o.listen(n,"auxclick",this._clickListener,r),o.listen(n,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(i=>i()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=i=>{this._pointerDownEventTarget=Kf(i)};_clickListener=i=>{let n=Kf(i),r=i.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let l=o[s];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(Bm(l.overlayElement,n)||Bm(l.overlayElement,r))break;let c=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(i)):c.next(i)}};static \u0275fac=(()=>{let i;return function(r){return(i||(i=$s(t)))(r||t)}})();static \u0275prov=ki({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bm(t,e){let i=typeof ShadowRoot<"u"&&ShadowRoot,n=e;for(;n;){if(n===t)return!0;n=i&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var Ym=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Kt({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return t})(),od=(()=>{class t{_platform=Ft(Qr);_containerElement;_document=Ft(En);_styleLoader=Ft($f);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||td()){let r=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let n=this._document.createElement("div");n.classList.add(i),td()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(Ym)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ki({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rd=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,i,n,r){this._renderer=i,this._ngZone=n,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=i.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function Um(t){return t&&t.nodeType===1}var Yo=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Ii;_attachments=new Ii;_detachments=new Ii;_positionStrategy;_scrollStrategy;_locationChanges=Yf.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed=!1;_previousHostParent;_keydownEvents=new Ii;_outsidePointerEvents=new Ii;_afterNextRenderRef;constructor(e,i,n,r,o,s,l,c,d,h=!1,f,y){this._portalOutlet=e,this._host=i,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=l,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._injector=f,this._renderer=y,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){if(this._disposed)return null;this._attachHost();let i=this._portalOutlet.attach(e);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ro(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){if(this._disposed)return;let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Pi(Pi({},this._config),e),this._updateElementSize()}setDirection(e){this._config=kl(Pi({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=or(this._config.width),e.height=or(this._config.height),e.minWidth=or(this._config.minWidth),e.minHeight=or(this._config.minHeight),e.maxWidth=or(this._config.maxWidth),e.maxHeight=or(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachHost(){if(!this._host.parentElement){let e=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;Um(e)?e.after(this._host):e?.type==="parent"?e.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new rd(this._document,this._renderer,this._ngZone,i=>{this._backdropClick.next(i)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,i,n){let r=bm(i||[]).filter(o=>!!o);r.length&&(n?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=Ro(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(i){if(e)throw i;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}};var Gm="cdk-global-overlay-wrapper";function ua(t){return new Xl}var Xl=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let i=e.getConfig();this._overlayRef=e,this._width&&!i.width&&e.updateSize({width:this._width}),this._height&&!i.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Gm),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:l}=n,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!l||l==="100%"||l==="100vh"),h=this._xPosition,f=this._xOffset,y=this._overlayRef.getConfig().direction==="rtl",w="",x="",N="";c?N="flex-start":h==="center"?(N="center",y?x=f:w=f):y?h==="left"||h==="end"?(N="flex-end",w=f):(h==="right"||h==="start")&&(N="flex-start",x=f):h==="left"||h==="start"?(N="flex-start",w=f):(h==="right"||h==="end")&&(N="flex-end",x=f),e.position=this._cssPosition,e.marginLeft=c?"0":w,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":x,i.justifyContent=N,i.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(Gm),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}};var Xm=new kn("OVERLAY_DEFAULT_CONFIG");function sd(t,e){t.get($f).load(Ym);let i=t.get(od),n=t.get(En),r=t.get(Go),o=t.get(Jf),s=t.get(sa),l=t.get(ea,null,{optional:!0})||t.get(jo).createRenderer(null,null),c=new Vo(e),d=t.get(Xm,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||s.value,"showPopover"in n.body?c.usePopover=e?.usePopover??d:c.usePopover=!1;let h=n.createElement("div"),f=n.createElement("div");h.id=r.getId("cdk-overlay-"),h.classList.add("cdk-overlay-pane"),f.appendChild(h),c.usePopover&&(f.setAttribute("popover","manual"),f.classList.add("cdk-overlay-popover"));let y=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return Um(y)?y.after(f):y?.type==="parent"?y.element.appendChild(f):i.getContainerElement().appendChild(f),new Yo(new Vl(h,o,t),f,h,c,t.get(Cr),t.get(Wm),n,t.get(um),t.get(Vm),e?.disableAnimations??t.get(em,null,{optional:!0})==="NoopAnimations",t.get(Ll),l)}function Ab(t,e){}var br=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var ld=(()=>{class t extends Wo{_elementRef=Ft(Hr);_focusTrapFactory=Ft(wm);_config;_interactivityChecker=Ft(Am);_ngZone=Ft(Cr);_focusMonitor=Ft(Cm);_renderer=Ft(ea);_changeDetectorRef=Ft(ui);_injector=Ft(sn);_platform=Ft(Qr);_document=Ft(En);_portalOutlet;_focusTrapped=new Ii;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=Ft(br,{optional:!0})||new br,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let n=this._ariaLabelledByQueue.indexOf(i);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),n}attachTemplatePortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),n}attachDomPortal=i=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(i);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,n){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),s(),i.removeAttribute("tabindex")},o=this._renderer.listen(i,"blur",r),s=this._renderer.listen(i,"mousedown",r)})),i.focus(n)}_focusByCssSelector(i,n){let r=this._elementRef.nativeElement.querySelector(i);r&&this._forceFocus(r,n)}_trapFocus(i){this._isDestroyed||Ro(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus(i);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(i)||this._focusDialogContainer(i);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',i);break;default:this._focusByCssSelector(this._config.autoFocus,i);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let i=this._config.restoreFocus,n=null;if(typeof i=="string"?n=this._document.querySelector(i):typeof i=="boolean"?n=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(n=i),this._config.restoreFocus&&n&&typeof n.focus=="function"){let r=Gl(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(i){this._elementRef.nativeElement.focus?.(i)}_containsFocus(){let i=this._elementRef.nativeElement,n=Gl();return i===n||i.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Gl()))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Kt({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(n&1&&na(la,7),n&2){let o;ra(o=oa())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){n&2&&jl("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Jr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){n&1&&nr(0,Ab,0,0,"ng-template",0)},dependencies:[la],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return t})(),fa=class{overlayRef;config;componentInstance=null;componentRef=null;containerInstance;disableClose;closed=new Ii;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(e,i){this.overlayRef=e,this.config=i,this.disableClose=i.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Zl(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=e.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(e,i){if(this._canClose(e)){let n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(e),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",i=""){return this.overlayRef.updateSize({width:e,height:i}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}_canClose(e){let i=this.config;return!!this.containerInstance&&(!i.closePredicate||i.closePredicate(e,i,this.componentInstance))}},wb=new kn("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=Ft(sn);return()=>ca(t)}}),xb=new kn("DialogData"),Sb=new kn("DefaultDialogConfig");function _b(t){let e=Xf(t),i=new Xr;return{valueSignal:e,get value(){return e()},change:i,ngOnDestroy(){i.complete()}}}var Qm=(()=>{class t{_injector=Ft(sn);_defaultOptions=Ft(Sb,{optional:!0});_parentDialog=Ft(t,{optional:!0,skipSelf:!0});_overlayContainer=Ft(od);_idGenerator=Ft(Go);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Ii;_afterOpenedAtThisLevel=new Ii;_ariaHiddenElements=new Map;_scrollStrategy=Ft(wb);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=El(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qs(void 0)));constructor(){}open(i,n){let r=this._defaultOptions||new br;n=Pi(Pi({},r),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let o=this._getOverlayConfig(n),s=sd(this._injector,o),l=new fa(s,n),c=this._attachContainer(s,l,n);if(l.containerInstance=c,!this.openDialogs.length){let d=this._overlayContainer.getContainerElement();c._focusTrapped?c._focusTrapped.pipe(Lo(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(d)}):this._hideNonDialogContentFromAssistiveTechnology(d)}return this._attachDialogContent(i,l,c,n),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){ad(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){ad(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),ad(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let n=new Vo({positionStrategy:i.positionStrategy||ua().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation,disableAnimations:i.disableAnimations});return i.backdropClass&&(n.backdropClass=i.backdropClass),n}_attachContainer(i,n,r){let o=r.injector||r.viewContainerRef?.injector,s=[{provide:br,useValue:r},{provide:fa,useValue:n},{provide:Yo,useValue:i}],l;r.container?typeof r.container=="function"?l=r.container:(l=r.container.type,s.push(...r.container.providers(r))):l=ld;let c=new Zo(l,r.viewContainerRef,sn.create({parent:o||this._injector,providers:s}));return i.attach(c).instance}_attachDialogContent(i,n,r,o){if(i instanceof ta){let s=this._createInjector(o,n,r,void 0),l={$implicit:o.data,dialogRef:n};o.templateContext&&(l=Pi(Pi({},l),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Fo(i,null,l,s))}else{let s=this._createInjector(o,n,r,this._injector),l=r.attachComponentPortal(new Zo(i,o.viewContainerRef,s));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(i,n,r,o){let s=i.injector||i.viewContainerRef?.injector,l=[{provide:xb,useValue:i.data},{provide:fa,useValue:n}];return i.providers&&(typeof i.providers=="function"?l.push(...i.providers(n,i,r)):l.push(...i.providers)),i.direction&&(!s||!s.get(sa,null,{optional:!0}))&&l.push({provide:sa,useValue:_b(i.direction)}),sn.create({parent:s||o,providers:l})}_removeOpenDialog(i,n){let r=this.openDialogs.indexOf(i);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(i){if(i.parentElement){let n=i.parentElement.children;for(let r=n.length-1;r>-1;r--){let o=n[r];o!==i&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&!o.hasAttribute("popover")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ki({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ad(t,e){let i=t.length;for(;i--;)e(t[i])}function Mb(t,e){}var Jl=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},cd="mdc-dialog--open",Km="mdc-dialog--opening",qm="mdc-dialog--closing",Nb=150,Tb=75,Db=(()=>{class t extends ld{_animationStateChanged=new Xr;_animationsEnabled=!ed();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?tv(this._config.enterAnimationDuration)??Nb:0;_exitAnimationDuration=this._animationsEnabled?tv(this._config.exitAnimationDuration)??Tb:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($m,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Km,cd)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(cd),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(cd),this._animationsEnabled?(this._hostElement.style.setProperty($m,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(qm)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Km,qm)}_waitForAnimationToComplete(i,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let n=super.attachComponentPortal(i);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let i;return function(r){return(i||(i=$s(t)))(r||t)}})();static \u0275cmp=Kt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,r){n&2&&(sm("id",r._config.id),jl("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),an("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[Jr],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(F(0,"div",0)(1,"div",1),nr(2,Mb,0,0,"ng-template",2),U()())},dependencies:[la],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return t})(),$m="--mat-dialog-transition-duration";function tv(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?qf(t.substring(0,t.length-2)):t.endsWith("s")?qf(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Hl=(function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t})(Hl||{}),sr=class{_ref;_config;_containerInstance;componentInstance;componentRef=null;disableClose;id;_afterOpened=new Uf(1);_beforeClosed=new Uf(1);_result;_closeFallbackTimeout;_state=Hl.OPEN;_closeInteractionType;constructor(e,i,n){this._ref=e,this._config=i,this._containerInstance=n,this.disableClose=i.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(Oo(r=>r.state==="opened"),Lo(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Oo(r=>r.state==="closed"),Lo(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),$p(this.backdropClick(),this.keydownEvents().pipe(Oo(r=>r.keyCode===27&&!this.disableClose&&!Zl(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Pb(this,r.type==="keydown"?"keyboard":"mouse"))})}close(e){let i=this._config.closePredicate;i&&!i(e,this._config,this.componentInstance)||(this._result=e,this._containerInstance._animationStateChanged.pipe(Oo(n=>n.state==="closing"),Lo(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Hl.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let i=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?i.left(e.left):i.right(e.right):i.centerHorizontally(),e&&(e.top||e.bottom)?e.top?i.top(e.top):i.bottom(e.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",i=""){return this._ref.updateSize(e,i),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Hl.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Pb(t,e,i){return t._closeInteractionType=e,t.close(i)}var Kr=new kn("MatMdcDialogData"),kb=new kn("mat-mdc-dialog-default-options"),Eb=new kn("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=Ft(sn);return()=>ca(t)}}),Ql=(()=>{class t{_defaultOptions=Ft(kb,{optional:!0});_scrollStrategy=Ft(Eb);_parentDialog=Ft(t,{optional:!0,skipSelf:!0});_idGenerator=Ft(Go);_injector=Ft(sn);_dialog=Ft(Qm);_animationsDisabled=ed();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Ii;_afterOpenedAtThisLevel=new Ii;dialogConfigClass=Jl;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=El(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qs(void 0)));constructor(){this._dialogRefConstructor=sr,this._dialogContainerType=Db,this._dialogDataToken=Kr}open(i,n){let r;n=Pi(Pi({},this._defaultOptions||new Jl),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(i,kl(Pi({},n),{positionStrategy:ua(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||n.enterAnimationDuration?.toLocaleString()==="0"||n.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:br,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(s,l,c)=>(r=new this._dialogRefConstructor(s,n,c),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let n=i.length;for(;n--;)i[n].close()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ki({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Hn=class t{constructor(e){this.http=e}getApiProjectGetUserProjects(){let e=new rr;return this.http.get(`${Ai.serverUrl}/api/Project/GetUserProjects`,{params:e})}getApiProjectGetUserProjectByName(e){let i=new rr;return e!=null&&(i=i.set("ProjectName",e)),this.http.get(`${Ai.serverUrl}/api/Project/GetUserProjectByName`,{params:i})}postApiProjectStartProject(e){return this.http.post(`${Ai.serverUrl}/api/Project/StartProject`,e)}postApiProjectStopProject(e){return this.http.post(`${Ai.serverUrl}/api/Project/StopProject`,e)}postApiProjectCreateProject(e){return this.http.post(`${Ai.serverUrl}/api/Project/CreateProject`,e)}postApiProjectCteateTemplate(e){return this.http.post(`${Ai.serverUrl}/api/Project/CteateTemplate`,{})}getApiProjectGetProjectDataTemplate(e){let i=new rr;return e!=null&&(i=i.set("ProjectId",e)),this.http.get(`${Ai.serverUrl}/api/Project/GetProjectDataTemplate`,{params:i})}static \u0275fac=function(i){return new(i||t)(Ol(zl))};static \u0275prov=ki({token:t,factory:t.\u0275fac,providedIn:"root"})};var ql=class t{constructor(e,i,n,r,o){this.data=e;this.dialogRef=i;this.projectService=n;this.router=r;this.generalService=o;this.model.projectName=`Test_Project_${this.data.countProjects+1}`}model={projectName:"Test-Project"};close(){this.dialogRef.close()}save(){this.projectService.postApiProjectCreateProject(this.model).subscribe(e=>{this.generalService.isSuccess(e)&&this.router.navigate(["main","projects",this.model.projectName])}),this.dialogRef.close()}static \u0275fac=function(i){return new(i||t)(Ht(Kr),Ht(sr),Ht(Hn),Ht(pm),Ht(Qi))};static \u0275cmp=Kt({type:t,selectors:[["app-create-project"]],standalone:!1,decls:19,vars:1,consts:[[1,"card","stretch","stretch-full"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"card-footer","w-100"],[1,"d-flex","gap-2","text-center","pt-4"],[1,"w-50","btn","btn-light-brand",3,"click"],[1,"feather-x-square","me-2"],[1,"w-50","btn","btn-primary",3,"click"],[1,"feather-save","me-2"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"div",1)(2,"h5",2),dt(3,"Create Project"),U()(),F(4,"div",3)(5,"div",4)(6,"label",5),dt(7,"Project Name"),U(),F(8,"input",6),te("ngModelChange",function(o){return $t(n.model.projectName,o)||(n.model.projectName=o),o}),U()()(),F(9,"div",7)(10,"div",8)(11,"button",9),he("click",function(){return n.close()}),Nt(12,"i",10),F(13,"span"),dt(14,"Close"),U()(),F(15,"button",11),he("click",function(){return n.save()}),Nt(16,"i",12),F(17,"span"),dt(18,"Save"),U()()()()()),i&2&&(yt(8),qt("ngModel",n.model.projectName))},dependencies:[We,Ve,Ye],encapsulation:2})};var Lb=t=>[t];function Rb(t,e){if(t&1){let i=ei();F(0,"tr",19)(1,"td",20)(2,"div",21)(3,"div"),dt(4),U()()(),F(5,"td")(6,"div",18)(7,"button",7),he("click",function(){let r=Ce(i).$implicit,o=Bt(2);return be(o.stopStart(r))}),Nt(8,"i",22),U(),F(9,"a",23),Nt(10,"i",24),U()()()()}if(t&2){let i=e.$implicit;yt(4),In(" ",i==null?null:i.projectName," "),yt(4),an("feather-pause",i.started)("feather-play",!i.started),yt(),de("routerLink",lm(6,Lb,i.projectName))}}function jb(t,e){if(t&1&&(F(0,"table",16)(1,"thead")(2,"tr")(3,"th"),dt(4,"Project Name"),U(),F(5,"th",18),dt(6,"Actions"),U()()(),F(7,"tbody"),Hi(8,Rb,11,8,"tr",19,zo),U()()),t&2){let i=Bt();yt(8),Ji(i.data)}}function zb(t,e){if(t&1){let i=ei();F(0,"div",17)(1,"img",25),he("click",function(){Ce(i);let r=Bt();return be(r.loadData())}),U()()}}var $l=class t{constructor(e,i,n,r){this.projectService=e;this.generalService=i;this.dialog=n;this.cdr=r}data;ngOnInit(){this.loadData()}loadData(){this.projectService.getApiProjectGetUserProjects().subscribe(e=>{this.generalService.isSuccess(e)&&(this.data=e.data,this.cdr.detectChanges())})}stopStart(e){(e.started?this.projectService.postApiProjectStopProject({projectName:e.projectName}):this.projectService.postApiProjectStartProject({projectName:e.projectName})).subscribe(n=>{this.generalService.isSuccess(n)&&this.loadData()})}createProject(){let e=this.dialog.open(ql,{width:"400px",panelClass:"no-dialog-surface",disableClose:!0,data:{countProjects:this.data?.length??0}})}static \u0275fac=function(i){return new(i||t)(Ht(Hn),Ht(Qi),Ht(Ql),Ht(ui))};static \u0275cmp=Kt({type:t,selectors:[["app-projects"]],standalone:!1,decls:20,vars:1,consts:[[1,"page-header"],[1,"page-header-left","d-flex","align-items-center"],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"ms-auto"],[1,"page-header-right-items"],[1,"d-flex","align-items-center","gap-2","page-header-right-items-wrapper"],[1,"btn","btn-primary","btn-icon",3,"click"],[1,"feather-plus"],[1,"d-none","d-md-block"],[1,"main-content"],[1,"row"],[1,"col-lg-12"],[1,"card","stretch","stretch-full"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover"],[1,"text-center"],[1,"hstack","gap-2","justify-content-end"],[1,"single-item"],[1,"project-name-td"],[1,"hstack","gap-4"],[1,"feather"],[1,"btn","btn-primary","btn-icon",3,"routerLink"],[1,"feather","feather-eye"],["src","/loading.gif","alt","",1,"w-25","cursor-pointer",3,"click"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li",3),dt(4,"Projects"),U()()(),F(5,"div",4)(6,"div",5)(7,"div",6)(8,"button",7),he("click",function(){return n.createProject()}),Nt(9,"i",8),F(10,"span",9),dt(11,"Create Prject"),U()()()()()(),F(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15),Ci(18,jb,10,0,"table",16)(19,zb,2,0,"div",17),U()()()()()()),i&2&&(yt(18),bi(n.data?18:19))},dependencies:[Bl],encapsulation:2})};var Gg={};Fe(Gg,{absolute:()=>lx,bottom:()=>gx,ellipse:()=>mx,ellipseSpread:()=>px,fn:()=>cx,left:()=>fx,line:()=>ux,right:()=>dx,top:()=>hx});var ar={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},Bb=Object.keys(ar).map(t=>ar[t]).join(""),ud="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",Gb=/\s/g,ev=new RegExp(`^(${ud}\\*)?([${Bb}])(/${ud})?([-+]{1,2}${ud})?$`,"g");function nv(t){throw new Error(`Invalid calc() expression: ${t}`)}function Zb(t,e){let i=ev.exec(t.replace(Gb,""));i||nv(t),ev.lastIndex=0;let[,n,r,o,s]=i,{x:l,y:c,width:d,height:h}=e,f=0;switch(r){case ar.width:{f=d;break}case ar.height:{f=h;break}case ar.x:{f=l;break}case ar.y:{f=c;break}case ar.minimum:{f=Math.min(h,d);break}case ar.maximum:{f=Math.max(h,d);break}case ar.diagonal:{f=Math.sqrt(h*h+d*d);break}}return n&&(f*=parseFloat(n)),o&&(f/=parseFloat(o.slice(1))),s&&(f+=Fb(s)),f}function Fb(t){if(!t)return 0;let[e]=t;switch(e){case"+":return parseFloat(t.substr(1));case"-":return-parseFloat(t.substr(1))}return parseFloat(t)}function Cn(t){return typeof t=="string"&&t.includes("calc")}var rv="calc(",iv=rv.length;function bn(t,e){let i=t,n=0;do{let r=i.indexOf(rv,n);if(r===-1)return i;let o=r+iv,s=1;t:do{switch(i[o]){case"(":{s++;break}case")":{if(s--,s===0)break t;break}case void 0:nv(i)}o++}while(!0);let l=i.slice(r+iv,o);Cn(l)&&(l=bn(l,e));let c=String(Zb(l,e));i=i.slice(0,r)+c+i.slice(o+1),n=r+c.length}while(!0)}var di={};Fe(di,{Curve:()=>ce,Ellipse:()=>ii,Line:()=>It,Path:()=>_t,Point:()=>L,Polygon:()=>Oi,Polyline:()=>le,Rect:()=>gt,bezier:()=>nA,ellipse:()=>Qb,intersection:()=>oA,line:()=>lr,normalizeAngle:()=>ri,point:()=>Ho,random:()=>tc,rect:()=>tA,scale:()=>Yb,snapToGrid:()=>Jn,toDeg:()=>qr,toRad:()=>Ke,types:()=>Rt});var{round:Wb,floor:Vb,PI:ov}=Math,Yb={linear:function(t,e,i){var n=t[1]-t[0],r=e[1]-e[0];return(i-t[0])/n*r+e[0]||0}},ri=function(t){return t%360+(t<0?360:0)},Jn=function(t,e){return e*Wb(t/e)},qr=function(t){return 180*t/ov%360},Ke=function(t,e){return e=e||!1,t=e?t:t%360,t*ov/180},tc=function(t,e){if(e===void 0)e=t===void 0?1:t,t=0;else if(e<t){let i=t;t=e,e=i}return Vb(Math.random()*(e-t+1)+t)};var{cos:ec,sin:fd,atan2:Ub}=Math,ic=function(t,e){var i=Ke(t.y),n=Ke(e.y),r=t.x,o=e.x,s=Ke(o-r),l=fd(s)*ec(n),c=ec(i)*fd(n)-fd(i)*ec(n)*ec(s),d=qr(Ub(l,c)),h=["NE","E","SE","S","SW","W","NW","N"],f=d-22.5;return f<0&&(f+=360),f=parseInt(f/45),h[f]};var Xo=function(t,e){var i=t.x,n=t.y,r=e.x,o=e.y;return(i-=r)*i+(n-=o)*n};var nc=function(t,e){return Math.sqrt(Xo(t,e))};var Rt={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8};var{abs:rc,cos:dd,sin:hd,sqrt:sv,min:av,max:lv,atan2:Xb,round:cv,pow:Hb,PI:uv}=Math,L=function(t,e){if(!(this instanceof L))return new L(t,e);if(typeof t=="string"){var i=t.split(t.indexOf("@")===-1?" ":"@");t=parseFloat(i[0]),e=parseFloat(i[1])}else Object(t)===t&&(e=t.y,t=t.x);this.x=t===void 0?0:t,this.y=e===void 0?0:e};L.fromPolar=function(t,e,i){i=new L(i);var n=rc(t*dd(e)),r=rc(t*hd(e)),o=ri(qr(e));return o<90?r=-r:o<180?(n=-n,r=-r):o<270&&(n=-n),new L(i.x+n,i.y+r)};L.random=function(t,e,i,n){return new L(tc(t,e),tc(i,n))};L.prototype={type:Rt.Point,chooseClosest:function(t){var e=t.length;if(e===1)return new L(t[0]);for(var i=null,n=1/0,r=0;r<e;r++){var o=new L(t[r]),s=this.squaredDistance(o);s<n&&(i=o,n=s)}return i},adhereToRect:function(t){return t.containsPoint(this)?this:(this.x=av(lv(this.x,t.x),t.x+t.width),this.y=av(lv(this.y,t.y),t.y+t.height),this)},angleBetween:function(t,e){var i=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return i<0&&(i+=360),i},bearing:function(t){return ic(this,t)},changeInAngle:function(t,e,i){return this.clone().offset(-t,-e).theta(i)-this.theta(i)},clone:function(){return new L(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new L(this.x-(t||0),this.y-(e||0))},distance:function(t){return nc(this,t)},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){var i=this.x,n=this.y;return new L((1-e)*i+e*t.x,(1-e)*n+e*t.y)},magnitude:function(){return sv(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return rc(t.x-this.x)+rc(t.y-this.y)},move:function(t,e){var i=Ke(new L(t).theta(this)),n=this.offset(dd(i)*e,-hd(i)*e);return n},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new L(t).move(this,this.distance(t))},rotate:function(t,e){if(e===0)return this;t=t||new L(0,0),e=Ke(ri(-e));var i=dd(e),n=hd(e),r=i*(this.x-t.x)-n*(this.y-t.y)+t.x,o=n*(this.x-t.x)+i*(this.y-t.y)+t.y;return this.x=r,this.y=o,this},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=Hb(10,t);break}return this.x=cv(this.x*e)/e,this.y=cv(this.y*e)/e,this},scale:function(t,e,i){return i=i&&new L(i)||new L(0,0),this.x=i.x+t*(this.x-i.x),this.y=i.y+e*(this.y-i.y),this},snapToGrid:function(t,e){return this.x=Jn(this.x,t),this.y=Jn(this.y,e||t),this},squaredDistance:function(t){return Xo(this,t)},theta:function(t){t=new L(t);var e=-(t.y-this.y),i=t.x-this.x,n=Xb(e,i);return n<0&&(n=2*uv+n),180*n/uv},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new L(t)||new L(0,0);var e=this.x,i=this.y;return this.x=sv((e-t.x)*(e-t.x)+(i-t.y)*(i-t.y)),this.y=Ke(t.theta(new L(e,i))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x=t||0,this.y=e||0,this},vectorAngle:function(t){var e=new L(0,0);return e.angleBetween(this,t)}};L.prototype.translate=L.prototype.offset;var Ho=L;var{max:gd,min:pd}=Math,It=function(t,e){if(!(this instanceof It))return new It(t,e);if(t instanceof It)return new It(t.start,t.end);this.start=new L(t),this.end=new L(e)};It.prototype={type:Rt.Line,angle:function(){var t=new L(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},bbox:function(){var t=pd(this.start.x,this.end.x),e=pd(this.start.y,this.end.y),i=gd(this.start.x,this.end.x),n=gd(this.start.y,this.end.y);return new gt(t,e,i-t,n-e)},bearing:function(){return ic(this.start,this.end)},clone:function(){return new It(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){var e=this.vector().dot(new It(this.start,t).vector()),i=pd(1,gd(0,e/this.squaredLength()));return i!==i?0:i},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},containsPoint:function(t){var e=this.start,i=this.end;if(e.cross(t,i)!==0)return!1;var n=this.length();return!(new It(e,t).length()>n||new It(t,i).length()>n)},divideAt:function(t){var e=this.pointAt(t);return[new It(this.start,e),new It(e,this.end)]},divideAtLength:function(t){var e=this.pointAtLength(t);return[new It(this.start,e),new It(e,this.end)]},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t&&t.intersectionWithLine){var i=t.intersectionWithLine(this,e);return i&&t instanceof It&&(i=i[0]),i}return null},intersectionWithLine:function(t){var e=new L(this.end.x-this.start.x,this.end.y-this.start.y),i=new L(t.end.x-t.start.x,t.end.y-t.start.y),n=e.x*i.y-e.y*i.x,r=new L(t.start.x-this.start.x,t.start.y-this.start.y),o=r.x*i.y-r.y*i.x,s=r.x*e.y-r.y*e.x;if(n===0||o*n<0||s*n<0)return null;if(n>0){if(o>n||s>n)return null}else if(o<n||s<n)return null;return[new L(this.start.x+o*e.x/n,this.start.y+o*e.y/n)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return nc(this.start,this.end)},midpoint:function(){return new L((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(t){let e=this.clone();if(!this.isDifferentiable())return e;let{start:i,end:n}=e,r=i.clone().rotate(n,270),o=n.clone().rotate(i,90);return i.move(o,t),n.move(r,t),e},pointAt:function(t){var e=this.start,i=this.end;return t<=0?e.clone():t>=1?i.clone():e.lerp(i,t)},pointAtLength:function(t){var e=this.start,i=this.end,n=!0;t<0&&(n=!1,t=-t);var r=this.length();return t>=r?n?i.clone():e.clone():this.pointAt((n?t:r-t)/r)},pointOffset:function(t){t=new L(t);var e=this.start,i=this.end,n=(i.x-e.x)*(t.y-e.y)-(i.y-e.y)*(t.x-e.x);return n/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){return this.start.round(t),this.end.round(t),this},scale:function(t,e,i){return this.start.scale(t,e,i),this.end.scale(t,e,i),this},setLength:function(t){var e=this.length();if(!e)return this;var i=t/e;return this.scale(i,i,this.start)},squaredLength:function(){return Xo(this.start,this.end)},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,i=this.end,n=this.pointAt(t),r=new It(e,i);return r.translate(n.x-e.x,n.y-e.y),r},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,i=this.end,n=this.pointAtLength(t),r=new It(e,i);return r.translate(n.x-e.x,n.y-e.y),r},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new L(this.end.x-this.start.x,this.end.y-this.start.y)}};It.prototype.intersection=It.prototype.intersect;var lr=It;var{sqrt:fv,round:oc,pow:Jb}=Math,ii=function(t,e,i){if(!(this instanceof ii))return new ii(t,e,i);if(t instanceof ii)return new ii(new L(t.x,t.y),t.a,t.b);t=new L(t),this.x=t.x,this.y=t.y,this.a=e,this.b=i};ii.fromRect=function(t){return t=new gt(t),new ii(t.center(),t.width/2,t.height/2)};ii.prototype={type:Rt.Ellipse,bbox:function(){return new gt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new L(this.x,this.y)},clone:function(){return new ii(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],i=t.start,n=t.end,r=this.a,o=this.b,s=t.vector(),l=i.difference(new L(this)),c=new L(s.x/(r*r),s.y/(o*o)),d=new L(l.x/(r*r),l.y/(o*o)),h=s.dot(c),f=s.dot(d),y=l.dot(d)-1,w=f*f-h*y;if(w<0)return null;if(w>0){var x=fv(w),N=(-f-x)/h,T=(-f+x)/h;if((N<0||1<N)&&(T<0||1<T))return null;0<=N&&N<=1&&e.push(i.lerp(n,N)),0<=T&&T<=1&&e.push(i.lerp(n,T))}else{var E=-f/h;if(0<=E&&E<=1)e.push(i.lerp(n,E));else return null}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new L(t),e&&t.rotate(new L(this.x,this.y),e);var i=t.x-this.x,n=t.y-this.y,r;if(i===0)return r=this.bbox().pointNearestToPoint(t),e?r.rotate(new L(this.x,this.y),-e):r;var o=n/i,s=o*o,l=this.a*this.a,c=this.b*this.b,d=fv(1/(1/l+s/c));d=i<0?-d:d;var h=o*d;return r=new L(this.x+d,this.y+h),e?r.rotate(new L(this.x,this.y),-e):r},normalizedDistance:function(t){var e=t.x,i=t.y,n=this.a,r=this.b,o=this.x,s=this.y;return(e-o)*(e-o)/(n*n)+(i-s)*(i-s)/(r*r)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=Jb(10,t);break}return this.x=oc(this.x*e)/e,this.y=oc(this.y*e)/e,this.a=oc(this.a*e)/e,this.b=oc(this.b*e)/e,this},tangentTheta:function(t){var e=30,i=t.x,n=t.y,r=this.a,o=this.b,s=this.bbox().center(),l=s.x,c=s.y,d=i>s.x+r/2,h=i<s.x-r/2,f,y;return d||h?(f=i>s.x?n-e:n+e,y=r*r/(i-l)-r*r*(n-c)*(f-c)/(o*o*(i-l))+l):(y=n>s.y?i+e:i-e,f=o*o/(n-c)-o*o*(i-l)*(y-l)/(r*r*(n-c))+c),new L(y,f).theta(t)},toString:function(){return new L(this.x,this.y).toString()+" "+this.a+" "+this.b}};var Qb=ii;var{abs:dv,cos:Kb,sin:qb,min:ha,max:hv,round:sc,pow:$b}=Math,gt=function(t,e,i,n){if(!(this instanceof gt))return new gt(t,e,i,n);Object(t)===t&&(e=t.y,i=t.width,n=t.height,t=t.x),this.x=t===void 0?0:t,this.y=e===void 0?0:e,this.width=i===void 0?0:i,this.height=n===void 0?0:n};gt.fromEllipse=function(t){return t=new ii(t),new gt(t.x-t.a,t.y-t.b,2*t.a,2*t.b)};gt.fromPointUnion=function(...t){if(t.length===0)return null;let e=new L,i,n,r,o;i=n=1/0,r=o=-1/0;for(let s=0;s<t.length;s++){e.update(t[s]);let l=e.x,c=e.y;l<i&&(i=l),l>r&&(r=l),c<n&&(n=c),c>o&&(o=c)}return new gt(i,n,r-i,o-n)};gt.fromRectUnion=function(...t){if(t.length===0)return null;let e=new gt,i,n,r,o;i=n=1/0,r=o=-1/0;for(let s=0;s<t.length;s++){e.update(t[s]);let l=e.x,c=e.y,d=l+e.width,h=c+e.height;l<i&&(i=l),d>r&&(r=d),c<n&&(n=c),h>o&&(o=h)}return new gt(i,n,r-i,o-n)};gt.prototype={type:Rt.Rect,bbox:function(t){return this.clone().rotateAroundCenter(t)},rotateAroundCenter:function(t){if(!t)return this;let{width:e,height:i}=this,n=Ke(t),r=dv(qb(n)),o=dv(Kb(n)),s=e*o+i*r,l=e*r+i*o;return this.x+=(e-s)/2,this.y+=(i-l)/2,this.width=s,this.height=l,this},bottomLeft:function(){return new L(this.x,this.y+this.height)},bottomLine:function(){return new It(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new L(this.x+this.width/2,this.y+this.height)},center:function(){return new L(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new gt(this)},containsPoint:function(t){return t instanceof L||(t=new L(t)),t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=new gt(this).normalize(),i=new gt(t).normalize(),n=e.width,r=e.height,o=i.width,s=i.height;if(!n||!r||!o||!s)return!1;var l=e.x,c=e.y,d=i.x,h=i.y;return o+=d,n+=l,s+=h,r+=c,l<=d&&o<=n&&c<=h&&s<=r},corner:function(){return new L(this.x+this.width,this.y+this.height)},equals:function(t){var e=new gt(this).normalize(),i=new gt(t).normalize();return e.x===i.x&&e.y===i.y&&e.width===i.width&&e.height===i.height},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),i=this.corner(),n=t.origin(),r=t.corner();if(r.x<=e.x||r.y<=e.y||n.x>=i.x||n.y>=i.y)return null;var o=hv(e.x,n.x),s=hv(e.y,n.y);return new gt(o,s,ha(i.x,r.x)-o,ha(i.y,r.y)-s)},intersectionWithLine:function(t){var e=this,i=[e.topLine(),e.rightLine(),e.bottomLine(),e.leftLine()],n=[],r=[],o,s,l=i.length;for(s=0;s<l;s++)o=t.intersect(i[s]),o!==null&&r.indexOf(o.toString())<0&&(n.push(o),r.push(o.toString()));return n.length>0?n:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new L(t);var i=new L(this.x+this.width/2,this.y+this.height/2),n;e&&t.rotate(i,e);for(var r=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new It(i,t),s=r.length-1;s>=0;--s){var l=r[s].intersection(o);if(l!==null){n=l;break}}return n&&e&&n.rotate(i,-e),n},leftLine:function(){return new It(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new L(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){t=new gt(t),e||(e=t.center());var i,n,r,o,s,l,c,d,h=e.x,f=e.y;i=n=r=o=s=l=c=d=1/0;var y=t.topLeft();y.x<h&&(i=(this.x-h)/(y.x-h)),y.y<f&&(s=(this.y-f)/(y.y-f));var w=t.bottomRight();w.x>h&&(n=(this.x+this.width-h)/(w.x-h)),w.y>f&&(l=(this.y+this.height-f)/(w.y-f));var x=t.topRight();x.x>h&&(r=(this.x+this.width-h)/(x.x-h)),x.y<f&&(c=(this.y-f)/(x.y-f));var N=t.bottomLeft();return N.x<h&&(o=(this.x-h)/(N.x-h)),N.y>f&&(d=(this.y+this.height-f)/(N.y-f)),{sx:ha(i,n,r,o),sy:ha(s,l,c,d)}},maxRectUniformScaleToFit:function(t,e){var i=this.maxRectScaleToFit(t,e);return ha(i.sx,i.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,i=this.width,n=this.height;return this.width<0&&(t=this.x+this.width,i=-this.width),this.height<0&&(e=this.y+this.height,n=-this.height),this.x=t,this.y=e,this.width=i,this.height=n,this},offset:function(t,e){return L.prototype.offset.call(this,t,e)},origin:function(){return new L(this.x,this.y)},pointNearestToPoint:function(t){if(t=new L(t),this.containsPoint(t)){var e=this.sideNearestToPoint(t);switch(e){case"right":return new L(this.x+this.width,t.y);case"left":return new L(this.x,t.y);case"bottom":return new L(t.x,this.y+this.height);case"top":return new L(t.x,this.y)}}return t.adhereToRect(this)},rightLine:function(){return new It(this.topRight(),this.bottomRight())},rightMiddle:function(){return new L(this.x+this.width,this.y+this.height/2)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=$b(10,t);break}return this.x=sc(this.x*e)/e,this.y=sc(this.y*e)/e,this.width=sc(this.width*e)/e,this.height=sc(this.height*e)/e,this},scale:function(t,e,i){return i=this.origin().scale(t,e,i),this.x=i.x,this.y=i.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){t=new L(t);var e=t.x-this.x,i=this.x+this.width-t.x,n=t.y-this.y,r=this.y+this.height-t.y,o=e,s="left";return i<o&&(o=i,s="right"),n<o&&(o=n,s="top"),r<o&&(s="bottom"),s},snapToGrid:function(t,e){var i=this.origin().snapToGrid(t,e),n=this.corner().snapToGrid(t,e);return this.x=i.x,this.y=i.y,this.width=n.x-i.x,this.height=n.y-i.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new It(this.topLeft(),this.topRight())},topMiddle:function(){return new L(this.x+this.width/2,this.y)},topRight:function(){return new L(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){return gt.fromRectUnion(this,t)},update:function(t,e,i,n){return Object(t)===t&&(e=t.y,i=t.width,n=t.height,t=t.x),this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this}};gt.prototype.bottomRight=gt.prototype.corner;gt.prototype.topLeft=gt.prototype.origin;gt.prototype.translate=gt.prototype.offset;var tA=gt;function ac(t){let e=t.trim();if(e==="")return[];let i=[],n=e.split(/\b\s*,\s*|,\s*|\s+/),r=n.length;for(let o=0;o<r;o+=2)i.push({x:+n[o],y:+n[o+1]});return i}function lc(t){let e=t.length;if(e===0)return[];let i=[];for(let n=0;n<e;n++){let r=t[n].clone();i.push(r)}return i}function cc(t){let{abs:e}=Math;var i,n,r=t.length;if(r===0)return[];var o;for(i=0;i<r;i++)(o===void 0||t[i].y<o.y||t[i].y===o.y&&t[i].x>o.x)&&(o=t[i]);var s=[];for(i=0;i<r;i++){var l=o.theta(t[i]);l===0&&(l=360);var c=[t[i],i,l];s.push(c)}if(s.sort(function(X,ft){var vt=X[2]-ft[2];return vt===0&&(vt=ft[1]-X[1]),vt}),s.length>2){var d=s[s.length-1];s.unshift(d)}for(var h={},f=[],y,w,x,N,T,E;s.length!==0;)if(y=s.pop(),w=y[0],!h.hasOwnProperty(y[0]+"@@"+y[1]))for(var Y=!1;!Y;)if(f.length<2)f.push(y),Y=!0;else{x=f.pop(),N=x[0],T=f.pop(),E=T[0];var K=E.cross(N,w);if(K<0)f.push(T),f.push(x),f.push(y),Y=!0;else if(K===0){var et=1e-10,lt=N.angleBetween(E,w);e(lt-180)<et||N.equals(w)||E.equals(N)?(h[x[0]+"@@"+x[1]]=N,f.push(T)):e((lt+1)%360-1)<et&&(f.push(T),s.push(x))}else h[x[0]+"@@"+x[1]]=N,f.push(T)}f.length>2&&f.pop();var p,v=-1;for(n=f.length,i=0;i<n;i++){var A=f[i][1];(p===void 0||A<p)&&(p=A,v=i)}var _=[];if(v>0){var D=f.slice(v),z=f.slice(0,v);_=D.concat(z)}else _=f;var B=[];for(n=_.length,i=0;i<n;i++)B.push(_[i][0]);return B}var le=function(t){if(!(this instanceof le))return new le(t);if(typeof t=="string")return new le.parse(t);this.points=Array.isArray(t)?t.map(L):[]};le.parse=function(t){return new le(ac(t))};le.fromRect=function(t){return new le([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft(),t.topLeft()])};le.prototype={type:Rt.Polyline,bbox:function(){var t=1/0,e=-1/0,i=1/0,n=-1/0,r=this.points,o=r.length;if(o===0)return null;for(var s=0;s<o;s++){var l=r[s],c=l.x,d=l.y;c<t&&(t=c),c>e&&(e=c),d<i&&(i=d),d>n&&(n=d)}return new gt(t,i,e-t,n-i)},clone:function(){return new le(lc(this.points))},closestPoint:function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},closestPointLength:function(t){var e=this.lengthPoints(),i=e.length;if(i===0||i===1)return 0;for(var n,r=1/0,o=0,s=i-1,l=0;l<s;l++){var c=new It(e[l],e[l+1]),d=c.length(),h=c.closestPointNormalizedLength(t),f=c.pointAt(h),y=f.squaredDistance(t);y<r&&(r=y,n=o+h*d),o+=d}return n},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(e===0)return 0;var i=this.length();return i===0?0:e/i},closestPointTangent:function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},containsPoint:function(t){var e=this.points,i=e.length;if(i===0)return!1;for(var n=t.x,r=t.y,o=i-1,s=0,l=0,c=new It,d=new It,h=new L;s<i;s++){var f=e[o],y=e[s];if(t.equals(f)||(c.start=f,c.end=y,c.containsPoint(t)))return!0;if(r<=f.y&&r>y.y||r>f.y&&r<=y.y){var w=f.x-n>y.x-n?f.x-n:y.x-n;w>=0&&(h.x=n+w,h.y=r,d.start=t,d.end=h,c.intersect(d)&&l++)}o=s}return l%2===1},close:function(){let{start:t,end:e,points:i}=this;return t&&e&&!t.equals(e)&&i.push(t.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new le(cc(this.points))},equals:function(t){if(!t)return!1;var e=this.points,i=t.points,n=e.length;if(i.length!==n)return!1;for(var r=0;r<n;r++){var o=e[r],s=t.points[r];if(!o.equals(s))return!1}return!0},intersectionWithLine:function(t){for(var e=new It(t),i=[],n=this.lengthPoints(),r=new It,o=0,s=n.length-1;o<s;o++){r.start=n[o],r.end=n[o+1];var l=e.intersectionWithLine(r);l&&i.push(l[0])}return i.length>0?i:null},isDifferentiable:function(){var t=this.points,e=t.length;if(e===0)return!1;for(var i=new It,n=e-1,r=0;r<n;r++)if(i.start=t[r],i.end=t[r+1],i.isDifferentiable())return!0;return!1},length:function(){var t=this.lengthPoints(),e=t.length;if(e===0)return 0;for(var i=0,n=e-1,r=0;r<n;r++)i+=t[r].distance(t[r+1]);return i},pointAt:function(t){var e=this.lengthPoints(),i=e.length;if(i===0)return null;if(i===1||t<=0)return e[0].clone();if(t>=1)return e[i-1].clone();var n=this.length(),r=n*t;return this.pointAtLength(r)},pointAtLength:function(t){var e=this.lengthPoints(),i=e.length;if(i===0)return null;if(i===1)return e[0].clone();var n=!0;t<0&&(n=!1,t=-t);for(var r=0,o=i-1,s=0;s<o;s++){var l=n?s:o-1-s,c=e[l],d=e[l+1],h=new It(c,d),f=c.distance(d);if(t<=r+f)return h.pointAtLength((n?1:-1)*(t-r));r+=f}var y=n?e[i-1]:e[0];return y.clone()},round:function(t){for(var e=this.points,i=e.length,n=0;n<i;n++)e[n].round(t);return this},scale:function(t,e,i){for(var n=this.points,r=n.length,o=0;o<r;o++)n[o].scale(t,e,i);return this},simplify:function(t={}){let e=this.points;if(e.length<3)return this;let i=t.threshold||1e-10,n=0;for(;e[n+2];){let r=n,o=n+1,s=n+2,l=e[r],c=e[o],d=e[s];new It(l,d).closestPoint(c).distance(c)<=i?e.splice(o,1):n+=1}return this},tangentAt:function(t){var e=this.lengthPoints(),i=e.length;if(i===0||i===1)return null;t<0&&(t=0),t>1&&(t=1);var n=this.length(),r=n*t;return this.tangentAtLength(r)},tangentAtLength:function(t){var e=this.lengthPoints(),i=e.length;if(i===0||i===1)return null;var n=!0;t<0&&(n=!1,t=-t);for(var r,o=0,s=i-1,l=0;l<s;l++){var c=n?l:s-1-l,d=e[c],h=e[c+1],f=new It(d,h),y=d.distance(h);if(f.isDifferentiable()){if(t<=o+y)return f.tangentAtLength((n?1:-1)*(t-o));r=f}o+=y}if(r){var w=n?1:0;return r.tangentAt(w)}return null},toString:function(){return this.points+""},translate:function(t,e){for(var i=this.points,n=i.length,r=0;r<n;r++)i[r].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(e===0)return"";for(var i="",n=0;n<e;n++){var r=t[n];i+=r.x+","+r.y+" "}return i.trim()}};Object.defineProperty(le.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[0]}});Object.defineProperty(le.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[e-1]}});var{abs:uc,sqrt:eA,min:gv,max:pv,pow:md}=Math,ce=function(t,e,i,n){if(!(this instanceof ce))return new ce(t,e,i,n);if(t instanceof ce)return new ce(t.start,t.controlPoint1,t.controlPoint2,t.end);this.start=new L(t),this.controlPoint1=new L(e),this.controlPoint2=new L(i),this.end=new L(n)};ce.throughPoints=(function(){function t(i){var n=[],r=[],o=i.length-1,s;if(o==1)return n[0]=new L((2*i[0].x+i[1].x)/3,(2*i[0].y+i[1].y)/3),r[0]=new L(2*n[0].x-i[0].x,2*n[0].y-i[0].y),[n,r];var l=[];for(s=1;s<o-1;s++)l[s]=4*i[s].x+2*i[s+1].x;l[0]=i[0].x+2*i[1].x,l[o-1]=(8*i[o-1].x+i[o].x)/2;var c=e(l);for(s=1;s<o-1;++s)l[s]=4*i[s].y+2*i[s+1].y;l[0]=i[0].y+2*i[1].y,l[o-1]=(8*i[o-1].y+i[o].y)/2;var d=e(l);for(s=0;s<o;s++)n.push(new L(c[s],d[s])),s<o-1?r.push(new L(2*i[s+1].x-c[s+1],2*i[s+1].y-d[s+1])):r.push(new L((i[o].x+c[o-1])/2,(i[o].y+d[o-1])/2));return[n,r]}function e(i){var n=i.length,r=[],o=[],s=2;r[0]=i[0]/s;for(var l=1;l<n;l++)o[l]=1/s,s=(l<n-1?4:3.5)-o[l],r[l]=(i[l]-r[l-1])/s;for(l=1;l<n;l++)r[n-l-1]-=o[n-l]*r[n-l];return r}return function(i){if(!i||Array.isArray(i)&&i.length<2)throw new Error("At least 2 points are required");for(var n=t(i),r=[],o=n[0].length,s=0;s<o;s++){var l=new L(n[0][s].x,n[0][s].y),c=new L(n[1][s].x,n[1][s].y);r.push(new ce(i[s],l,c,i[s+1]))}return r}})();ce.prototype={type:Rt.Curve,bbox:function(){for(var t=this.start,e=this.controlPoint1,i=this.controlPoint2,n=this.end,r=t.x,o=t.y,s=e.x,l=e.y,c=i.x,d=i.y,h=n.x,f=n.y,y=new Array,w=new Array,x=[new Array,new Array],N,T,E,Y,K,et,lt,p,v=0;v<2;++v){if(v===0?(T=6*r-12*s+6*c,N=-3*r+9*s-9*c+3*h,E=3*s-3*r):(T=6*o-12*l+6*d,N=-3*o+9*l-9*d+3*f,E=3*l-3*o),uc(N)<1e-12){if(uc(T)<1e-12)continue;Y=-E/T,0<Y&&Y<1&&w.push(Y);continue}lt=T*T-4*E*N,p=eA(lt),!(lt<0)&&(K=(-T+p)/(2*N),0<K&&K<1&&w.push(K),et=(-T-p)/(2*N),0<et&&et<1&&w.push(et))}for(var A=w.length,_=A,D,z,B;A--;)Y=w[A],D=1-Y,z=D*D*D*r+3*D*D*Y*s+3*D*Y*Y*c+Y*Y*Y*h,x[0][A]=z,B=D*D*D*o+3*D*D*Y*l+3*D*Y*Y*d+Y*Y*Y*f,x[1][A]=B,y[A]={X:z,Y:B};w[_]=0,w[_+1]=1,y[_]={X:r,Y:o},y[_+1]={X:h,Y:f},x[0][_]=r,x[1][_]=o,x[0][_+1]=h,x[1][_+1]=f,w.length=_+2,x[0].length=_+2,x[1].length=_+2,y.length=_+2;var X=gv.apply(null,x[0]),ft=gv.apply(null,x[1]),vt=pv.apply(null,x[0]),W=pv.apply(null,x[1]);return new gt(X,ft,vt-X,W-ft)},clone:function(){return new ce(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:i}):e.subdivisions,r={precision:i,subdivisions:n};return this.lengthAtT(this.closestPointT(t,r),r)},closestPointNormalizedLength:function(t,e){e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:i}):e.subdivisions,r={precision:i,subdivisions:n},o=this.closestPointLength(t,r);if(!o)return 0;var s=this.length(r);return s===0?0:o/s},closestPointT:function(t,e){e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:i}):e.subdivisions,r,o,s,l,c,d,h,f=n.length,y=f?1/f:0,w=0;w<f;w++){var x=n[w],N=x.start.distance(t),T=x.end.distance(t),E=N+T;(!h||E<h)&&(r=x,o=w*y,s=(w+1)*y,l=N,c=T,d=x.start.distance(x.end),h=E)}for(var Y=md(10,-i);;){var K=l?uc(l-c)/l:0,et=c?uc(l-c)/c:0,lt=K<Y||et<Y,p=l?l<d*Y:!0,v=c?c<d*Y:!0,A=p||v;if(lt||A)return l<=c?o:s;var _=r.divide(.5);y/=2;var D=_[0].start.distance(t),z=_[0].end.distance(t),B=D+z,X=_[1].start.distance(t),ft=_[1].end.distance(t),vt=X+ft;B<=vt?(r=_[0],s-=y,l=D,c=z):(r=_[1],o+=y,l=X,c=ft)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},containsPoint:function(t,e){var i=this.toPolyline(e);return i.containsPoint(t)},divideAt:function(t,e){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);var i=this.tAt(t,e);return this.divideAtT(i)},divideAtLength:function(t,e){var i=this.tAtLength(t,e);return this.divideAtT(i)},divideAtT:function(t){var e=this.start,i=this.controlPoint1,n=this.controlPoint2,r=this.end;if(t<=0)return[new ce(e,e,e,e),new ce(e,i,n,r)];if(t>=1)return[new ce(e,i,n,r),new ce(r,r,r,r)];var o=this.getSkeletonPoints(t),s=o.startControlPoint1,l=o.startControlPoint2,c=o.divider,d=o.dividerControlPoint1,h=o.dividerControlPoint2;return[new ce(e,s,l,c),new ce(c,d,h,r)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,i=this.controlPoint1,n=this.controlPoint2,r=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:n.clone()};if(t>=1)return{startControlPoint1:i.clone(),startControlPoint2:n.clone(),divider:r.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:r.clone()};var o=new It(e,i).pointAt(t),s=new It(i,n).pointAt(t),l=new It(n,r).pointAt(t),c=new It(o,s).pointAt(t),d=new It(s,l).pointAt(t),h=new It(c,d).pointAt(t),f={startControlPoint1:o,startControlPoint2:c,divider:h,dividerControlPoint1:d,dividerControlPoint2:l};return f},getSubdivisions:function(t){t=t||{};var e=t.precision===void 0?this.PRECISION:t.precision,i=this.start,n=this.controlPoint1,r=this.controlPoint2,o=this.end,s=[new ce(i,n,r,o)];if(e===0)return s;var l=!this.isDifferentiable();if(l)return s;var c=this.endpointDistance(),d=md(10,-e),h=2,f=n.cross(i,o)===0&&r.cross(i,o)===0;f&&(h=2*e);for(var y=0;;){y+=1;for(var w=[],x=s.length,N=0;N<x;N++){var T=s[N],E=T.divide(.5);w.push(E[0],E[1])}for(var Y=0,K=w.length,et=0;et<K;et++){var lt=w[et];Y+=lt.endpointDistance()}if(y>=h){var p=Y!==0?(Y-c)/Y:0;if(p<d)return w}s=w,c=Y}},isDifferentiable:function(){var t=this.start,e=this.controlPoint1,i=this.controlPoint2,n=this.end;return!(t.equals(e)&&e.equals(i)&&i.equals(n))},length:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,n=0,r=i.length,o=0;o<r;o++){var s=i[o];n+=s.endpointDistance()}return n},lengthAtT:function(t,e){if(t<=0)return 0;e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,n=this.divide(t)[0],r=n.length({precision:i});return r},pointAt:function(t,e){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var i=this.tAt(t,e);return this.pointAtT(i)},pointAtLength:function(t,e){var i=this.tAtLength(t,e);return this.pointAtT(i)},pointAtT:function(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,round:function(t){return this.start.round(t),this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,i){return this.start.scale(t,e,i),this.controlPoint1.scale(t,e,i),this.controlPoint2.scale(t,e,i),this.end.scale(t,e,i),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var i=this.tAt(t,e);return this.tangentAtT(i)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;var i=this.tAtLength(t,e);return this.tangentAtT(i)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var e=this.getSkeletonPoints(t),i=e.startControlPoint2,n=e.dividerControlPoint1,r=e.divider,o=new It(i,n);return o.translate(r.x-i.x,r.y-i.y),o},tAt:function(t,e){if(t<=0)return 0;if(t>=1)return 1;e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:i}):e.subdivisions,r={precision:i,subdivisions:n},o=this.length(r),s=o*t;return this.tAtLength(s,r)},tAtLength:function(t,e){var i=!0;t<0&&(i=!1,t=-t),e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,o={precision:n,subdivisions:r},s,l,c,d,h,f=0,y=r.length,w=1/y,x=0;x<y;x++){var N=i?x:y-1-x,T=r[x],E=T.endpointDistance();if(t<=f+E){s=T,l=N*w,c=(N+1)*w,d=i?t-f:E+f-t,h=i?E+f-t:t-f;break}f+=E}if(!s)return i?1:0;for(var Y=this.length(o),K=md(10,-n);;){var et;if(et=Y!==0?d/Y:0,et<K)return l;if(et=Y!==0?h/Y:0,et<K)return c;var lt,p,v=s.divide(.5);w/=2;var A=v[0].endpointDistance(),_=v[1].endpointDistance();d<=A?(s=v[0],c-=w,lt=d,p=A-lt):(s=v[1],l+=w,lt=d-A,p=_-lt),d=lt,h=p}},toPoints:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,n=[i[0].start.clone()],r=i.length,o=0;o<r;o++){var s=i[o];n.push(s.end.clone())}return n},toPolyline:function(t){return new le(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};ce.prototype.divide=ce.prototype.divideAtT;function $r(t){var e,i,n=[];for(i=arguments.length,e=1;e<i;e++)n.push(arguments[e]);if(!t)throw new Error("Missing a parent object.");var r=Object.create(t);for(i=n.length,e=0;e<i;e++){var o=n[e],s,l;for(l in o)o.hasOwnProperty(l)&&(delete r[l],s=Object.getOwnPropertyDescriptor(o,l),Object.defineProperty(r,l,s))}return r}var _t=function(t){if(!(this instanceof _t))return new _t(t);if(typeof t=="string")return new _t.parse(t);this.segments=[];var e,i;if(t)if(Array.isArray(t)&&t.length!==0)if(t=t.reduce(function(l,c){return l.concat(c)},[]),i=t.length,t[0].isSegment)for(e=0;e<i;e++){var n=t[e];this.appendSegment(n)}else{var r=null;for(e=0;e<i;e++){var o=t[e];if(!(o instanceof It||o instanceof ce))throw new Error("Cannot construct a path segment from the provided object.");e===0&&this.appendSegment(_t.createSegment("M",o.start)),r&&!r.end.equals(o.start)&&this.appendSegment(_t.createSegment("M",o.start)),o instanceof It?this.appendSegment(_t.createSegment("L",o.end)):o instanceof ce&&this.appendSegment(_t.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),r=o}}else if(t.isSegment)this.appendSegment(t);else if(t instanceof It)this.appendSegment(_t.createSegment("M",t.start)),this.appendSegment(_t.createSegment("L",t.end));else if(t instanceof ce)this.appendSegment(_t.createSegment("M",t.start)),this.appendSegment(_t.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else if(t instanceof le){if(!(t.points&&t.points.length!==0))return;for(i=t.points.length,e=0;e<i;e++){var s=t.points[e];e===0?this.appendSegment(_t.createSegment("M",s)):this.appendSegment(_t.createSegment("L",s))}}else throw new Error("Cannot construct a path from the provided object.")};_t.parse=function(t){if(!t)return new _t;for(var e=new _t,i=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,n=t.match(i),r=n.length,o=0;o<r;o++){var s=n[o],l=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,c=s.match(l),d=_t.createSegment.apply(this,c);e.appendSegment(d)}return e};_t.createSegment=function(t){if(!t)throw new Error("Type must be provided.");var e=_t.segmentTypes[t];if(!e)throw new Error(t+" is not a recognized path segment type.");for(var i=[],n=arguments.length,r=1;r<n;r++)i.push(arguments[r]);return Qn(e,i)};_t.prototype={type:Rt.Path,appendSegment:function(t){var e=this.segments,i=e.length,n,r=i!==0?e[i-1]:null,o=null;if(Array.isArray(t)){if(t=t.reduce(function(d,h){return d.concat(h)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var s=t.length,l=0;l<s;l++){var c=t[l];n=this.prepareSegment(c,r,o),e.push(n),r=n}}else{if(!t||!t.isSegment)throw new Error("Segment required.");n=this.prepareSegment(t,r,o),e.push(n)}},bbox:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var i,n=0;n<e;n++){var r=t[n];if(r.isVisible){var o=r.bbox();i=i?i.union(o):o}}if(i)return i;var s=t[e-1];return new gt(s.end.x,s.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,i=new _t,n=0;n<e;n++){var r=t[n].clone();i.appendSegment(r)}return i},closestPoint:function(t,e){var i=this.closestPointT(t,e);return i?this.pointAtT(i):null},closestPointLength:function(t,e){e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,n=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,r={precision:i,segmentSubdivisions:n},o=this.closestPointT(t,r);return o?this.lengthAtT(o,r):0},closestPointNormalizedLength:function(t,e){e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,n=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,r={precision:i,segmentSubdivisions:n},o=this.closestPointLength(t,r);if(o===0)return 0;var s=this.length(r);return s===0?0:o/s},closestPointT:function(t,e){var i=this.segments,n=i.length;if(n===0)return null;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,s,l=1/0,c=0;c<n;c++){var d=i[c],h=o[c];if(d.isVisible){var f=d.closestPointT(t,{precision:r,subdivisions:h}),y=d.pointAtT(f),w=new It(y,t).squaredLength();w<l&&(s={segmentIndex:c,value:f},l=w)}}return s||{segmentIndex:n-1,value:1}},closestPointTangent:function(t,e){var i=this.segments,n=i.length;if(n===0)return null;e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,s,l=1/0,c=0;c<n;c++){var d=i[c],h=o[c];if(d.isDifferentiable()){var f=d.closestPointT(t,{precision:r,subdivisions:h}),y=d.pointAtT(f),w=new It(y,t).squaredLength();w<l&&(s=d.tangentAtT(f),l=w)}}return s||null},containsPoint:function(t,e){var i=this.toPolylines(e);if(!i)return!1;for(var n=i.length,r=0,o=0;o<n;o++){var s=i[o];s.containsPoint(t)&&r++}return r%2===1},divideAt:function(t,e){var i=this.segments,n=i.length;if(n===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var r=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,s={precision:r,segmentSubdivisions:o},l=this.length(s),c=l*t;return this.divideAtLength(c,s)},divideAtLength:function(t,e){var i=this.segments.length;if(i===0)return null;var n=!0;t<0&&(n=!1,t=-t),e=e||{};var r=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,s,l,c=0,d,h,f,y,w;for(s=0;s<i;s++){var x=n?s:i-1-s;l=this.getSegment(x);var N=o[x],T=l.length({precision:r,subdivisions:N});if(l.isDifferentiable()&&(f=l,y=x,t<=c+T)){h=x,d=l.divideAtLength((n?1:-1)*(t-c),{precision:r,subdivisions:N});break}c+=T}if(!f)return null;d||(h=y,w=n?1:0,d=f.divideAtT(w));var E=this.clone();E.replaceSegment(h,d);var Y=h,K=h+1,et=h+2;d[0].isDifferentiable()||(E.removeSegment(Y),K-=1,et-=1);var lt=E.getSegment(K).start;E.insertSegment(K,_t.createSegment("M",lt)),et+=1,d[1].isDifferentiable()||(E.removeSegment(et-1),et-=1);var p=et-Y-1;for(s=et;s<E.segments.length;s++){var v=this.getSegment(s-p);if(l=E.getSegment(s),l.type==="Z"&&!v.subpathStartSegment.end.equals(l.subpathStartSegment.end)){var A=_t.createSegment("L",v.end);E.replaceSegment(s,A)}}var _=new _t(E.segments.slice(0,K)),D=new _t(E.segments.slice(K));return[_,D]},equals:function(t){if(!t)return!1;var e=this.segments,i=t.segments,n=e.length;if(i.length!==n)return!1;for(var r=0;r<n;r++){var o=e[r],s=i[r];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(t){var e=this.segments,i=e.length;if(i===0)throw new Error("Path has no segments.");if(t<0&&(t=i+t),t>=i||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){var e=this.segments,i=e.length;t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,r=[],o=0;o<i;o++){var s=e[o],l=s.getSubdivisions({precision:n});r.push(l)}return r},getSubpaths:function(){let e=this.clone().validate().segments,i=e.length,n=[];for(let r=0;r<i;r++){let o=e[r];o.isSubpathStart?n.push(new _t(o)):n[n.length-1].appendSegment(o)}return n},insertSegment:function(t,e){var i=this.segments,n=i.length;if(t<0&&(t=n+t+1),t>n||t<0)throw new Error("Index out of range.");var r,o=null,s=null;if(n!==0&&(t>=1?(o=i[t-1],s=o.nextSegment):s=i[0]),Array.isArray(e)){if(e=e.reduce(function(h,f){return h.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var l=e.length,c=0;c<l;c++){var d=e[c];r=this.prepareSegment(d,o,s),i.splice(t+c,0,r),o=r}}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,o,s),i.splice(t,0,r)}},intersectionWithLine:function(t,e){var i=null,n=this.toPolylines(e);if(!n)return null;for(var r=0,o=n.length;r<o;r++){var s=n[r],l=t.intersect(s);l&&(i||(i=[]),Array.isArray(l)?Array.prototype.push.apply(i,l):i.push(l))}return i},isDifferentiable:function(){for(var t=this.segments,e=t.length,i=0;i<e;i++){var n=t[i];if(n.isDifferentiable())return!0}return!1},isValid:function(){var t=this.segments,e=t.length===0||t[0].type==="M";return e},length:function(t){var e=this.segments,i=e.length;if(i===0)return 0;t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,o=0,s=0;s<i;s++){var l=e[s],c=r[s];o+=l.length({subdivisions:c})}return o},lengthAtT:function(t,e){var i=this.segments,n=i.length;if(n===0)return 0;var r=t.segmentIndex;if(r<0)return 0;var o=t.value;r>=n?(r=n-1,o=1):o<0?o=0:o>1&&(o=1),e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,l=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,c,d=0,h=0;h<r;h++){var f=i[h];c=l[h],d+=f.length({precisison:s,subdivisions:c})}return f=i[r],c=l[r],d+=f.lengthAtT(o,{precisison:s,subdivisions:c}),d},pointAt:function(t,e){var i=this.segments,n=i.length;if(n===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();e=e||{};var r=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,s={precision:r,segmentSubdivisions:o},l=this.length(s),c=l*t;return this.pointAtLength(c,s)},pointAtLength:function(t,e){var i=this.segments,n=i.length;if(n===0)return null;if(t===0)return this.start.clone();var r=!0;t<0&&(r=!1,t=-t),e=e||{};for(var o=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,l,c=0,d=0;d<n;d++){var h=r?d:n-1-d,f=i[h],y=s[h],w=f.length({precision:o,subdivisions:y});if(f.isVisible){if(t<=c+w)return f.pointAtLength((r?1:-1)*(t-c),{precision:o,subdivisions:y});l=f}c+=w}if(l)return r?l.end:l.start;var x=i[n-1];return x.end.clone()},pointAtT:function(t){var e=this.segments,i=e.length;if(i===0)return null;var n=t.segmentIndex;if(n<0)return e[0].pointAtT(0);if(n>=i)return e[i-1].pointAtT(1);var r=t.value;return r<0?r=0:r>1&&(r=1),e[n].pointAtT(r)},PRECISION:3,prepareSegment:function(t,e,i){t.previousSegment=e,t.nextSegment=i,e&&(e.nextSegment=t),i&&(i.previousSegment=t);var n=t;return t.isSubpathStart&&(t.subpathStartSegment=t,n=i),n&&this.updateSubpathStartSegment(n),t},removeSegment:function(t){var e=this.segments,i=e.length;if(i===0)throw new Error("Path has no segments.");if(t<0&&(t=i+t),t>=i||t<0)throw new Error("Index out of range.");var n=e.splice(t,1)[0],r=n.previousSegment,o=n.nextSegment;r&&(r.nextSegment=o),o&&(o.previousSegment=r),n.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(t,e){var i=this.segments,n=i.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");var r,o=i[t],s=o.previousSegment,l=o.nextSegment,c=o.isSubpathStart;if(Array.isArray(e)){if(e=e.reduce(function(y,w){return y.concat(w)},[]),!e[0].isSegment)throw new Error("Segments required.");i.splice(t,1);for(var d=e.length,h=0;h<d;h++){var f=e[h];r=this.prepareSegment(f,s,l),i.splice(t+h,0,r),s=r,c&&r.isSubpathStart&&(c=!1)}}else{if(!e||!e.isSegment)throw new Error("Segment required.");r=this.prepareSegment(e,s,l),i.splice(t,1,r),c&&r.isSubpathStart&&(c=!1)}c&&l&&this.updateSubpathStartSegment(l)},round:function(t){for(var e=this.segments,i=e.length,n=0;n<i;n++){var r=e[n];r.round(t)}return this},scale:function(t,e,i){for(var n=this.segments,r=n.length,o=0;o<r;o++){var s=n[o];s.scale(t,e,i)}return this},segmentAt:function(t,e){var i=this.segmentIndexAt(t,e);return i?this.getSegment(i):null},segmentAtLength:function(t,e){var i=this.segmentIndexAtLength(t,e);return i?this.getSegment(i):null},segmentIndexAt:function(t,e){var i=this.segments,n=i.length;if(n===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var r=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,s={precision:r,segmentSubdivisions:o},l=this.length(s),c=l*t;return this.segmentIndexAtLength(c,s)},segmentIndexAtLength:function(t,e){var i=this.segments,n=i.length;if(n===0)return null;var r=!0;t<0&&(r=!1,t=-t),e=e||{};for(var o=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,l=null,c=0,d=0;d<n;d++){var h=r?d:n-1-d,f=i[h],y=s[h],w=f.length({precision:o,subdivisions:y});if(f.isVisible){if(t<=c+w)return h;l=h}c+=w}return l},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){var i=this.segments,n=i.length;if(n===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var r=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,s={precision:r,segmentSubdivisions:o},l=this.length(s),c=l*t;return this.tangentAtLength(c,s)},tangentAtLength:function(t,e){var i=this.segments,n=i.length;if(n===0)return null;var r=!0;t<0&&(r=!1,t=-t),e=e||{};for(var o=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,l,c=0,d=0;d<n;d++){var h=r?d:n-1-d,f=i[h],y=s[h],w=f.length({precision:o,subdivisions:y});if(f.isDifferentiable()){if(t<=c+w)return f.tangentAtLength((r?1:-1)*(t-c),{precision:o,subdivisions:y});l=f}c+=w}if(l){var x=r?1:0;return l.tangentAtT(x)}return null},tangentAtT:function(t){var e=this.segments,i=e.length;if(i===0)return null;var n=t.segmentIndex;if(n<0)return e[0].tangentAtT(0);if(n>=i)return e[i-1].tangentAtT(1);var r=t.value;return r<0?r=0:r>1&&(r=1),e[n].tangentAtT(r)},toPoints:function(t){var e=this.segments,i=e.length;if(i===0)return null;t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,r=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,o=[],s=[],l=0;l<i;l++){var c=e[l];if(c.isVisible){var d=r[l];if(d.length>0){var h=d.map(function(f){return f.start});Array.prototype.push.apply(s,h)}else s.push(c.start)}else s.length>0&&(s.push(e[l-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(t){var e=[],i=this.toPoints(t);if(!i)return null;for(var n=0,r=i.length;n<r;n++)e.push(new le(i[n]));return e},toString:function(){for(var t=this.segments,e=t.length,i="",n=0;n<e;n++){var r=t[n];i+=r.serialize()+" "}return i.trim()},translate:function(t,e){for(var i=this.segments,n=i.length,r=0;r<n;r++){var o=i[r];o.translate(t,e)}return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)e?t.subpathStartSegment=e.subpathStartSegment:t.subpathStartSegment=null,e=t,t=t.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,_t.createSegment("M",0,0)),this}};Object.defineProperty(_t.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var i=0;i<e;i++){var n=t[i];if(n.isVisible)return n.start}return t[e-1].end}});Object.defineProperty(_t.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var i=e-1;i>=0;i--){var n=t[i];if(n.isVisible)return n.end}return t[e-1].end}});function Qn(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}var eo={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return t>=1?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(eo,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(eo,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(eo,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var fi=function(){for(var t=[],e=arguments.length,i=0;i<e;i++)t.push(arguments[i]);if(!(this instanceof fi))return Qn(fi,t);if(e===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var n;if(t[0]instanceof It){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new L(+t[0],+t[1]),this;if(e<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" coordinates provided).");var r;for(n=[],i=0;i<e;i+=2)r=t.slice(i,i+2),n.push(Qn(fi,r));return n}else{if(e===1)return this.end=new L(t[0]),this;var o;for(n=[],i=0;i<e;i+=1)o=t[i],n.push(new fi(o));return n}},mv={clone:function(){return new fi(this.end)},divideAt:function(t){var e=new It(this.start,this.end),i=e.divideAt(t);return[new fi(i[0]),new fi(i[1])]},divideAtLength:function(t){var e=new It(this.start,this.end),i=e.divideAtLength(t);return[new fi(i[0]),new fi(i[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(t){return this.end.round(t),this},scale:function(t,e,i){return this.end.scale(t,e,i),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(mv,"type",{configurable:!0,enumerable:!0,value:"L"});fi.prototype=$r(eo,It.prototype,mv);var cn=function(){for(var t=[],e=arguments.length,i=0;i<e;i++)t.push(arguments[i]);if(!(this instanceof cn))return Qn(cn,t);if(e===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var n;if(t[0]instanceof ce){if(e===1)return this.controlPoint1=t[0].controlPoint1.clone(),this.controlPoint2=t[0].controlPoint2.clone(),this.end=t[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===6)return this.controlPoint1=new L(+t[0],+t[1]),this.controlPoint2=new L(+t[2],+t[3]),this.end=new L(+t[4],+t[5]),this;if(e<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" coordinates provided).");var r;for(n=[],i=0;i<e;i+=6)r=t.slice(i,i+6),n.push(Qn(cn,r));return n}else{if(e===3)return this.controlPoint1=new L(t[0]),this.controlPoint2=new L(t[1]),this.end=new L(t[2]),this;if(e<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" points provided).");var o;for(n=[],i=0;i<e;i+=3)o=t.slice(i,i+3),n.push(Qn(cn,o));return n}},vv={clone:function(){return new cn(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(t,e){var i=new ce(this.start,this.controlPoint1,this.controlPoint2,this.end),n=i.divideAt(t,e);return[new cn(n[0]),new cn(n[1])]},divideAtLength:function(t,e){var i=new ce(this.start,this.controlPoint1,this.controlPoint2,this.end),n=i.divideAtLength(t,e);return[new cn(n[0]),new cn(n[1])]},divideAtT:function(t){var e=new ce(this.start,this.controlPoint1,this.controlPoint2,this.end),i=e.divideAtT(t);return[new cn(i[0]),new cn(i[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.start,e=this.controlPoint1,i=this.controlPoint2,n=this.end;return!(t.equals(e)&&e.equals(i)&&i.equals(n))},round:function(t){return this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,i){return this.controlPoint1.scale(t,e,i),this.controlPoint2.scale(t,e,i),this.end.scale(t,e,i),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,i=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+i.x+" "+i.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(vv,"type",{configurable:!0,enumerable:!0,value:"C"});cn.prototype=$r(eo,ce.prototype,vv);var to=function(){for(var t=[],e=arguments.length,i=0;i<e;i++)t.push(arguments[i]);if(!(this instanceof to))return Qn(to,t);if(e===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var n;if(t[0]instanceof It){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(t[0]instanceof ce){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new L(+t[0],+t[1]),this;if(e<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" coordinates provided).");var r;for(n=[],i=0;i<e;i+=2)r=t.slice(i,i+2),i===0?n.push(Qn(to,r)):n.push(Qn(fi,r));return n}else{if(e===1)return this.end=new L(t[0]),this;var o;for(n=[],i=0;i<e;i+=1)o=t[i],i===0?n.push(new to(o)):n.push(new fi(o));return n}},vd={bbox:function(){return null},clone:function(){return new to(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(t){return this.end.round(t),this},scale:function(t,e,i){return this.end.scale(t,e,i),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(vd,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(vd,"type",{configurable:!0,enumerable:!0,value:"M"});to.prototype=$r(eo,vd);var Jo=function(){for(var t=[],e=arguments.length,i=0;i<e;i++)t.push(arguments[i]);if(!(this instanceof Jo))return Qn(Jo,t);if(e>0)throw new Error("Closepath constructor expects no arguments.");return this},yd={clone:function(){return new Jo},divideAt:function(t){var e=new It(this.start,this.end),i=e.divideAt(t);return[i[1].isDifferentiable()?new fi(i[0]):this.clone(),new fi(i[1])]},divideAtLength:function(t){var e=new It(this.start,this.end),i=e.divideAtLength(t);return[i[1].isDifferentiable()?new fi(i[0]):this.clone(),new fi(i[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(yd,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(yd,"type",{configurable:!0,enumerable:!0,value:"Z"});Jo.prototype=$r(eo,It.prototype,yd);var iA=_t.segmentTypes={L:fi,C:cn,M:to,Z:Jo,z:Jo};_t.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(iA).join("")+",.]*$");_t.isDataSupported=function(t){return typeof t!="string"?!1:this.regexSupportedData.test(t)};var nA={curveThroughPoints:function(t){return console.warn("deprecated"),new _t(ce.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var e=[],i=[],n=t.length-1,r;if(n==1)return e[0]=new L((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),i[0]=new L(2*e[0].x-t[0].x,2*e[0].y-t[0].y),[e,i];var o=[];for(r=1;r<n-1;r++)o[r]=4*t[r].x+2*t[r+1].x;o[0]=t[0].x+2*t[1].x,o[n-1]=(8*t[n-1].x+t[n].x)/2;var s=this.getFirstControlPoints(o);for(r=1;r<n-1;++r)o[r]=4*t[r].y+2*t[r+1].y;o[0]=t[0].y+2*t[1].y,o[n-1]=(8*t[n-1].y+t[n].y)/2;var l=this.getFirstControlPoints(o);for(r=0;r<n;r++)e.push(new L(s[r],l[r])),r<n-1?i.push(new L(2*t[r+1].x-s[r+1],2*t[r+1].y-l[r+1])):i.push(new L((t[n].x+s[n-1])/2,(t[n].y+l[n-1])/2));return[e,i]},getCurveDivider:function(t,e,i,n){console.warn("deprecated");var r=new ce(t,e,i,n);return function(s){var l=r.divide(s);return[{p0:l[0].start,p1:l[0].controlPoint1,p2:l[0].controlPoint2,p3:l[0].end},{p0:l[1].start,p1:l[1].controlPoint1,p2:l[1].controlPoint2,p3:l[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,i=[],n=[],r=2;i[0]=t[0]/r;for(var o=1;o<e;o++)n[o]=1/r,r=(o<e-1?4:3.5)-n[o],i[o]=(t[o]-i[o-1])/r;for(o=1;o<e;o++)i[e-o-1]-=n[e-o]*i[e-o];return i},getInversionSolver:function(t,e,i,n){console.warn("deprecated");var r=new ce(t,e,i,n);return function(s){return r.closestPointT(s)}}};var Oi=function(t){if(!(this instanceof Oi))return new Oi(t);if(typeof t=="string")return new Oi.parse(t);this.points=Array.isArray(t)?t.map(L):[]};Oi.parse=function(t){return new Oi(ac(t))};Oi.fromRect=function(t){return new Oi([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft()])};Oi.prototype=$r(le.prototype,{type:Rt.Polygon,clone:function(){return new Oi(lc(this.points))},convexHull:function(){return new Oi(cc(this.points))},lengthPoints:function(){let{start:t,end:e,points:i}=this;return i.length<=1||t.equals(e)?i:[...i,t.clone()]}});var Sd={};Fe(Sd,{ellipseWithEllipse:()=>Iv,ellipseWithLine:()=>Id,exists:()=>yv,lineWithLine:()=>io,pathWithEllipse:()=>Nv,pathWithLine:()=>Mv,pathWithPath:()=>Dv,pathWithPolygon:()=>gc,pathWithPolyline:()=>wd,pathWithRect:()=>Tv,polygonWithEllipse:()=>hc,polygonWithLine:()=>Ad,polygonWithPolygon:()=>_v,polygonWithPolyline:()=>Sv,polygonWithRect:()=>xv,polylineWithEllipse:()=>bd,polylineWithLine:()=>dc,polylineWithPolyline:()=>wv,polylineWithRect:()=>Av,rectWithEllipse:()=>bv,rectWithLine:()=>Cv,rectWithRect:()=>Cd});function yv(t,e,i,n){switch(t.type){case Rt.Line:{if(e.type===Rt.Line)return io(t,e);break}case Rt.Ellipse:{switch(e.type){case Rt.Line:return Id(t,e);case Rt.Ellipse:return Iv(t,e)}break}case Rt.Rect:{switch(e.type){case Rt.Line:return Cv(t,e);case Rt.Ellipse:return bv(t,e);case Rt.Rect:return Cd(t,e)}break}case Rt.Polyline:{switch(e.type){case Rt.Line:return dc(t,e);case Rt.Ellipse:return bd(t,e);case Rt.Rect:return Av(t,e);case Rt.Polyline:return wv(t,e)}break}case Rt.Polygon:{switch(e.type){case Rt.Line:return Ad(t,e);case Rt.Ellipse:return hc(t,e);case Rt.Rect:return xv(t,e);case Rt.Polyline:return Sv(t,e);case Rt.Polygon:return _v(t,e)}break}case Rt.Path:{switch(e.type){case Rt.Line:return Mv(t,e,i);case Rt.Ellipse:return Nv(t,e,i);case Rt.Rect:return Tv(t,e,i);case Rt.Polyline:return wd(t,e,i);case Rt.Polygon:return gc(t,e,i);case Rt.Path:return Dv(t,e,i,n)}break}}switch(e.type){case Rt.Ellipse:case Rt.Rect:case Rt.Polyline:case Rt.Polygon:case Rt.Path:return yv(e,t,n,i);default:throw Error(`The intersection for ${t} and ${e} could not be found.`)}}function io(t,e){let i=t.start.x,n=t.start.y,r=t.end.x,o=t.end.y,s=e.start.x,l=e.start.y,c=e.end.x,d=e.end.y,h=r-i,f=o-n,y=c-s,w=d-l,x=i-s,N=n-l,T=h*w-y*f,E=(h*N-f*x)/T,Y=(y*N-w*x)/T;return E>=0&&E<=1&&Y>=0&&Y<=1}function Id(t,e){let i=t.a,n=t.b,r=t.x,o=t.y,s=e.start.x-r,l=e.end.x-r,c=e.start.y-o,d=e.end.y-o,h=i*i,f=n*n,y=l-s,w=d-c,x=y*y/h+w*w/f,N=2*s*y/h+2*c*w/f,T=s*s/h+c*c/f-1,E=N*N-4*x*T;if(E===0){let Y=-N/2/x;return Y>=0&&Y<=1}else if(E>0){let Y=Math.sqrt(E),K=(-N+Y)/2/x,et=(-N-Y)/2/x;return K>=0&&K<=1||et>=0&&et<=1}return!1}function Iv(t,e){return rA(t,0,e,0)}function Cv(t,e){let{start:i,end:n}=e,{x:r,y:o,width:s,height:l}=t;return i.x>r+s&&n.x>r+s||i.x<r&&n.x<r||i.y>o+l&&n.y>o+l||i.y<o&&n.y<o?!1:t.containsPoint(e.start)||t.containsPoint(e.end)?!0:io(t.topLine(),e)||io(t.rightLine(),e)||io(t.bottomLine(),e)||io(t.leftLine(),e)}function bv(t,e){return Cd(t,gt.fromEllipse(e))?hc(Oi.fromRect(t),e):!1}function Cd(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function dc(t,e){return Pv(t,e,{interior:!1})}function bd(t,e){return kv(t,e,{interior:!1})}function Av(t,e){return Ev(t,e,{interior:!1})}function wv(t,e){return pc(t,e,{interior:!1})}function Ad(t,e){return Pv(t,e,{interior:!0})}function hc(t,e){return kv(t,e,{interior:!0})}function xv(t,e){return Ev(t,e,{interior:!0})}function Sv(t,e){return pc(t,e,{interior:!0})}function _v(t,e){return xd(t,e,{interior:!0})}function Mv(t,e,i){return t.getSubpaths().some(n=>{let[r]=n.toPolylines(i),{type:o}=n.getSegment(-1);return o==="Z"?Ad(r,e):dc(r,e)})}function Nv(t,e,i){return t.getSubpaths().some(n=>{let[r]=n.toPolylines(i),{type:o}=n.getSegment(-1);return o==="Z"?hc(r,e):bd(r,e)})}function Tv(t,e,i){return gc(t,Oi.fromRect(e),i)}function wd(t,e,i){return Ov(t,e,i,{interior:!1})}function gc(t,e,i){return Ov(t,e,i,{interior:!0})}function Dv(t,e,i,n){return t.getSubpaths().some(r=>{let[o]=r.toPolylines(i),{type:s}=r.getSegment(-1);return s==="Z"?gc(e,o,n):wd(e,o,n)})}function Pv(t,e,i={}){let{interior:n=!1}=i,r;if(n){if(t.containsPoint(e.start))return!0;let{start:l,end:c,points:d}=t;r=c.equals(l)?d:[...d,l]}else r=t.points;let{length:o}=r,s=new It;for(let l=0;l<o-1;l++)if(s.start=r[l],s.end=r[l+1],io(e,s))return!0;return!1}function kv(t,e,i={}){let{start:n,end:r,points:o}=t;if(e.containsPoint(n))return!0;let s,{interior:l=!1}=i;if(l){if(t.containsPoint(e.center()))return!0;s=r.equals(n)?o:[...o,n]}else s=o;let{length:c}=s,d=new It;for(let h=0;h<c-1;h++)if(d.start=s[h],d.end=s[h+1],Id(e,d))return!0;return!1}function Ev(t,e,i){let n=Oi.fromRect(e);return xd(t,n,i)}function Ov(t,e,i,n){return t.getSubpaths().some(r=>{let[o]=r.toPolylines(i),{type:s}=r.getSegment(-1);return s==="Z"?xd(e,o,n):pc(e,o,n)})}function pc(t,e,i={}){let{interior:n=!1}=i,r;if(n){let{start:c}=e;if(t.containsPoint(c))return!0;r=t.clone().close()}else r=t;let o=e.points,{length:s}=o,l=new It;for(let c=0;c<s-1;c++)if(l.start=o[c],l.end=o[c+1],dc(r,l))return!0;return!1}function xd(t,e,i){return e.containsPoint(t.start)||pc(t,e.clone().close(),i)}function rA(t,e,i,n){let{cos:r,sin:o}=Math,s=o(e),l=r(e),c=o(n),d=r(n),h=s*s,f=l*l,y=s*l,w=c*c,x=d*d,N=c*d,T=t.a*t.a,E=t.b*t.b,Y=i.a*i.a,K=i.b*i.b,et=T*h+E*f,lt=Y*w+K*x,p=T*f+E*h,v=Y*x+K*w,A=2*(E-T)*y,_=2*(K-Y)*N,D=-2*et*t.x-A*t.y,z=-2*lt*i.x-_*i.y,B=-A*t.x-2*p*t.y,X=-_*i.x-2*v*i.y,ft=et*t.x*t.x+p*t.y*t.y+A*t.x*t.y-T*E,vt=lt*i.x*i.x+v*i.y*i.y+_*i.x*i.y-Y*K;A=A/2,_=_/2,D=D/2,z=z/2,B=B/2,X=X/2;let W=Ar([[et,A,D],[A,p,B],[D,B,ft]]),$=Ar([[lt,_,z],[_,v,X],[z,X,vt]]),J=.33333333*(Ar([[lt,A,D],[_,p,B],[z,B,ft]])+Ar([[et,_,D],[A,v,B],[D,X,ft]])+Ar([[et,A,z],[A,p,X],[D,B,vt]])),q=.33333333*(Ar([[et,_,z],[A,v,X],[D,X,vt]])+Ar([[lt,A,z],[_,p,X],[z,B,vt]])+Ar([[lt,_,D],[_,v,B],[z,X,ft]])),Ot=fc([[W,J],[J,q]]),Dt=fc([[W,q],[J,$]]),Ie=fc([[J,q],[q,$]]);return!(fc([[2*Ot,Dt],[Dt,2*Ie]])>0&&(q>0||J>0))}function fc(t){return t[0][0]*t[1][1]-t[0][1]*t[1][0]}function Ar(t){return t[0][0]*t[1][1]*t[2][2]-t[0][0]*t[1][2]*t[2][1]-t[0][1]*t[1][0]*t[2][2]+t[0][1]*t[1][2]*t[2][0]+t[0][2]*t[1][0]*t[2][1]-t[0][2]*t[1][1]*t[2][0]}var oA=Sd;var jg=Yn(Ya(),1);var Lr=Yn(Er(),1);var IA=(function(){var t=typeof window=="object"&&!!window.SVGAngle;if(!t)return function(){throw new Error("SVG is required to use Vectorizer.")};var e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},i="1.1",n=Math,r=n.PI,o=n.atan2,s=n.sqrt,l=n.min,c=n.max,d=n.cos,h=n.sin,f=function(v,A,_){if(!(this instanceof f))return f.apply(Object.create(f.prototype),arguments);if(v){if(f.isV(v)&&(v=v.node),A=A||{},f.isString(v)){if(v=v.trim(),v.toLowerCase()==="svg")v=f.createSvgDocument();else if(v[0]==="<"){var D=f.createSvgDocument(v);if(D.childNodes.length>1){var z=[],B,X;for(B=0,X=D.childNodes.length;B<X;B++){var ft=D.childNodes[B];z.push(new f(document.importNode(ft,!0)))}return z}v=document.importNode(D.firstChild,!0)}else v=document.createElementNS(e.svg,v);f.ensureId(v)}return this.node=v,this.setAttributes(A),_&&this.append(_),this}},y=f.prototype;Object.defineProperty(y,"id",{enumerable:!0,get:function(){return this.node.id},set:function(v){this.node.id=v}}),y.getTransformToElement=function(v){var A=this.node;if(f.isSVGGraphicsElement(v)&&f.isSVGGraphicsElement(A)){var _=f.toNode(v).getScreenCTM(),D=A.getScreenCTM();if(_&&D)return _.inverse().multiply(D)}return f.createSVGMatrix()},y.transform=function(v,A){var _=this.node;if(f.isUndefined(v))return f.transformStringToMatrix(this.attr("transform"));if(A&&A.absolute)return this.attr("transform",f.matrixToTransformString(v));var D=f.createSVGTransform(v);return _.transform.baseVal.appendItem(D),this},y.translate=function(v,A,_){_=_||{},A=A||0;var D=this.attr("transform")||"",z=f.parseTransformString(D);if(D=z.value,f.isUndefined(v))return z.translate;D=D.replace(/translate\([^)]*\)/g,"").trim();var B=_.absolute?v:z.translate.tx+v,X=_.absolute?A:z.translate.ty+A,ft="translate("+B+","+X+")";return this.attr("transform",(ft+" "+D).trim()),this},y.rotate=function(v,A,_,D){D=D||{};var z=this.attr("transform")||"",B=f.parseTransformString(z);if(z=B.value,f.isUndefined(v))return B.rotate;z=z.replace(/rotate\([^)]*\)/g,"").trim(),v%=360;var X=D.absolute?v:B.rotate.angle+v,ft=A!==void 0&&_!==void 0?","+A+","+_:"",vt="rotate("+X+ft+")";return this.attr("transform",(z+" "+vt).trim()),this},y.scale=function(v,A){A=f.isUndefined(A)?v:A;var _=this.attr("transform")||"",D=f.parseTransformString(_);if(_=D.value,f.isUndefined(v))return D.scale;_=_.replace(/scale\([^)]*\)/g,"").trim();var z="scale("+v+","+A+")";return this.attr("transform",(_+" "+z).trim()),this},y.bbox=function(v,A){var _,D=this.node,z=D.ownerSVGElement;if(!z)return new gt(0,0,0,0);try{_=D.getBBox()}catch{_={x:D.clientLeft,y:D.clientTop,width:D.clientWidth,height:D.clientHeight}}if(v)return new gt(_);var B=this.getTransformToElement(A||z);return f.transformRect(_,B)},y.getBBox=function(v){var A={},_,D=this.node,z=D.ownerSVGElement;if(!z||!f.isSVGGraphicsElement(D))return new gt(0,0,0,0);if(v&&(v.target&&(A.target=f.toNode(v.target)),v.recursive&&(A.recursive=v.recursive)),A.recursive){var X=this.children(),ft=X.length;if(ft===0)return this.getBBox({target:A.target,recursive:!1});A.target||(A.target=this);for(var vt=0;vt<ft;vt++){var W=X[vt],$;W.children().length===0?$=W.getBBox({target:A.target,recursive:!1}):$=W.getBBox({target:A.target,recursive:!0}),_?_=_.union($):_=$}return _}else{try{_=D.getBBox()}catch{_={x:D.clientLeft,y:D.clientTop,width:D.clientWidth,height:D.clientHeight}}if(A.target){var B=this.getTransformToElement(A.target);return f.transformRect(_,B)}else return new gt(_)}};function w(v,A){v||(v={});var _=f("textPath"),D=v.d;if(D&&v["xlink:href"]===void 0){var z=f("path").attr("d",D).appendTo(A.defs());_.attr("xlink:href","#"+z.id)}return f.isObject(v)&&_.attr(v),_.node}function x(v,A,_){_||(_={});for(var D=_.includeAnnotationIndices,z=_.eol,B=_.lineHeight,X=_.baseSize,ft=0,vt={},W=A.length-1,$=0;$<=W;$++){var J=A[$],q=null;if(f.isObject(J)){var Ot=J.attrs,Dt=f("tspan",Ot),Ie=Dt.node,Te=J.t;z&&$===W&&(Te+=z),Ie.textContent=Te;var Mt=Ot.class;Mt&&Dt.addClass(Mt),D&&Dt.attr("annotations",J.annotations),q=parseFloat(Ot["font-size"]),isFinite(q)||(q=X),q&&q>ft&&(ft=q)}else z&&$===W&&(J+=z),Ie=document.createTextNode(J||" "),X&&X>ft&&(ft=X);v.appendChild(Ie)}return ft&&(vt.maxFontSize=ft),B?vt.lineHeight=B:ft&&(vt.lineHeight=ft*1.2),vt}var N=/em$/;function T(v,A){var _=parseFloat(v);return N.test(v)?_*A:_}function E(v,A,_,D){if(!Array.isArray(A))return 0;var z=A.length;if(!z)return 0;for(var B=A[0],X=T(B.maxFontSize,_)||_,ft=0,vt=T(D,_),W=1;W<z;W++){B=A[W];var $=T(B.lineHeight,_)||vt;ft+=$}var J=T(B.maxFontSize,_)||_,q;switch(v){case"middle":q=X/2-.15*J-ft/2;break;case"bottom":q=-(.25*J)-ft;break;default:case"top":q=.8*X;break}return q}y.text=function(v,A){if(v&&typeof v!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");v=f.sanitizeText(v),A||(A={});var _=A.displayEmpty,D=A.eol,z=A.textPath,B=A.textVerticalAnchor,X=B==="middle"||B==="bottom"||B==="top",ft=A.x;ft===void 0&&(ft=this.attr("x")||0);var vt=A.includeAnnotationIndices,W=A.annotations;W&&!f.isArray(W)&&(W=[W]);var $=A.lineHeight,J=$==="auto",q=J?"1.5em":$||"1em";this.empty(),this.attr({"xml:space":"preserve",display:v||_?null:"none"});var Ot=parseFloat(this.attr("font-size"));Ot||(Ot=16,(X||W)&&this.attr("font-size",Ot));var Dt=document,Ie;z?(typeof z=="string"&&(z={d:z}),Ie=w(z,this)):Ie=Dt.createDocumentFragment();for(var Te=0,Mt=v.split(`
`),Pt=[],st,ot=0,mt=Mt.length-1;ot<=mt;ot++){var Wt=q,se="v-line",kt=Dt.createElementNS(e.svg,"tspan"),ge=Mt[ot],C;if(ge)if(W){var M=f.annotateString(ge,W,{offset:-Te,includeAnnotationIndices:vt});C=x(kt,M,{includeAnnotationIndices:vt,eol:ot!==mt&&D,lineHeight:J?null:q,baseSize:Ot});var k=C.lineHeight;k&&J&&ot!==0&&(Wt=k),ot===0&&(st=C.maxFontSize*.8)}else D&&ot!==mt&&(ge+=D),kt.textContent=ge;else{kt.textContent="-",se+=" v-empty-line";var j=kt.style;if(j.fillOpacity=0,j.strokeOpacity=0,W){C={},M=f.findAnnotationsAtIndex(W,Te);let at=Ot;for(let At=M.length;At>0;At--){let Lt=M[At-1].attrs;if(!Lt||!("font-size"in Lt))continue;let ee=parseFloat(Lt["font-size"]);if(isFinite(ee)){at=ee;break}}J&&(ot>0?Wt=at*1.2:st=at*.8),kt.setAttribute("font-size",at),C.maxFontSize=at}}C&&Pt.push(C),ot>0&&kt.setAttribute("dy",Wt),(ot>0||z)&&kt.setAttribute("x",ft),kt.className.baseVal=se,Ie.appendChild(kt),Te+=ge.length+1}if(X)if(W)Wt=E(B,Pt,Ot,q);else if(B==="top")Wt="0.8em";else{var Z;switch(mt>0?(Z=parseFloat(q)||1,Z*=mt,N.test(q)||(Z/=Ot)):Z=0,B){case"middle":Wt=.3-Z/2+"em";break;case"bottom":Wt=-Z-.3+"em";break}}else B===0?Wt="0em":B?Wt=B:(Wt=0,this.attr("y")===null&&this.attr("y",st||"0.8em"));return Ie.firstChild.setAttribute("dy",Wt),this.append(Ie),this},y.removeAttr=function(v){let A=lt[v],{ns:_,local:D}=f.qualifyAttr(A),z=this.node;return _?z.hasAttributeNS(_,D)&&z.removeAttributeNS(_,D):z.hasAttribute(A)&&z.removeAttribute(A),this},y.attr=function(v,A){if(f.isUndefined(v)){for(var _=this.node.attributes,D={},z=0;z<_.length;z++)D[_[z].name]=_[z].value;return D}if(f.isString(v)&&f.isUndefined(A))return this.node.getAttribute(lt[v]);if(typeof v=="object")for(var B in v)v.hasOwnProperty(B)&&this.setAttribute(B,v[B]);else this.setAttribute(v,A);return this},y.normalizePath=function(){var v=this.tagName();return v==="PATH"&&this.attr("d",f.normalizePathData(this.attr("d"))),this},y.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},y.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},y.setAttributes=function(v){for(var A in v)v.hasOwnProperty(A)&&this.setAttribute(A,v[A]);return this},y.append=function(v){f.isArray(v)||(v=[v]);for(var A=0,_=v.length;A<_;A++)this.node.appendChild(f.toNode(v[A]));return this},y.prepend=function(v){var A=this.node.firstChild;return A?f(A).before(v):this.append(v)},y.before=function(v){var A=this.node,_=A.parentNode;if(_){f.isArray(v)||(v=[v]);for(var D=0,z=v.length;D<z;D++)_.insertBefore(f.toNode(v[D]),A)}return this},y.appendTo=function(v){return f.toNode(v).appendChild(this.node),this},y.svg=function(){return this.node instanceof window.SVGSVGElement?this:f(this.node.ownerSVGElement)},y.tagName=function(){return this.node.tagName.toUpperCase()},y.defs=function(){var v=this.svg()||this,A=v.node.getElementsByTagName("defs")[0];return A?f(A):f("defs").appendTo(v)},y.clone=function(){var v=f(this.node.cloneNode(!0));return v.node.id=f.uniqueId(),v},y.findOne=function(v){var A=this.node.querySelector(v);return A?f(A):void 0},y.find=function(v){var A=[],_=this.node.querySelectorAll(v);if(_)for(var D=0;D<_.length;D++)A.push(f(_[D]));return A},y.children=function(){for(var v=this.node.childNodes,A=[],_=0;_<v.length;_++){var D=v[_];D.nodeType===1&&A.push(f(v[_]))}return A},y.parent=function(){return f(this.node.parentNode)||null},y.index=function(){for(var v=0,A=this.node.previousSibling;A;)A.nodeType===1&&v++,A=A.previousSibling;return v},y.findParentByClass=function(v,A){for(var _=this.node.ownerSVGElement,D=this.node.parentNode;D&&D!==A&&D!==_;){var z=f(D);if(z.hasClass(v))return z;D=D.parentNode}return null},y.contains=function(v){var A=this.node,_=f.toNode(v),D=_&&_.parentNode;return A===D||!!(D&&D.nodeType===1&&A.compareDocumentPosition(D)&16)},y.toLocalPoint=function(v,A){var _=this.svg().node,D=_.createSVGPoint();D.x=v,D.y=A;try{var z=D.matrixTransform(_.getScreenCTM().inverse()),B=this.getTransformToElement(_).inverse()}catch{return D}return z.matrixTransform(B)},y.translateCenterToPoint=function(v){var A=this.getBBox({target:this.svg()}),_=A.center();return this.translate(v.x-_.x,v.y-_.y),this},y.translateAndAutoOrient=function(v,A,_){v=new L(v),A=new L(A),_||(_=this.svg());var D=this.scale();this.attr("transform","");var z=this.getBBox({target:_}).scale(D.sx,D.sy),B=f.createSVGTransform();B.setTranslate(-z.x-z.width/2,-z.y-z.height/2);var X=f.createSVGTransform(),ft=v.angleBetween(A,v.clone().offset(1,0));ft&&X.setRotate(ft,0,0);var vt=f.createSVGTransform(),W=v.clone().move(A,z.width/2);vt.setTranslate(2*v.x-W.x,2*v.y-W.y);var $=this.getTransformToElement(_),J=f.createSVGTransform();return J.setMatrix(vt.matrix.multiply(X.matrix.multiply(B.matrix.multiply($.scale(D.sx,D.sy))))),this.attr("transform",f.matrixToTransformString(J.matrix)),this},y.animateAlongPath=function(v,A){A=f.toNode(A);var _=f.ensureId(A),D=f("animateMotion",v),z=f("mpath",{"xlink:href":"#"+_});D.append(z),this.append(D);try{D.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var B=D.node;B.animators=[];var X=B.getAttribute("id");X&&(id2anim[X]=B);for(var ft=getTargets(B),vt=0,W=ft.length;vt<W;vt++){var $=ft[vt],J=new Animator(B,$,vt);animators.push(J),B.animators[vt]=J,J.register()}}}return this};let Y=/[^\x20\t\r\n\f]+/g;function K(v){return f.isString(v)?v.trim().match(Y)||[]:[]}y.hasClass=function(v){return f.isString(v)?this.node.classList.contains(v.trim()):!1},y.addClass=function(v){return this.node.classList.add(...K(v)),this},y.removeClass=function(v){return this.node.classList.remove(...K(v)),this},y.toggleClass=function(v,A){let _=K(v);for(let D=0;D<_.length;D++)this.node.classList.toggle(_[D],A);return this},y.sample=function(v){v=v||1;for(var A=this.node,_=A.getTotalLength(),D=[],z=0,B;z<_;)B=A.getPointAtLength(z),D.push({x:B.x,y:B.y,distance:z}),z+=v;return D},y.convertToPath=function(){var v=f("path");v.attr(this.attr());var A=this.convertToPathData();return A&&v.attr("d",A),v},y.convertToPathData=function(){var v=this.tagName();switch(v){case"PATH":return this.attr("d");case"LINE":return f.convertLineToPathData(this.node);case"POLYGON":return f.convertPolygonToPathData(this.node);case"POLYLINE":return f.convertPolylineToPathData(this.node);case"ELLIPSE":return f.convertEllipseToPathData(this.node);case"CIRCLE":return f.convertCircleToPathData(this.node);case"RECT":return f.convertRectToPathData(this.node)}throw new Error(v+" cannot be converted to PATH.")},f.prototype.toGeometryShape=function(){var v,A,_,D,z,B,X,ft,vt,W,$,J,q,Ot,Dt;switch(this.tagName()){case"RECT":return v=parseFloat(this.attr("x"))||0,A=parseFloat(this.attr("y"))||0,_=parseFloat(this.attr("width"))||0,D=parseFloat(this.attr("height"))||0,new gt(v,A,_,D);case"CIRCLE":return z=parseFloat(this.attr("cx"))||0,B=parseFloat(this.attr("cy"))||0,X=parseFloat(this.attr("r"))||0,new ii({x:z,y:B},X,X);case"ELLIPSE":return z=parseFloat(this.attr("cx"))||0,B=parseFloat(this.attr("cy"))||0,ft=parseFloat(this.attr("rx"))||0,vt=parseFloat(this.attr("ry"))||0,new ii({x:z,y:B},ft,vt);case"POLYLINE":return W=f.getPointsFromSvgNode(this),new le(W);case"POLYGON":return W=f.getPointsFromSvgNode(this),W.length>1&&W.push(W[0]),new le(W);case"PATH":return $=this.attr("d"),_t.isDataSupported($)||($=f.normalizePathData($)),new _t($);case"LINE":return J=parseFloat(this.attr("x1"))||0,Ot=parseFloat(this.attr("y1"))||0,q=parseFloat(this.attr("x2"))||0,Dt=parseFloat(this.attr("y2"))||0,new It({x:J,y:Ot},{x:q,y:Dt})}return this.getBBox()},y.findIntersection=function(v,A){var _=this.svg().node;A=A||_;var D=this.getBBox({target:A}),z=D.center();if(D.intersectionWithLineFromCenterToPoint(v)){var B,X=this.tagName();if(X==="RECT"){var ft=new gt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),vt=this.getTransformToElement(A),W=f.decomposeMatrix(vt),$=_.createSVGTransform();$.setRotate(-W.rotation,z.x,z.y);var J=f.transformRect(ft,$.matrix.multiply(vt));B=new gt(J).intersectionWithLineFromCenterToPoint(v,W.rotation)}else if(X==="PATH"||X==="POLYGON"||X==="POLYLINE"||X==="CIRCLE"||X==="ELLIPSE"){var q=X==="PATH"?this:this.convertToPath(),Ot=q.sample(),Dt=1/0,Ie=[],Te,Mt,Pt,st,ot,mt;for(Te=0;Te<Ot.length;Te++)Mt=Ot[Te],Pt=f.createSVGPoint(Mt.x,Mt.y),Pt=Pt.matrixTransform(this.getTransformToElement(A)),Mt=new L(Pt),st=Mt.distance(z),ot=Mt.distance(v)*1.1,mt=st+ot,mt<Dt?(Dt=mt,Ie=[{sample:Mt,refDistance:ot}]):mt<Dt+1&&Ie.push({sample:Mt,refDistance:ot});Ie.sort(function(Wt,se){return Wt.refDistance-se.refDistance}),Ie[0]&&(B=Ie[0].sample)}return B}},y.setAttribute=function(v,A){let _=this.node;if(A===null)return this.removeAttr(v),this;let D=lt[v],{ns:z}=f.qualifyAttr(D);return z?_.setAttributeNS(z,D,A):D==="id"?_.id=A:_.setAttribute(D,A),this},f.createSvgDocument=function(v){if(v){let _=`<svg xmlns="${e.svg}" xmlns:xlink="${e.xlink}" version="${i}">${v}</svg>`,{documentElement:D}=f.parseXML(_,{async:!1});return D}let A=document.createElementNS(e.svg,"svg");return A.setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),A.setAttribute("version",i),A},f.createSVGStyle=function(v){let{node:A}=f("style",{type:"text/css"},[f.createCDATASection(v)]);return A},f.createCDATASection=function(v=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(v)},f.idCounter=0,f.uniqueId=function(){return"v-"+ ++f.idCounter},f.toNode=function(v){return f.isV(v)?v.node:v.nodeName&&v||v[0]},f.ensureId=function(v){return v=f.toNode(v),v.id||(v.id=f.uniqueId())},f.sanitizeText=function(v){return(v||"").replace(/ /g,"\xA0")},f.isUndefined=function(v){return typeof v>"u"},f.isString=function(v){return typeof v=="string"},f.isObject=function(v){return v&&typeof v=="object"},f.isArray=Array.isArray,f.parseXML=function(v,A){A=A||{};var _;try{var D=new DOMParser;f.isUndefined(A.async)||(D.async=A.async),_=D.parseFromString(v,"text/xml")}catch{_=void 0}if(!_||_.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+v);return _};let et=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(v=>et[v]=v);let lt=new Proxy(et,{get(v,A){return f.supportCamelCaseAttributes?A in v?v[A]:v[A]=A.replace(/[A-Z]/g,"-$&").toLowerCase():A}});Object.defineProperty(f,"attributeNames",{value:lt,writable:!1}),Object.defineProperty(f,"supportCamelCaseAttributes",{value:!1,writable:!0}),f.qualifyAttr=function(v){if(v.indexOf(":")!==-1){var A=v.split(":");return{ns:e[A[0]],local:A[1]}}return{ns:null,local:v}},f.transformSeparatorRegex=/[ ,]+/,f.transformRegex=/\b\w+\([^()]+\)/g,f.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,f.transformTranslateRegex=/\btranslate\(([^()]+)\)/,f.transformRotateRegex=/\brotate\(([^()]+)\)/,f.transformScaleRegex=/\bscale\(([^()]+)\)/,f.transformStringToMatrix=function(v){let A=f.createSVGMatrix(),_=v&&v.match(f.transformRegex);if(!_)return A;let D=_.length;for(let z=0;z<D;z++){let X=_[z].match(f.transformFunctionRegex);if(X){let ft,vt,W,$,J,q=f.createSVGMatrix(),Ot=X[1].toLowerCase(),Dt=X[2].split(f.transformSeparatorRegex);switch(Ot){case"scale":ft=parseFloat(Dt[0]),vt=Dt[1]===void 0?ft:parseFloat(Dt[1]),q=q.scaleNonUniform(ft,vt);break;case"translate":W=parseFloat(Dt[0]),$=parseFloat(Dt[1]),q=q.translate(W,$);break;case"rotate":J=parseFloat(Dt[0]),W=parseFloat(Dt[1])||0,$=parseFloat(Dt[2])||0,W!==0||$!==0?q=q.translate(W,$).rotate(J).translate(-W,-$):q=q.rotate(J);break;case"skewx":J=parseFloat(Dt[0]),q=q.skewX(J);break;case"skewy":J=parseFloat(Dt[0]),q=q.skewY(J);break;case"matrix":q.a=parseFloat(Dt[0]),q.b=parseFloat(Dt[1]),q.c=parseFloat(Dt[2]),q.d=parseFloat(Dt[3]),q.e=parseFloat(Dt[4]),q.f=parseFloat(Dt[5]);break;default:continue}A=A.multiply(q)}}return A},f.matrixToTransformString=function(v){return v||(v=!0),"matrix("+(v.a!==void 0?v.a:1)+","+(v.b!==void 0?v.b:0)+","+(v.c!==void 0?v.c:0)+","+(v.d!==void 0?v.d:1)+","+(v.e!==void 0?v.e:0)+","+(v.f!==void 0?v.f:0)+")"},f.parseTransformString=function(v){var A,_,D;if(v){var z=f.transformSeparatorRegex;if(v.trim().indexOf("matrix")>=0){var B=f.transformStringToMatrix(v),X=f.decomposeMatrix(B);A=[X.translateX,X.translateY],D=[X.scaleX,X.scaleY],_=[X.rotation];var ft=[];(A[0]!==0||A[1]!==0)&&ft.push("translate("+A+")"),(D[0]!==1||D[1]!==1)&&ft.push("scale("+D+")"),_[0]!==0&&ft.push("rotate("+_+")"),v=ft.join(" ")}else{let W=v.match(f.transformTranslateRegex);W&&(A=W[1].split(z));let $=v.match(f.transformRotateRegex);$&&(_=$[1].split(z));let J=v.match(f.transformScaleRegex);J&&(D=J[1].split(z))}}var vt=D&&D[0]?parseFloat(D[0]):1;return{value:v,translate:{tx:A&&A[0]?parseInt(A[0],10):0,ty:A&&A[1]?parseInt(A[1],10):0},rotate:{angle:_&&_[0]?parseInt(_[0],10):0,cx:_&&_[1]?parseInt(_[1],10):void 0,cy:_&&_[2]?parseInt(_[2],10):void 0},scale:{sx:vt,sy:D&&D[1]?parseFloat(D[1]):vt}}},f.deltaTransformPoint=function(v,A){var _=A.x*v.a+A.y*v.c+0,D=A.x*v.b+A.y*v.d+0;return{x:_,y:D}},f.decomposeMatrix=function(v){var A=f.deltaTransformPoint(v,{x:0,y:1}),_=f.deltaTransformPoint(v,{x:1,y:0}),D=180/r*o(A.y,A.x)-90,z=180/r*o(_.y,_.x);return{translateX:v.e,translateY:v.f,scaleX:s(v.a*v.a+v.b*v.b),scaleY:s(v.c*v.c+v.d*v.d),skewX:D,skewY:z,rotation:D}},f.matrixToScale=function(v){var A,_,D,z;return v?(A=f.isUndefined(v.a)?1:v.a,z=f.isUndefined(v.d)?1:v.d,_=v.b,D=v.c):A=z=1,{sx:_?s(A*A+_*_):A,sy:D?s(D*D+z*z):z}},f.matrixToRotate=function(v){var A={x:0,y:1};return v&&(A=f.deltaTransformPoint(v,A)),{angle:ri(qr(o(A.y,A.x))-90)}},f.matrixToTranslate=function(v){return{tx:v&&v.e||0,ty:v&&v.f||0}},f.isV=function(v){return v instanceof f},f.isVElement=f.isV,f.isSVGGraphicsElement=function(v){return v?(v=f.toNode(v),v instanceof SVGElement&&typeof v.getScreenCTM=="function"):!1};var p=f("svg").node;return f.createSVGMatrix=function(v){var A=p.createSVGMatrix();for(var _ in v)A[_]=v[_];return A},f.createSVGTransform=function(v){return f.isUndefined(v)?p.createSVGTransform():(v instanceof SVGMatrix||(v=f.createSVGMatrix(v)),p.createSVGTransformFromMatrix(v))},f.createSVGPoint=function(v,A){var _=p.createSVGPoint();return _.x=v,_.y=A,_},f.transformRect=function(v,A){var _=p.createSVGPoint();_.x=v.x,_.y=v.y;var D=_.matrixTransform(A);_.x=v.x+v.width,_.y=v.y;var z=_.matrixTransform(A);_.x=v.x+v.width,_.y=v.y+v.height;var B=_.matrixTransform(A);_.x=v.x,_.y=v.y+v.height;var X=_.matrixTransform(A),ft=l(D.x,z.x,B.x,X.x),vt=c(D.x,z.x,B.x,X.x),W=l(D.y,z.y,B.y,X.y),$=c(D.y,z.y,B.y,X.y);return new gt(ft,W,vt-ft,$-W)},f.transformPoint=function(v,A){return new L(f.createSVGPoint(v.x,v.y).matrixTransform(A))},f.transformLine=function(v,A){return new It(f.transformPoint(v.start,A),f.transformPoint(v.end,A))},f.transformPolyline=function(v,A){var _=v instanceof le?v.points:v;f.isArray(_)||(_=[]);for(var D=[],z=0,B=_.length;z<B;z++)D[z]=f.transformPoint(_[z],A);return new le(D)},f.styleToObject=function(v){for(var A={},_=v.split(";"),D=0;D<_.length;D++){var z=_[D],B=z.split("=");A[B[0].trim()]=B[1].trim()}return A},f.createSlicePathData=function(v,A,_,D){var z=2*r-1e-6,B=v,X=A,ft=_,vt=D,W=(vt<ft&&(W=ft,ft=vt,vt=W),vt-ft),$=W<r?"0":"1",J=d(ft),q=h(ft),Ot=d(vt),Dt=h(vt);return W>=z?B?"M0,"+X+"A"+X+","+X+" 0 1,1 0,"+-X+"A"+X+","+X+" 0 1,1 0,"+X+"M0,"+B+"A"+B+","+B+" 0 1,0 0,"+-B+"A"+B+","+B+" 0 1,0 0,"+B+"Z":"M0,"+X+"A"+X+","+X+" 0 1,1 0,"+-X+"A"+X+","+X+" 0 1,1 0,"+X+"Z":B?"M"+X*J+","+X*q+"A"+X+","+X+" 0 "+$+",1 "+X*Ot+","+X*Dt+"L"+B*Ot+","+B*Dt+"A"+B+","+B+" 0 "+$+",0 "+B*J+","+B*q+"Z":"M"+X*J+","+X*q+"A"+X+","+X+" 0 "+$+",1 "+X*Ot+","+X*Dt+"L0,0Z"},f.mergeAttrs=function(v,A){for(var _ in A)_==="class"?v[_]=v[_]?v[_]+" "+A[_]:A[_]:_==="style"?f.isObject(v[_])&&f.isObject(A[_])?v[_]=f.mergeAttrs(v[_],A[_]):f.isObject(v[_])?v[_]=f.mergeAttrs(v[_],f.styleToObject(A[_])):f.isObject(A[_])?v[_]=f.mergeAttrs(f.styleToObject(v[_]),A[_]):v[_]=f.mergeAttrs(f.styleToObject(v[_]),f.styleToObject(A[_])):v[_]=A[_];return v},f.annotateString=function(v,A,_){A=A||[],_=_||{};for(var D=_.offset||0,z=[],B,X=[],ft,vt,W=0;W<v.length;W++){ft=X[W]=v[W];for(var $=0;$<A.length;$++){var J=A[$],q=J.start+D,Ot=J.end+D;W>=q&&W<Ot&&(f.isObject(ft)?ft.attrs=f.mergeAttrs(f.mergeAttrs({},ft.attrs),J.attrs):ft=X[W]={t:v[W],attrs:J.attrs},_.includeAnnotationIndices&&(ft.annotations||(ft.annotations=[])).push($))}vt=X[W-1],vt?f.isObject(ft)&&f.isObject(vt)?JSON.stringify(ft.attrs)===JSON.stringify(vt.attrs)?B.t+=ft.t:(z.push(B),B=ft):f.isObject(ft)||f.isObject(vt)?(z.push(B),B=ft):B=(B||"")+ft:B=ft}return B&&z.push(B),z},f.findAnnotationsAtIndex=function(v,A){var _=[];return v&&v.forEach(function(D){D.start<A&&A<=D.end&&_.push(D)}),_},f.findAnnotationsBetweenIndexes=function(v,A,_){var D=[];return v&&v.forEach(function(z){(A>=z.start&&A<z.end||_>z.start&&_<=z.end||z.start>=A&&z.end<_)&&D.push(z)}),D},f.shiftAnnotations=function(v,A,_){return v&&v.forEach(function(D){D.start<A&&D.end>=A?D.end+=_:D.start>=A&&(D.start+=_,D.end+=_)}),v},f.convertLineToPathData=function(v){v=f(v);var A=["M",v.attr("x1"),v.attr("y1"),"L",v.attr("x2"),v.attr("y2")].join(" ");return A},f.convertPolygonToPathData=function(v){var A=f.getPointsFromSvgNode(v);return A.length===0?null:f.svgPointsToPath(A)+" Z"},f.convertPolylineToPathData=function(v){var A=f.getPointsFromSvgNode(v);return A.length===0?null:f.svgPointsToPath(A)},f.svgPointsToPath=function(v){for(var A=0,_=v.length;A<_;A++)v[A]=v[A].x+" "+v[A].y;return"M "+v.join(" L")},f.getPointsFromSvgNode=function(v){v=f.toNode(v);var A=[],_=v.points;if(_)for(var D=0,z=_.numberOfItems;D<z;D++)A.push(_.getItem(D));return A},f.KAPPA=.551784,f.convertCircleToPathData=function(v){v=f(v);var A=parseFloat(v.attr("cx"))||0,_=parseFloat(v.attr("cy"))||0,D=parseFloat(v.attr("r")),z=D*f.KAPPA,B=["M",A,_-D,"C",A+z,_-D,A+D,_-z,A+D,_,"C",A+D,_+z,A+z,_+D,A,_+D,"C",A-z,_+D,A-D,_+z,A-D,_,"C",A-D,_-z,A-z,_-D,A,_-D,"Z"].join(" ");return B},f.convertEllipseToPathData=function(v){v=f(v);var A=parseFloat(v.attr("cx"))||0,_=parseFloat(v.attr("cy"))||0,D=parseFloat(v.attr("rx")),z=parseFloat(v.attr("ry"))||D,B=D*f.KAPPA,X=z*f.KAPPA,ft=["M",A,_-z,"C",A+B,_-z,A+D,_-X,A+D,_,"C",A+D,_+X,A+B,_+z,A,_+z,"C",A-B,_+z,A-D,_+X,A-D,_,"C",A-D,_-X,A-B,_-z,A,_-z,"Z"].join(" ");return ft},f.convertRectToPathData=function(v){return v=f(v),f.rectToPath({x:parseFloat(v.attr("x"))||0,y:parseFloat(v.attr("y"))||0,width:parseFloat(v.attr("width"))||0,height:parseFloat(v.attr("height"))||0,rx:parseFloat(v.attr("rx"))||0,ry:parseFloat(v.attr("ry"))||0})},f.rectToPath=function(v){var A,_=v.x,D=v.y,z=v.width,B=v.height,X=l(v.rx||v["top-rx"]||0,z/2),ft=l(v.rx||v["bottom-rx"]||0,z/2),vt=l(v.ry||v["top-ry"]||0,B/2),W=l(v.ry||v["bottom-ry"]||0,B/2);return X||ft||vt||W?A=["M",_,D+vt,"v",B-vt-W,"a",ft,W,0,0,0,ft,W,"h",z-2*ft,"a",ft,W,0,0,0,ft,-W,"v",-(B-W-vt),"a",X,vt,0,0,0,-X,-vt,"h",-(z-2*X),"a",X,vt,0,0,0,-X,vt,"Z"]:A=["M",_,D,"H",_+z,"V",D+B,"H",_,"V",D,"Z"],A.join(" ")},f.normalizePathData=(function(){var v=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,A=new RegExp("([a-z])["+v+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+v+"]*,?["+v+"]*)+)","ig"),_=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+v+"]*,?["+v+"]*","ig"),D=Math,z=D.PI,B=D.sin,X=D.cos,ft=D.tan,vt=D.asin,W=D.sqrt,$=D.abs;function J(Mt,Pt,st,ot,mt,Wt){var se=.3333333333333333,kt=2/3;return[se*Mt+kt*st,se*Pt+kt*ot,se*mt+kt*st,se*Wt+kt*ot,mt,Wt]}function q(Mt,Pt,st){var ot=Mt*X(st)-Pt*B(st),mt=Mt*B(st)+Pt*X(st);return{x:ot,y:mt}}function Ot(Mt,Pt,st,ot,mt,Wt,se,kt,ge,C){var M=z*120/180,k=z/180*(+mt||0),j=[],Z;if(C)De=C[0],Re=C[1],Ct=C[2],ye=C[3];else{Z=q(Mt,Pt,-k),Mt=Z.x,Pt=Z.y,Z=q(kt,ge,-k),kt=Z.x,ge=Z.y;var at=(Mt-kt)/2,At=(Pt-ge)/2,Lt=at*at/(st*st)+At*At/(ot*ot);Lt>1&&(Lt=W(Lt),st=Lt*st,ot=Lt*ot);var ee=st*st,Ge=ot*ot,Ze=(Wt==se?-1:1)*W($((ee*Ge-ee*At*At-Ge*at*at)/(ee*At*At+Ge*at*at))),Ct=Ze*st*At/ot+(Mt+kt)/2,ye=Ze*-ot*at/st+(Pt+ge)/2,De=vt(((Pt-ye)/ot).toFixed(9)),Re=vt(((ge-ye)/ot).toFixed(9));De=Mt<Ct?z-De:De,Re=kt<Ct?z-Re:Re,De<0&&(De=z*2+De),Re<0&&(Re=z*2+Re),se&&De>Re&&(De=De-z*2),!se&&Re>De&&(Re=Re-z*2)}var je=Re-De;if($(je)>M){var qe=Re,Ti=kt,Nn=ge;Re=De+M*(se&&Re>De?1:-1),kt=Ct+st*X(Re),ge=ye+ot*B(Re),j=Ot(kt,ge,st,ot,mt,0,se,Ti,Nn,[Re,qe,Ct,ye])}je=Re-De;var Vi=X(De),Tn=B(De),Bn=X(Re),Gs=B(Re),Fr=ft(je/4),Zs=4/3*(st*Fr),Fs=4/3*(ot*Fr),wl=[Mt,Pt],on=[Mt+Zs*Tn,Pt-Fs*Vi],mr=[kt+Zs*Gs,ge-Fs*Bn],Ws=[kt,ge];if(on[0]=2*wl[0]-on[0],on[1]=2*wl[1]-on[1],C)return[on,mr,Ws].concat(j);j=[on,mr,Ws].concat(j).join().split(",");for(var Vs=[],Yi=j.length,He=0;He<Yi;He++)Vs[He]=He%2?q(j[He-1],j[He],k).y:q(j[He],j[He+1],k).x;return Vs}function Dt(Mt){if(!Mt)return null;var Pt={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},st=[];return String(Mt).replace(A,function(ot,mt,Wt){var se=[],kt=mt.toLowerCase();for(Wt.replace(_,function(ge,C){C&&se.push(+C)}),kt==="m"&&se.length>2&&(st.push([mt].concat(se.splice(0,2))),kt="l",mt=mt==="m"?"l":"L");se.length>=Pt[kt]&&(st.push([mt].concat(se.splice(0,Pt[kt]))),!!Pt[kt]););}),st}function Ie(Mt){if((!Array.isArray(Mt)||!Array.isArray(Mt&&Mt[0]))&&(Mt=Dt(Mt)),!Mt||!Mt.length)return[["M",0,0]];for(var Pt=[],st=0,ot=0,mt=0,Wt=0,se=0,kt,ge=Mt.length,C=se;C<ge;C++){var M=[];Pt.push(M);var k=Mt[C];if(kt=k[0],kt!=kt.toUpperCase()){M[0]=kt.toUpperCase();var j,Z;switch(M[0]){case"A":M[1]=k[1],M[2]=k[2],M[3]=k[3],M[4]=k[4],M[5]=k[5],M[6]=+k[6]+st,M[7]=+k[7]+ot;break;case"V":M[1]=+k[1]+ot;break;case"H":M[1]=+k[1]+st;break;case"M":for(mt=+k[1]+st,Wt=+k[2]+ot,j=k.length,Z=1;Z<j;Z++)M[Z]=+k[Z]+(Z%2?st:ot);break;default:for(j=k.length,Z=1;Z<j;Z++)M[Z]=+k[Z]+(Z%2?st:ot);break}}else for(var at=k.length,At=0;At<at;At++)M[At]=k[At];switch(M[0]){case"Z":st=+mt,ot=+Wt;break;case"H":st=M[1];break;case"V":ot=M[1];break;case"M":mt=M[M.length-2],Wt=M[M.length-1],st=M[M.length-2],ot=M[M.length-1];break;default:st=M[M.length-2],ot=M[M.length-1];break}}return Pt}function Te(Mt){var Pt=Ie(Mt),st={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function ot(j,Z,at){var At,Lt;if(!j)return["C",Z.x,Z.y,Z.x,Z.y,Z.x,Z.y];switch(j[0]in{T:1,Q:1}||(Z.qx=null,Z.qy=null),j[0]){case"M":Z.X=j[1],Z.Y=j[2];break;case"A":parseFloat(j[1])===0||parseFloat(j[2])===0?j=["L",j[6],j[7]]:j=["C"].concat(Ot.apply(0,[Z.x,Z.y].concat(j.slice(1))));break;case"S":at==="C"||at==="S"?(At=Z.x*2-Z.bx,Lt=Z.y*2-Z.by):(At=Z.x,Lt=Z.y),j=["C",At,Lt].concat(j.slice(1));break;case"T":at==="Q"||at==="T"?(Z.qx=Z.x*2-Z.qx,Z.qy=Z.y*2-Z.qy):(Z.qx=Z.x,Z.qy=Z.y),j=["C"].concat(J(Z.x,Z.y,Z.qx,Z.qy,j[1],j[2]));break;case"Q":Z.qx=j[1],Z.qy=j[2],j=["C"].concat(J(Z.x,Z.y,j[1],j[2],j[3],j[4]));break;case"H":j=["L"].concat(j[1],Z.y);break;case"V":j=["L"].concat(Z.x,j[1]);break;case"L":break;case"Z":break}return j}function mt(j,Z){if(j[Z].length>7){j[Z].shift();for(var at=j[Z];at.length;)Wt[Z]="A",j.splice(Z++,0,["C"].concat(at.splice(0,6)));j.splice(Z,1),ge=Pt.length}}for(var Wt=[],se="",kt="",ge=Pt.length,C=0;C<ge;C++){Pt[C]&&(se=Pt[C][0]),se!=="C"&&(Wt[C]=se,C>0&&(kt=Wt[C-1])),Pt[C]=ot(Pt[C],st,kt),Wt[C]!=="A"&&se==="C"&&(Wt[C]="C"),mt(Pt,C);var M=Pt[C],k=M.length;st.x=M[k-2],st.y=M[k-1],st.bx=parseFloat(M[k-4])||st.x,st.by=parseFloat(M[k-3])||st.y}return(!Pt[0][0]||Pt[0][0]!=="M")&&Pt.unshift(["M",0,0]),Pt}return function(Mt){return Te(Mt).join(",").split(",").join(" ")}})(),f.namespace=e,f.g=di,f})(),it=IA;var pi={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300};var Xa="[object Arguments]",lg="[object Array]",_u="[object Boolean]",hg="[object Date]",_y="[object Error]",CA="[object Function]",Ja="[object Map]",Mu="[object Number]",bA="[object Null]",ws="[object Object]",gg="[object RegExp]",Qa="[object Set]",Nu="[object String]",Tu="[object Symbol]",AA="[object Undefined]",wA="[object WeakMap]",pg="[object ArrayBuffer]",mg="[object DataView]",My="[object Float32Array]",Ny="[object Float64Array]",Ty="[object Int8Array]",Dy="[object Int16Array]",Py="[object Int32Array]",ky="[object Uint8Array]",Ey="[object Uint8ClampedArray]",Oy="[object Uint16Array]",Ly="[object Uint32Array]",xA={[Xa]:!0,[lg]:!0,[pg]:!0,[mg]:!0,[_u]:!0,[hg]:!0,[My]:!0,[Ny]:!0,[Ty]:!0,[Dy]:!0,[Py]:!0,[Ja]:!0,[Mu]:!0,[ws]:!0,[gg]:!0,[Qa]:!0,[Nu]:!0,[Tu]:!0,[ky]:!0,[Ey]:!0,[Oy]:!0,[Ly]:!0,[_y]:!1,[CA]:!1,[wA]:!1},vg="\\ud800-\\udfff",SA="\\u0300-\\u036f",_A="\\ufe20-\\ufe2f",MA="\\u20d0-\\u20ff",NA="\\u1ab0-\\u1aff",TA="\\u1dc0-\\u1dff",DA=SA+_A+MA+NA+TA,Ry="\\u2700-\\u27bf",jy="a-z\\xdf-\\xf6\\xf8-\\xff",PA="\\xac\\xb1\\xd7\\xf7",kA="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",EA="\\u2000-\\u206f",OA=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zy="A-Z\\xc0-\\xd6\\xd8-\\xde",LA="\\ufe0e\\ufe0f",By=PA+kA+EA+OA,Gy="['\u2019]",Cy=`[${By}]`,yg=`[${DA}]`,Zy="\\d",RA=`[${Ry}]`,Fy=`[${jy}]`,Wy=`[^${vg}${By+Zy+Ry+jy+zy}]`,cg="\\ud83c[\\udffb-\\udfff]",jA=`(?:${yg}|${cg})`,Vy=`[^${vg}]`,Ig="(?:\\ud83c[\\udde6-\\uddff]){2}",Cg="[\\ud800-\\udbff][\\udc00-\\udfff]",As=`[${zy}]`,zA="\\u200d",by=`(?:${Fy}|${Wy})`,BA=`(?:${As}|${Wy})`,Ay=`(?:${Gy}(?:d|ll|m|re|s|t|ve))?`,wy=`(?:${Gy}(?:D|LL|M|RE|S|T|VE))?`,Yy=`${jA}?`,Uy=`[${LA}]?`,GA=`(?:${zA}(?:${[Vy,Ig,Cg].join("|")})${Uy+Yy})*`,ZA="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",FA="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xy=Uy+Yy+GA,WA=`(?:${[RA,Ig,Cg].join("|")})${Xy}`,VA=RegExp([`${As}?${Fy}+${Ay}(?=${[Cy,As,"$"].join("|")})`,`${BA}+${wy}(?=${[Cy,As+by,"$"].join("|")})`,`${As}?${by}+${Ay}`,`${As}+${wy}`,FA,ZA,`${Zy}+`,WA].join("|"),"g"),bg=200,ug="__hash_undefined__",YA=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,UA=`[${vg}]`,XA=`${Vy}${yg}?`,HA=`(?:${[XA,yg,Ig,Cg,UA].join("|")})`,Hy=RegExp(`${cg}(?=${cg})|${HA+Xy}`,"g"),JA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QA=/^\w*$/,KA=46,qA=/\\(\\)?/g,$A=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),tw=/^(?:0|[1-9]\d*)$/,ew=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),iw=4294967294,nw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Jy=t=>Hy.test(t),rw=t=>t.match(Hy)||[],ow=t=>t.split(""),Qy=t=>Jy(t)?rw(t):ow(t),sw=t=>t==null?[]:Ka(t).map(e=>t[e]),Ka=t=>xn(t)?Ky(t):Object.keys(Object(t)),aw=t=>{if(!Du(t))return Object.keys(t);var e=[];for(var i in Object(t))hasOwnProperty.call(t,i)&&i!="constructor"&&e.push(i);return e},Ky=(t,e)=>{let i=Array.isArray(t),n=!i&&zn(t)&&wn(t)===Xa,r=!i&&!n&&tl(t),o=i||n||r,s=t.length,l=new Array(o?s:0),c=o?-1:s;for(;++c<s;)l[c]=`${c}`;for(let d in t)(e||hasOwnProperty.call(t,d))&&!(o&&(d==="length"||sI(d,s)))&&l.push(d);return l},bu=(t,e)=>{let{length:i}=t;for(;i--;)if(_s(t[i][0],e))return i;return-1},_s=(t,e)=>t===e||t!==t&&e!==e,zn=t=>t!=null&&typeof t=="object",wu=(t,e,i)=>{if(!Jt(i))return!1;let n=typeof e;return(n=="number"?xn(i)&&e>-1&&e<i.length:n=="string"&&e in i)?_s(i[e],t):!1},lw=t=>zn(t)&&wn(t)==Qa,cw=t=>zn(t)&&wn(t)==Ja,Du=t=>{let e=t&&t.constructor,i=typeof e=="function"&&e.prototype||Object.prototype;return t===i},qa=(t,e,i)=>{let n=t[e];(!(hasOwnProperty.call(t,e)&&_s(n,i))||i===void 0&&!(e in t))&&(t[e]=i)},$a=(t,e,i)=>{let n=-1,r=e.length;for(;++n<r;){let o=e[n];qa(i,o,t[o])}return i},xn=t=>t!=null&&typeof t!="function"&&typeof t.length=="number"&&t.length>-1&&t.length%1===0,Ss=t=>typeof t=="symbol"||zn(t)&&wn(t)===Tu,uw=t=>{let e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&hasOwnProperty.call(t,"index")&&(i.index=t.index,i.input=t.input),i},Ag=(t,e)=>{let i=-1,n=t.length;for(e||(e=new Array(n));++i<n;)e[i]=t[i];return e},wn=t=>t==null?t===void 0?AA:bA:Object.prototype.toString.call(t),wg=t=>{let e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e},qy=(t,e)=>{let i=e?wg(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)},fw=t=>{let e=new t.constructor(t.source,/\w*$/.exec(t));return e.lastIndex=t.lastIndex,e},$y=t=>typeof t.constructor=="function"&&!Du(t)?Object.create(Object.getPrototypeOf(t)):{},xg=t=>t==null?[]:(t=Object(t),Object.getOwnPropertySymbols(t).filter(i=>propertyIsEnumerable.call(t,i))),dw=(t,e)=>$a(t,xg(t),e);function hw(t,e){let i=e?wg(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var gw=(t,e,i)=>{let n=t.constructor;switch(e){case pg:return wg(t,i);case _u:case hg:return new n(+t);case mg:return hw(t,i);case My:case Ny:case Ty:case Dy:case Py:case ky:case Ey:case Oy:case Ly:return qy(t,i);case Ja:return new n(t);case Mu:case Nu:return new n(t);case gg:return fw(t);case Qa:return new n;case Tu:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(t)):{}}},tl=t=>zn(t)&&YA.test(wn(t)),fg=t=>{let e=Object.keys(t);return!Array.isArray(t)&&t!=null&&e.push(...xg(Object(t))),e},tI=t=>{let e=[];for(;t;)e.push(...xg(t)),t=Object.getPrototypeOf(Object(t));return e},eI=t=>{let e=[];for(let i in t)e.push(i);return Array.isArray(t)||e.push(...tI(t)),e},Au=({__data__:t},e)=>{let i=t;return Sw(e)?i[typeof e=="string"?"string":"hash"]:i.map},pw=(t,e,i,n)=>{let r=fg(t),o=r.length,l=fg(e).length;if(o!=l)return!1;let c,d=o;for(;d--;)if(c=r[d],!hasOwnProperty.call(e,c))return!1;let h=n.get(t),f=n.get(e);if(h&&f)return h==e&&f==t;let y=!0;n.set(t,e),n.set(e,t);let w,x;for(;++d<o;){c=r[d];let N=t[c],T=e[c];if(!(w===void 0?N===T||i(N,T,n):w)){y=!1;break}x||(x=c=="constructor")}if(y&&!x){let N=t.constructor,T=e.constructor;N!=T&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof T=="function"&&T instanceof T)&&(y=!1)}return n.delete(t),n.delete(e),y},Pu=(t,e,i)=>t===e?!0:t==null||e==null||!zn(t)&&!zn(e)?t!==t&&e!==e:mw(t,e,Pu,i),mw=(t,e,i,n)=>{let r=Array.isArray(t),o=Array.isArray(e),s=r?lg:wn(t),l=o?lg:wn(e);s=s==Xa?ws:s,l=l==Xa?ws:l;let c=s==ws,d=l==ws,h=s==l;if(h&&!c)return n||(n=new Or),r||tl(t)?iI(t,e,!1,i,n):Iw(t,e,s,i,n);let f=c&&hasOwnProperty.call(t,"__wrapped__"),y=d&&hasOwnProperty.call(e,"__wrapped__");if(f||y){let w=f?t.value():t,x=y?e.value():e;return n||(n=new Or),i(w,x,n)}return h?(n||(n=new Or),pw(t,e,i,n)):!1},iI=(t,e,i,n,r)=>{let s=t.length,l=e.length;if(s!=l)return!1;let c=r.get(t),d=r.get(e);if(c&&d)return c==e&&d==t;let h=-1,f=!0,y=i?new Io:void 0;for(r.set(t,e),r.set(e,t);++h<s;){let w,x=t[h],N=e[h];if(w!==void 0){if(w)continue;f=!1;break}if(y){if(!vw(e,(T,E)=>{if(!yw(y,E)&&(x===T||n(x,T,r)))return y.push(E)})){f=!1;break}}else if(!(x===N||n(x,N,r))){f=!1;break}}return r.delete(t),r.delete(e),f},vw=(t,e)=>{let i=-1,n=t==null?0:t.length;for(;++i<n;)if(e(t[i],i,t))return!0;return!1},yw=(t,e)=>t.has(e),xy=(t,e,i,n)=>!(t.byteLength!=e.byteLength||!i(new Uint8Array(t),new Uint8Array(e),n)),Iw=(t,e,i,n,r)=>{switch(i){case mg:return t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset?!1:(t=t.buffer,e=e.buffer,xy(t,e,n,r));case pg:return xy(t,e,n,r);case _u:case hg:case Mu:return _s(+t,+e);case _y:return t.name==e.name&&t.message==e.message;case gg:case Nu:return t==`${e}`;case Ja:let o=nI;case Qa:if(o||(o=ku),t.size!=e.size)return!1;let s=r.get(t);if(s)return s==e;r.set(t,e);let l=iI(o(t),o(e),!0,n,r);return r.delete(t),l;case Tu:return Symbol.prototype.valueOf.call(t)==Symbol.prototype.valueOf.call(e)}return!1},nI=t=>{let e=-1,i=Array(t.size);return t.forEach((n,r)=>{i[++e]=[r,n]}),i},ku=t=>{let e=-1,i=new Array(t.size);return t.forEach(n=>{i[++e]=n}),i},Sg=(t,e)=>{if(Array.isArray(t))return!1;let i=typeof t;return i==="number"||i==="boolean"||t==null||Ss(t)?!0:QA.test(t)||!JA.test(t)||e!=null&&t in Object(e)},Cw=t=>{let e=[];return t.charCodeAt(0)===KA&&e.push(""),t.replace($A,(i,n,r,o)=>{let s=i;r?s=o.replace(qA,"$1"):n&&(s=n.trim()),e.push(s)}),e},Ms=(t,e)=>Array.isArray(t)?t:Sg(t,e)?[t]:Cw(`${t}`),Eu=(t,e)=>{e=Ms(e,t);let i=0,n=e.length;for(;t!=null&&i<n;)t=t[Co(e[i])],i++;return i&&i==n?t:void 0};function bw(t,e){if(t!==e){let i=t!==void 0,n=t===null,r=t===t,o=Ss(t),s=e!==void 0,l=e===null,c=e===e,d=Ss(e);if(!l&&!d&&!o&&t>e||o&&s&&c&&!l&&!d||n&&s&&c||!i&&c||!r)return 1;if(!n&&!o&&!d&&t<e||d&&i&&r&&!n&&!o||l&&i&&r||!s&&r||!c)return-1}return 0}function Aw(t,e,i){let n=-1,r=t.criteria,o=e.criteria,s=r.length,l=i.length;for(;++n<s;){let c=n<l?i[n]:null,h=(c&&typeof c=="function"?c:bw)(r[n],o[n]);if(h)return c&&typeof c!="function"?h*(c=="desc"?-1:1):h}return t.index-e.index}var rI=(t,e)=>{let i=(s,l)=>!!(s==null?0:s.length)&&s.indexOf(l)>-1,n=!0,r=[],o=e.length;if(!t.length)return r;e.length>=bg&&(i=(s,l)=>s.has(l),n=!1,e=new Io(e));t:for(let s in t){let l=t[s],c=l;if(l=l!==0?l:0,n&&c===c){let d=o;for(;d--;)if(e[d]===c)continue t;r.push(l)}else i(e,c)||r.push(l)}return r};var Co=t=>{if(typeof t=="string"||Ss(t))return t;let e=`${t}`;return e=="0"&&1/t==-1/0?"-0":e},xs=(t,e=!1,i=!1,n=!0,r,o,s,l)=>{let c;if(r&&(c=s?r(t,o,s,l):r(t)),c!==void 0)return c;if(!Jt(t))return t;let d=Array.isArray(t),h=wn(t);if(d){if(c=uw(t),!e)return Ag(t,c)}else{let x=typeof t=="function";if(h===ws||h===Xa||x&&!s){if(c=i||x?{}:$y(t),!e)return i?ww(t,$a(t,Object.keys(t),c)):dw(t,Object.assign(c,t))}else{if(x||!xA[h])return s?t:{};c=gw(t,h,e)}}l||(l=new Or);let f=l.get(t);if(f)return f;if(l.set(t,c),cw(t))return t.forEach((x,N)=>{c.set(N,xs(x,e,i,n,r,N,t,l))}),c;if(lw(t))return t.forEach(x=>{c.add(xs(x,e,i,n,r,x,t,l))}),c;if(tl(t))return c;let w=d?void 0:(n?i?eI:fg:i?_g:Ka)(t);return(w||t).forEach((x,N)=>{w&&(N=x,x=t[N]),qa(c,N,xs(x,e,i,n,r,N,t,l))}),c},ww=(t,e)=>$a(t,tI(t),e),oI=(t,e)=>e.length<2?t:Eu(t,e.slice(0,-1));var sI=(t,e)=>{let i=typeof t;return e=e??Number.MAX_SAFE_INTEGER,!!e&&(i==="number"||i!=="symbol"&&tw.test(t))&&t>-1&&t%1==0&&t<e},xw=(t,e)=>{e=Ms(e,t),t=oI(t,e);let i=e[e.length-1];return t==null||delete t[Co(i)]},Sw=t=>{let e=typeof t;return e==="string"||e==="number"||e==="symbol"||e==="boolean"?t!=="__proto__":t===null},_g=t=>{let e=[];for(let i in t)e.push(i);return e},_w=t=>{t=Object(t);let e={};for(let i in t)e[i]=t[i];return e},Sy=(t,e)=>{if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]};function aI(t,e=!1){return(i,...n)=>{let r=-1,o=n.length,s=o>1?n[o-1]:void 0,l=o>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(o--,s):e?(c,d)=>{if(Array.isArray(c)&&!Array.isArray(d))return d}:void 0,l&&wu(n[0],n[1],l)&&(s=o<3?void 0:s,o=1),i=Object(i);++r<o;){let c=n[r];c&&t(i,c,r,s)}return i}}var Mg=(t,e,i,n,r)=>{t!==e&&Gi(e,(o,s)=>{if(Jt(o))r||(r=new Or),Mw(t,e,s,i,Mg,n,r);else{let l=n?n(t[s],o,`${s}`,t,e,r):void 0;l===void 0&&(l=o),dg(t,s,l)}},_g)},Mw=(t,e,i,n,r,o,s)=>{let l=Sy(t,i),c=Sy(e,i),d=s.get(c);if(d){dg(t,i,d);return}let h=o?o(l,c,`${i}`,t,e,s):void 0,f=h===void 0;if(f){let y=Array.isArray(c),w=!y&&tl(c);h=c,y||w?Array.isArray(l)?h=l:zn(l)&&xn(l)?h=Ag(l):w?(f=!1,h=qy(c,!0)):h=[]:Ae(c)||Ha(c)?(h=l,Ha(l)?h=_w(l):(typeof l=="function"||!Jt(l))&&(h=$y(c))):f=!1}f&&(s.set(c,h),r(h,c,n,o,s),s.delete(c)),dg(t,i,h)},dg=(t,e,i)=>{(i!==void 0&&!_s(t[e],i)||i===void 0&&!(e in t))&&qa(t,e,i)};function Nw(t,e,i){let n=Object(t),r=i(t),{length:o}=r,s=-1;for(;o--;){let l=r[++s];if(e(n[l],l,n)===!1)break}return t}var Tw=(t,e)=>t&&Nw(t,e,Ka),Ng=(t,e)=>{if(t==null)return t;if(!xn(t))return Tw(t,e);let i=t.length,n=Object(t),r=-1;for(;++r<i&&e(n[r],r,n)!==!1;);return t};function Dw(t){let e=t==null?0:t.length;return e?t[e-1]:void 0}var Pw=Set&&1/ku(new Set([void 0,-0]))[1]==1/0?t=>new Set(t):()=>{};function lI(t,e,i,n,r,o){return Jt(t)&&Jt(e)&&(o.set(e,t),Mg(t,e,void 0,lI,o),o.delete(e)),t}function kw(t,e,i){e.length?e=e.map(s=>Array.isArray(s)?l=>Eu(l,s.length===1?s[0]:s):s):e=[s=>s];let n=-1,r=-1,o=xn(t)?new Array(t.length):[];return Ng(t,s=>{let l=e.map(c=>c(s));o[++r]={criteria:l,index:++n,value:s}}),Ew(o,(s,l)=>Aw(s,l,i))}function Ew(t,e){let{length:i}=t;for(t.sort(e);i--;)t[i]=t[i].value;return t}function cI(t){return t===t&&!Jt(t)}function uI(t,e){return i=>i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}function Ow(t,e){return t!=null&&Jw(t,e,Hw)}function Lw(t,e){return Sg(t)&&cI(e)?uI(Co(t),e):i=>{let n=Eu(i,t);return n===void 0&&n===e?Ow(i,t):Pu(e,n)}}function Rw(t){let e=jw(t);return e.length===1&&e[0][2]?uI(e[0][0],e[0][1]):i=>i===t||zw(i,t,e)}function jw(t){let e=Ka(t),i=e.length;for(;i--;){let n=e[i],r=t[n];e[i]=[n,r,cI(r)]}return e}function zw(t,e,i,n){let r=i.length,o=r,s=!n;if(t==null)return!o;let l,c;for(t=Object(t);r--;)if(l=i[r],s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1;for(;++r<o;){l=i[r];let d=l[0],h=t[d],f=l[1];if(s&&l[2]){if(h===void 0&&!(d in t))return!1}else{let y=new Or;if(n&&(c=n(h,f,d,t,e,y)),!(c===void 0?Pu(f,h,y):c))return!1}}return!0}function Bw(t){return Sg(t)?Gw(Co(t)):Zw(t)}function Gw(t){return e=>e?.[t]}function Zw(t){return e=>Eu(e,t)}function Fw(t){return typeof t=="function"?t:t==null?e=>e:typeof t=="object"?Array.isArray(t)?Lw(t[0],t[1]):Rw(t):Bw(t)}function Ou(){let t=Fw;return arguments.length?t(arguments[0],arguments[1]):t}var Ww=(t,e,i,n)=>{let r=-1,o=t==null?0:t.length;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i},Vw=(t,e,i,n,r)=>(r(t,(o,s,l)=>{i=n?(n=!1,o):e(i,o,s,l)}),i);function Yw(t,e,i){let n=Array.isArray(t)?Ww:Vw,r=arguments.length<3;return n(t,e,i,r,Ng)}var Uw=t=>Array.isArray(t)||Ha(t)||!!(t&&t[Symbol.isConcatSpreadable]);function fI(t,e,i,n,r){let o=-1,s=t.length;for(i||(i=Uw),r||(r=[]);++o<s;){var l=t[o];e>0&&i(l)?e>1?fI(l,e-1,i,n,r):r.push(...l):n||(r[r.length]=l)}return r}var Ha=t=>zn(t)&&wn(t)=="[object Arguments]";var Xw=t=>typeof t=="number"&&t>-1&&t%1==0&&t<=Number.MAX_SAFE_INTEGER,Hw=(t,e)=>t!=null&&e in Object(t),Jw=(t,e,i)=>{e=Ms(e,t);for(var n=-1,r=e.length,o=!1;++n<r;){var s=Co(e[n]);if(!(o=t!=null&&i(t,s)))break;t=t[s]}return o||++n!=r?o:(r=t==null?0:t.length,!!r&&Xw(r)&&sI(s,r)&&(Array.isArray(t)||Ha(t)))},Qw=t=>t.match(nw),Kw=t=>t.match(VA),qw=(t,e)=>e===void 0?(ew(t)?Kw(t):Qw(t))||[]:t.match(e)||[],$w=(t,e,i)=>{let{length:n}=t;return i=i===void 0?n:i,!e&&i>=n?t:t.slice(e,i)},tx=ex("toUpperCase");function ex(t){return e=>{if(!e)return"";let i=Jy(e)?Qy(e):void 0,n=i?i[0]:e[0],r=i?$w(i,1).join(""):e.slice(1);return n[t]()+r}}var Or=class{constructor(e){let i=this.__data__=new Ua(e);this.size=i.size}clear(){this.__data__=new Ua,this.size=0}delete(e){let i=this.__data__,n=i.delete(e);return this.size=i.size,n}get(e){return this.__data__.get(e)}has(e){return this.__data__.has(e)}set(e,i){let n=this.__data__;if(n instanceof Ua){let r=n.__data__;if(r.length<bg-1)return r.push([e,i]),this.size=++n.size,this;n=this.__data__=new xu(r)}return n.set(e,i),this.size=n.size,this}},Ua=class{constructor(e){let i=-1,n=e==null?0:e.length;for(this.clear();++i<n;){let r=e[i];this.set(r[0],r[1])}}clear(){this.__data__=[],this.size=0}delete(e){let i=this.__data__,n=bu(i,e);if(n<0)return!1;let r=i.length-1;return n==r?i.pop():i.splice(n,1),--this.size,!0}get(e){let i=this.__data__,n=bu(i,e);return n<0?void 0:i[n][1]}has(e){return bu(this.__data__,e)>-1}set(e,i){let n=this.__data__,r=bu(n,e);return r<0?(++this.size,n.push([e,i])):n[r][1]=i,this}},xu=class{constructor(e){let i=-1,n=e==null?0:e.length;for(this.clear();++i<n;){let r=e[i];this.set(r[0],r[1])}}clear(){this.size=0,this.__data__={hash:new Su,map:new Map,string:new Su}}delete(e){let i=Au(this,e).delete(e);return this.size-=i?1:0,i}get(e){return Au(this,e).get(e)}has(e){return Au(this,e).has(e)}set(e,i){let n=Au(this,e),r=n.size;return n.set(e,i),this.size+=n.size==r?0:1,this}},Su=class{constructor(e){let i=-1,n=e==null?0:e.length;for(this.clear();++i<n;){let r=e[i];this.set(r[0],r[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(e){let i=this.has(e)&&delete this.__data__[e];return this.size-=i?1:0,i}get(e){let n=this.__data__[e];return n===ug?void 0:n}has(e){return this.__data__[e]!==void 0}set(e,i){let n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i===void 0?ug:i,this}},Io=class{constructor(e){let i=-1,n=e==null?0:e.length;for(this.__data__=new xu;++i<n;)this.add(e[i])}add(e){return this.__data__.set(e,ug),this}has(e){return this.__data__.has(e)}};Io.prototype.push=Io.prototype.add;var Tg=function(t){var e=Object.prototype.toString;return t===!0||t===!1||!!t&&typeof t=="object"&&e.call(t)===_u},Jt=function(t){return!!t&&(typeof t=="object"||typeof t=="function")},ni=function(t){var e=Object.prototype.toString;return typeof t=="number"||!!t&&typeof t=="object"&&e.call(t)===Mu},Xe=function(t){var e=Object.prototype.toString;return typeof t=="string"||!!t&&typeof t=="object"&&e.call(t)===Nu},wt=aI((t,e)=>{if(Du(e)||xn(e)){$a(e,Ka(e),t);return}for(var i in e)hasOwnProperty.call(e,i)&&qa(t,i,e[i])});var dI=(t,...e)=>{let i=-1,n=e.length,r=n>2?e[2]:void 0;for(r&&wu(e[0],e[1],r)&&(n=1);++i<n;){let o=e[i];if(o==null)continue;let s=Object.keys(o),l=s.length,c=-1;for(;++c<l;){let d=s[c],h=t[d];(h===void 0||_s(h,Object.prototype[d])&&!hasOwnProperty.call(t,d))&&(t[d]=o[d])}}return t},mi=dI,hI=function(...e){return e.push(void 0,lI),ke.apply(void 0,e)},bo=hI,zi=(t,e,...i)=>{let n=-1,r=typeof e=="function",o=xn(t)?new Array(t.length):[];return Ng(t,s=>{o[++n]=r?e.apply(s,i):gI(s,e,...i)}),o},gI=(t,e,...i)=>{e=Ms(e,t),t=oI(t,e);let n=t==null?t:t[Co(Dw(e))];return n?.apply(t,i)},el=(t,e,i)=>{let n=0,r=t==null?0:t.length;if(r==0)return 0;i=Ou(i,2),e=i(e);let o=e!==e,s=e===null,l=Ss(e),c=e===void 0;for(;n<r;){let d,h=Math.floor((n+r)/2),f=i(t[h]),y=f!==void 0,w=f===null,x=f===f,N=Ss(f);o?d=x:c?d=x&&y:s?d=x&&y&&!w:l?d=x&&y&&!w&&!N:w||N?d=!1:d=f<e,d?n=h+1:r=h}return Math.min(r,iw)},hn=(t,e)=>{let i=-1,n=(c,d)=>!!(c==null?0:c.length)&&c.indexOf(d)>-1;e=Ou(e,2);let r=!0,{length:o}=t,s=[],l=s;if(o>=bg){let c=e?null:Pw(t);if(c)return ku(c);r=!1,n=(d,h)=>d.has(h),l=new Io}else l=e?[]:s;t:for(;++i<o;){let c=t[i],d=e?e(c):c;if(c=c!==0?c:0,r&&d===d){let h=l.length;for(;h--;)if(l[h]===d)continue t;e&&l.push(d),s.push(c)}else n(l,d)||(l!==s&&l.push(d),s.push(c))}return s},gn=t=>xs(t),Si=t=>xs(t,!0),Bi=t=>{if(t==null)return!0;if(xn(t)&&(Array.isArray(t)||typeof t=="string"||typeof t.splice=="function"||tl(t)||Ha(t)))return!t.length;let e=wn(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(Du(t))return!aw(t).length;for(let i in t)if(hasOwnProperty.call(t,i))return!1;return!0},qn=(t,e)=>Pu(t,e),ue=t=>typeof t=="function",Ae=t=>{if(!zn(t)||wn(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},jt=t=>{if(!t)return[];if(xn(t))return Xe(t)?Qy(t):Ag(t);if(Symbol.iterator&&Symbol.iterator in Object(t)){let n=t[Symbol.iterator](),r,o=[];for(;!(r=n.next()).done;)o.push(r.value);return o}let e=wn(t);return(e==Ja?nI:e==Qa?ku:sw)(t)};function Dg(t,e,i){if(typeof t!="function")throw new TypeError("Expected a function");let n,r,o,s,l,c,d=0,h=!1,f=!1,y=!0,w=!e&&e!==0&&window&&typeof window.requestAnimationFrame=="function";e=+e||0,Jt(i)&&(h=!!i.leading,f="maxWait"in i,o=f?Math.max(+i.maxWait||0,e):o,y="trailing"in i?!!i.trailing:y);function x(v){let A=n,_=r;return n=r=void 0,d=v,s=t.apply(_,A),s}function N(v,A){return w?(window.cancelAnimationFrame(l),window.requestAnimationFrame(v)):setTimeout(v,A)}function T(v){if(w)return window.cancelAnimationFrame(v);clearTimeout(v)}function E(v){return d=v,l=N(et,e),h?x(v):s}function Y(v){let A=v-c,_=v-d,D=e-A;return f?Math.min(D,o-_):D}function K(v){let A=v-c,_=v-d;return c===void 0||A>=e||A<0||f&&_>=o}function et(){let v=Date.now();if(K(v))return lt(v);l=N(et,Y(v))}function lt(v){return l=void 0,y&&n?x(v):(n=r=void 0,s)}function p(...v){let A=Date.now(),_=K(A);if(n=v,r=this,c=A,_){if(l===void 0)return E(c);if(f)return l=N(et,e),x(c)}return l===void 0&&(l=N(et,e)),s}return p.cancel=()=>{l!==void 0&&T(l),d=0,n=c=r=l=void 0},p.flush=()=>l===void 0?s:lt(Date.now()),p.pending=()=>l!==void 0,p}var Pg=(t,e)=>(e=Ou(e,2),Yw(t,(i,n,r)=>(r=e(n),hasOwnProperty.call(i,r)?i[r].push(n):qa(i,r,[n]),i),{})),il=(t,e=[])=>{if(t==null)return[];let i=e.length;return i>1&&wu(t,e[0],e[1])?e=[]:i>2&&wu(e[0],e[1],e[2])&&(e=[e[0]]),Array.isArray(e)||(e=[Ou(e,2)]),kw(t,e.flat(1),[])},kg=t=>(t==null?0:t.length)?fI(t,1/0):[],Ns=(t,...e)=>xn(t)?rI(t,e):[],nl=(t,...e)=>zn(t)&&xn(t)?rI(t,e.flat(1)):[];var Ts=(...t)=>{let e=t.flat(1);return hn(e)},nn=(t,e)=>{if(t==null)return!1;typeof e=="string"&&(e=e.split("."));let i=-1,n=t;for(;++i<e.length;){if(!n||!hasOwnProperty.call(n,e[i]))return!1;n=n[e[i]]}return!0},Ne=(t,e,i)=>{e=Ms(e,t);let n=-1,r=e.length;for(r||(r=1,t=void 0);++n<r;){let o=t?.[Co(e[n])];o===void 0&&(n=r,o=i),t=typeof o=="function"?o.call(t):o}return t},pn=(t,...e)=>{let i={};if(t==null)return i;let n=!1;e=e.flat(1).map(o=>(o=Ms(o,t),n||(n=o.length>1),o)),$a(t,eI(t),i),n&&(i=xs(i,!0,!0,!0,o=>Ae(o)?void 0:o));let r=e.length;for(;r--;)xw(i,e[r]);return i};var Gi=(t,e=i=>i)=>{let i=-1,n=Object(t),r=xn(t)?Ky(t,!0):_g(t),o=r.length;for(;o--;){let s=r[++i];if(e(n[s],s,n)===!1)break}},Eg=(t="")=>qw(`${t}`.replace(/['\u2019]/g,"")).reduce((e,i,n)=>(i=i.toLowerCase(),e+(n?tx(i):i)),""),ix=0,Og=(t="")=>{let e=++ix;return`${t}`+e},ke=aI((t,e,i,n)=>{Mg(t,e,i,n)},!0);var vi=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,pi.classNamePrefix.length)!==pi.classNamePrefix&&(e=pi.classNamePrefix+e),e}).join(" ")},mI=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,pi.classNamePrefix.length)===pi.classNamePrefix&&(e=e.substr(pi.classNamePrefix.length)),e}).join(" ")},Ao=function(t,e){let i={},n={},r=it.namespace.svg,o=e||r,s=document.createDocumentFragment(),l=function(c,d,h){for(let f=0;f<c.length;f++){let y=c[f];if(typeof y=="string"){let et=document.createTextNode(y);d.appendChild(et);continue}if(!y.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");let w=y.tagName,x;y.hasOwnProperty("namespaceURI")&&(h=y.namespaceURI),x=document.createElementNS(h,w);let N=h===r,T=N?it:Lr.default,E=y.attributes;E&&T(x).attr(E);let Y=y.style;if(Y&&(0,Lr.default)(x).css(Y),y.hasOwnProperty("className")){let et=y.className;N?x.className.baseVal=et:x.className=et}if(y.hasOwnProperty("textContent")&&(x.textContent=y.textContent),y.hasOwnProperty("selector")){let et=y.selector;if(i[et])throw new Error("json-dom-parser: selector must be unique");i[et]=x,T(x).attr("joint-selector",et)}if(y.hasOwnProperty("groupSelector")){let et=y.groupSelector;Array.isArray(et)||(et=[et]);for(let lt=0;lt<et.length;lt++){let p=et[lt],v=n[p];v||(v=n[p]=[]),v.push(x)}}d.appendChild(x);let K=y.children;Array.isArray(K)&&l(K,x,h)}};return l(t,s,o),{fragment:s,selectors:i,groupSelectors:n}},ol=function(t){let e=0;if(t.length===0)return e;for(let i=0;i<t.length;i++){let n=t.charCodeAt(i);e=(e<<5)-e+n,e=e&e}return e},gr=function(t,e,i){for(var n=Array.isArray(e)?e:e.split(i||"/"),r,o=0,s=n.length;o<s;)if(r=n[o++],Object(t)===t&&r in t)t=t[r];else return;return t},vI=function(t,e){return typeof e!="string"&&typeof e!="number"&&(e=String(e)),!(e==="constructor"&&typeof t[e]=="function"||e==="__proto__")},sl=function(t,e,i,n){let r=Array.isArray(e)?e:e.split(n||"/"),o=r.length-1,s=t,l=0;for(;l<o;l++){let c=r[l];if(!vI(s,c))return t;s=s[c]||(s[c]={})}return s[r[o]]=i,t},Lg=function(t,e,i){let n=Array.isArray(e)?e:e.split(i||"/"),r=n.length-1,o=t,s=0;for(;s<r;s++){let l=n[s];if(!vI(o,l))return t;let c=o[l];if(!c)return t;o=c}return delete o[n[r]],t};var yI=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,i=t==="x"?e:e&3|8;return i.toString(16)})},Rr=function(t){return Rr.id=Rr.id||1,t===void 0?"j_"+Rr.id++:(t.id=t.id===void 0?"j_"+Rr.id++:t.id,t.id)},II=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},ai=function(t){if(t.normalized)return t;let{originalEvent:e,target:i}=t,n=e&&e.changedTouches&&e.changedTouches[0];if(n)for(let r in n)t[r]===void 0&&(t[r]=n[r]);if(i){let r=i.correspondingUseElement;r&&(t.target=r)}return t.normalized=!0,t},CI=function(t){let r=0,o=0,s=0,l=0;return"detail"in t&&(o=t.detail),"wheelDelta"in t&&(o=-t.wheelDelta/120),"wheelDeltaY"in t&&(o=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(r=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=o,o=0),s="deltaX"in t?t.deltaX:r*10,l="deltaY"in t?t.deltaY:o*10,(s||l)&&t.deltaMode&&(t.deltaMode==1?(s*=40,l*=40):(s*=800,l*=800)),t.deltaX===0&&t.deltaY!==0&&t.shiftKey&&(s=l,l=0,r=o,o=0),s&&!r&&(r=s<1?-1:1),l&&!o&&(o=l<1?-1:1),{spinX:r,spinY:o,deltaX:s,deltaY:l}},bI=function(t,e){return t>e?e:t<-e?-e:t},al=(function(){var t;if(typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(i){var n=new Date().getTime(),r=Math.max(0,16-(n-e)),o=setTimeout(function(){i(n+r)},r);return e=n+r,o}}return function(i,n,...r){return t(n!==void 0?i.bind(n,...r):i)}})(),ll=(function(){var t,e=typeof window<"u";return e&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?t.bind(window):t})();var $e=function(t){return Xe(t)&&t.slice(-1)==="%"},nx=function(t,e){function i(l){var c=new RegExp("(?:\\d+(?:\\.\\d+)*)("+l+")$").exec(t);return c?c[1]:null}var n=parseFloat(t);if(Number.isNaN(n))return null;var r={};r.value=n;var o;if(e==null)o="[A-Za-z]*";else if(Array.isArray(e)){if(e.length===0)return null;o=e.join("|")}else Xe(e)&&(o=e);var s=i(o);return s===null?null:(r.unit=s,r)},rl=0;function rx(t,e){let i=t.split(e),n=1;for(let r=0,o=i.length-1;r<o;r++){let s=[];(r>0||i[0]!=="")&&s.push(rl),s.push(e),(r<o-1||i[o]!=="")&&s.push(rl),i.splice(n,0,...s),n+=s.length+1}return i.filter(r=>r!=="")}function pI(t,e){if(t===null)return e.getBBox().height;switch(t.unit){case"em":return e.getBBox().height*t.value;case"px":case"":return t.value}}var Lu=function(t,e,i={},n={}){var r=e.width,o=e.height,s=n.svgDocument||it("svg").node,l=it("tspan").node,c=it("text").attr(i).append(l).node,d=document.createTextNode("");c.style.opacity=0,c.style.display="block",l.style.display="block",l.appendChild(d),s.appendChild(c),n.svgDocument||document.body.appendChild(s);let h=n.preserveSpaces,f=" ",y=n.separator||n.separator===""?n.separator:f,w=typeof y=="string"?y:f;var x=n.eol||`
`,N=n.hyphen?new RegExp(n.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,T=n.maxLineCount;ni(T)||(T=1/0);var E=t.split(y),Y=[],K=[],et,lt,p;h&&it(l).attr("xml:space","preserve");for(var v=0,A=0,_=E.length;v<_;v++){var D=E[v];if(!(!D&&!h)&&typeof D=="string"){var z=!1;if(x&&D.indexOf(x)>=0)if(D.length>1){let Ot=rx(E[v],x);E.splice(v,1,...Ot),v--,_=E.length;continue}else{if(h&&typeof E[v-1]=="string"){E.splice(v,rl,"",rl),_+=2,v--;continue}K[++A]=!h||typeof E[v+1]=="string"?"":void 0,z=!0}if(!z){let Ot;if(h?Ot=K[A]!==void 0?K[A]+w+D:D:Ot=K[A]?K[A]+w+D:D,d.data=Ot,l.getComputedTextLength()<=r)K[A]=Ot,(et||lt)&&(Y[A++]=!0,et=0,lt=0);else{if(!K[A]||et){var B=!!et;if(et=D.length-1,B||!et){if(!et){if(!K[A]){K=[];break}E.splice(v,2,D+E[v+1]),_--,Y[A++]=!0,v--;continue}E[v]=D.substring(0,et);let Dt=E[v+1];E[v+1]=D.substring(et)+(Dt===void 0||Dt===rl?"":Dt)}else{if(lt)E.splice(v,2,E[v]+E[v+1]),lt=0;else{var X=D.search(N);X>-1&&X!==D.length-1&&X!==0&&(lt=X+1,et=0),E.splice(v,1,D.substring(0,lt||et),D.substring(lt||et)),_++}A&&!Y[A-1]&&A--}(!h||K[A]!=="")&&v--;continue}A++,v--}}var ft=null;if(K.length>T)ft=T-1;else if(o!==void 0){if(p===void 0&&d.data!=="")if(i.lineHeight==="auto")p=pI({value:1.5,unit:"em"},c);else{let Ot=nx(i.lineHeight,["em","px",""]);p=pI(Ot,c)}p*K.length>o&&(ft=Math.floor(o/p)-1)}if(ft!==null){K.splice(ft+1);var vt=n.ellipsis;if(!vt||ft<0)break;typeof vt!="string"&&(vt="\u2026");var W=K[ft];if(!W&&!z)break;var $=W.length,J,q;do{if(q=W[$],J=W.substring(0,$),q?q.match(y)&&(J+=q):J+=w,J+=vt,d.data=J,l.getComputedTextLength()<=r){K[ft]=J;break}$--}while($>=0);break}}}return n.svgDocument?s.removeChild(c):document.body.removeChild(s),K.join(x)},AI=function(t){var e=(0,Lr.default)(Lr.default.parseHTML("<div>"+t+"</div>",null,!1));return e.find("*").each(function(){var i=this;Lr.default.each(i.attributes,function(){var n=this,r=n.name,o=n.value;(r.startsWith("on")||o.startsWith("javascript:")||o.startsWith("data:")||o.startsWith("vbscript:"))&&(0,Lr.default)(i).removeAttr(r)})}),e.html()};var wI=function(t,e){var i=(0,Lr.default)(t),n=i.map(function(){var r=this,o=r.parentNode,s=o.insertBefore(document.createTextNode(""),r.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,s),o.removeChild(s)}});return Array.prototype.sort.call(i,e).each(function(r){n[r].call(this)})};var mn=function(t){if(Object(t)!==t){var e=0;return isFinite(t)&&(e=+t),{top:e,right:e,bottom:e,left:e}}var i,n,r,o;return i=n=r=o=0,isFinite(t.vertical)&&(i=r=+t.vertical),isFinite(t.horizontal)&&(n=o=+t.horizontal),isFinite(t.top)&&(i=+t.top),isFinite(t.right)&&(n=+t.right),isFinite(t.bottom)&&(r=+t.bottom),isFinite(t.left)&&(o=+t.left),{top:i,right:n,bottom:r,left:o}},xI={linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,i=1;;e+=i,i/=2)if(t>=(7-4*e)/11){var n=(11-6*e-11*t)/4;return-n*n+i*i}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return .5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,i){return e=e||0,i=i||1,function(n){var r=t(n);return r<e?e:r>i?i:r}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},Ru={number:function(t,e){var i=e-t;return function(n){return t+i*n}},object:function(t,e){var i=Object.keys(t);return function(n){var r,o,s={};for(r=i.length-1;r!=-1;r--)o=i[r],s[o]=t[o]+(e[o]-t[o])*n;return s}},hexColor:function(t,e){var i=parseInt(t.slice(1),16),n=parseInt(e.slice(1),16),r=i&255,o=(n&255)-r,s=i&65280,l=(n&65280)-s,c=i&16711680,d=(n&16711680)-c;return function(h){var f=r+o*h&255,y=s+l*h&65280,w=c+d*h&16711680;return"#"+(1<<24|f|y|w).toString(16).slice(1)}},unit:function(t,e){var i=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,n=i.exec(t),r=i.exec(e),o=r[1].indexOf("."),s=o>0?r[1].length-o-1:0;t=+n[1];var l=+r[1]-t,c=n[2];return function(d){return(t+l*d).toFixed(s)+c}}},SI={outline:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',i=Number.isFinite(t.margin)?t.margin:2,n=Number.isFinite(t.width)?t.width:1;return _i(e)({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:i+n,innerRadius:i})},highlight:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return _i(e)({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return _i('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return _i(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return _i('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return _i('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return _i('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return _i('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return _i('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return _i('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return _i('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}};var _i=function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(i){return i=i||{},t.replace(e,function(n){for(var r=Array.from(arguments),o=r.slice(1,4).find(function(c){return!!c}),s=o.split("."),l=i[s.shift()];l!==void 0&&s.length;)l=l[s.shift()];return l!==void 0?l:""})}};function ju(t){t=hn(t);let e=jt(t).reduce(function(i,n){return i[n.id]=n.clone(),i},{});return jt(t).forEach(function(i){let n=e[i.id];if(n.isLink()){let s=n.source(),l=n.target();s.id&&e[s.id]&&n.prop("source/id",e[s.id].id),l.id&&e[l.id]&&n.prop("target/id",e[l.id].id)}let r=i.get("parent");r&&e[r]&&n.set("parent",e[r].id);let o=jt(i.get("embeds")).reduce(function(s,l){return e[l]&&s.push(e[l].id),s},[]);Bi(o)||n.set("embeds",o)}),e}var ox=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],sx=ox.reduce((t,e)=>(t[e]=!0,t),{}),ax={qualify:function(t){return Ae(t)},set:function(t,e,i){Object.keys(t).forEach(function(n){if(sx[n]&&n in i){let r=t[n];i.tagName==="SELECT"&&Array.isArray(r)?Array.from(i.options).forEach(function(o,s){o.selected=r.includes(o.value)}):i[n]=r}})}},_I=ax;var Ps=Yn(Er(),1);function jr(t,e){return function(i,n){var r=$e(i);i=parseFloat(i),r&&(i/=100);var o={};if(isFinite(i)){var s=r||i>=0&&i<=1?i*n[e]:Math.max(i+n[e],0);o[t]=s}return o}}function zu(t,e,i){return function(n,r){var o=$e(n);n=parseFloat(n),o&&(n/=100);var s;if(isFinite(n)){var l=r[i]();o||n>0&&n<1?s=l[t]+r[e]*n:s=l[t]+n}var c=L();return c[t]=s||0,c}}function MI(t,e,i){return function(n,r){var o;n==="middle"?o=r[e]/2:n===i?o=r[e]:isFinite(n)?o=n>-1&&n<1?-r[e]*n:-n:$e(n)?o=r[e]*parseFloat(n)/100:o=0;var s=L();return s[t]=-(r[t]+o),s}}function kI(t,e){var i="joint-shape",n=e&&e.resetOffset;return function(r,o,s){var l=(0,Ps.default)(s),c=l.data(i);if(!c||c.value!==r){var d=t(r);c={value:r,shape:d,shapeBBox:d.bbox()},l.data(i,c)}var h=c.shape.clone(),f=c.shapeBBox.clone(),y=f.origin(),w=o.origin();f.x=w.x,f.y=w.y;var x=o.maxRectScaleToFit(f,w),N=f.width===0||o.width===0?1:x.sx,T=f.height===0||o.height===0?1:x.sy;return h.scale(N,T,y),n&&h.translate(-y.x,-y.y),h}}function NI(t){function e(n){return new _t(it.normalizePathData(n))}var i=kI(e,t);return function(n,r,o){var s=i(n,r,o);return{d:s.serialize()}}}function TI(t){var e=kI(le,t);return function(i,n,r){var o=e(i,n,r);return{points:o.serialize()}}}function Bu(t,e){var i=new L(1,0);return function(n){var r,o,s=this[t](n);return s?(o=e.rotate?s.vector().vectorAngle(i):0,r=s.start):(r=this.path.start,o=0),o===0?{transform:"translate("+r.x+","+r.y+")"}:{transform:"translate("+r.x+","+r.y+") rotate("+o+")"}}}function DI(t){return function(i,n,r){let o=it(r);o.attr(t)!==i&&o.attr(t,i)}}function Ds(t,e,i){return i.text!==void 0}function cl(){return this.model.isLink()}function Rg(t){var e={},i=t.stroke;typeof i=="string"&&(e.stroke=i,e.fill=i);var n=t.strokeOpacity;return n===void 0&&(n=t["stroke-opacity"]),n===void 0&&(n=t.opacity),n!==void 0&&(e["stroke-opacity"]=n,e["fill-opacity"]=n),e}function PI(t){let{paper:e}=this;return`url(#${t.type==="pattern"?e.definePattern(t):e.defineGradient(t)})`}var Ut={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:DI("href")},xlinkHref:{set:DI("xlink:href")},filter:{qualify:Ae,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:Ae,set:PI},stroke:{qualify:Ae,set:PI},sourceMarker:{qualify:Ae,set:function(t,e,i,n){return t=wt(Rg(n),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:Ae,set:function(t,e,i,n){return t=wt(Rg(n),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:Ae,set:function(t,e,i,n){return t=wt(Rg(n),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{qualify:function(t,e,i){return!i.textWrap||!Ae(i.textWrap)},set:function(t,e,i,n){let r=(0,Ps.default)(i),o="joint-text",s=r.data(o),{lineHeight:l,annotations:c,textVerticalAnchor:d,eol:h,displayEmpty:f}=n,y=n.textPath,w=n.x;Cn(w)&&(w=bn(w,e));let x=n["font-size"]||n.fontSize;Cn(x)&&(x=bn(x,e));let N=JSON.stringify([t,l,c,d,h,f,y,w,x]);if(s===void 0||s!==N){if(x&&i.setAttribute("font-size",x),Jt(y)){let T=y.selector;if(typeof T=="string"){let[E]=this.findBySelector(T);E instanceof SVGPathElement&&(y=wt({"xlink:href":"#"+E.id},y))}}it(i).text(""+t,{lineHeight:l,annotations:c,textPath:y,x:w,textVerticalAnchor:d,eol:h,displayEmpty:f}),r.data(o,N)}}},textWrap:{qualify:Ae,set:function(t,e,i,n){var r={},o=t.width||0;$e(o)?r.width=e.width*parseFloat(o)/100:Cn(o)?r.width=Number(bn(o,e)):t.width===null?r.width=1/0:o<=0?r.width=e.width+o:r.width=o;var s=t.height||0;$e(s)?r.height=e.height*parseFloat(s)/100:Cn(s)?r.height=Number(bn(s,e)):t.height===null||(s<=0?r.height=e.height+s:r.height=s);var l,c=t.text;if(c===void 0&&(c=n.text),c!==void 0){let d=t.breakText||Lu,h=n["font-size"]||n.fontSize;l=d(""+c,r,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":Cn(h)?bn(h,e):h,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight,"letter-spacing":"letter-spacing"in n?n["letter-spacing"]:n.letterSpacing},{svgDocument:this.paper.svg,ellipsis:t.ellipsis,hyphen:t.hyphen,separator:t.separator,maxLineCount:t.maxLineCount,preserveSpaces:t.preserveSpaces})}else l="";Ut.text.set.call(this,l,e,i,n)}},title:{qualify:function(t,e){return e instanceof SVGElement},set:function(t,e,i){var n=(0,Ps.default)(i),r="joint-title",o=n.data(r);if(o===void 0||o!==t){if(n.data(r,t),i.tagName==="title"){i.textContent=t;return}var s=i.firstElementChild;if(s&&s.tagName==="title")s.textContent=t;else{var l=document.createElementNS(i.namespaceURI,"title");l.textContent=t,i.insertBefore(l,s)}}}},lineHeight:{qualify:Ds},textVerticalAnchor:{qualify:Ds},textPath:{qualify:Ds},annotations:{qualify:Ds},eol:{qualify:Ds},displayEmpty:{qualify:Ds},port:{set:function(t){return t===null||t.id===void 0?t:t.id}},style:{qualify:Ae,set:function(t,e,i){(0,Ps.default)(i).css(t)}},html:{set:function(t,e,i){(0,Ps.default)(i).html(t+"")}},props:_I,ref:{},refX:{position:zu("x","width","origin")},refY:{position:zu("y","height","origin")},refDx:{position:zu("x","width","corner")},refDy:{position:zu("y","height","corner")},refWidth:{set:jr("width","width")},refHeight:{set:jr("height","height")},refRx:{set:jr("rx","width")},refRy:{set:jr("ry","height")},refRInscribed:{set:(function(t){var e=jr(t,"width"),i=jr(t,"height");return function(n,r){var o=r.height>r.width?e:i;return o(n,r)}})("r")},refRCircumscribed:{set:function(t,e){var i=$e(t);t=parseFloat(t),i&&(t/=100);var n=Math.sqrt(e.height*e.height+e.width*e.width),r;return isFinite(t)&&(i||t>=0&&t<=1?r=t*n:r=Math.max(t+n,0)),{r}}},refCx:{set:jr("cx","width")},refCy:{set:jr("cy","height")},xAlignment:{offset:MI("x","width","right")},yAlignment:{offset:MI("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}},refDResetOffset:{set:NI({resetOffset:!0})},refDKeepOffset:{set:NI({resetOffset:!1})},refPointsResetOffset:{set:TI({resetOffset:!0})},refPointsKeepOffset:{set:TI({resetOffset:!1})},connection:{qualify:cl,set:function({stubs:t=0}){let e;if(isFinite(t)&&t!==0){let i;t<0?i=(this.getConnectionLength()+t)/2:i=t;let n=this.getConnection(),r=this.getConnectionSubdivisions(),o=n.divideAtLength(i,{segmentSubdivisions:r}),s=n.divideAtLength(-i,{segmentSubdivisions:r});o&&s&&(e=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:e||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:cl,set:Bu("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:cl,set:Bu("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:cl,set:Bu("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:cl,set:Bu("getTangentAtRatio",{rotate:!1})}};Ut["xlink:href"]=Ut.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(t=>{Ut[t]={qualify:Cn,set:function(i,n){return{[t]:bn(i,n)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(t=>{Ut[t]={qualify:Cn,set:function(i,n){return{[t]:Math.max(0,bn(i,n))}}}});Ut.refR=Ut.refRInscribed;Ut.refD=Ut.refDResetOffset;Ut.refPoints=Ut.refPointsResetOffset;Ut.atConnectionLength=Ut.atConnectionLengthKeepGradient;Ut.atConnectionRatio=Ut.atConnectionRatioKeepGradient;Ut.fontSize=Ut["font-size"];Ut.strokeWidth=Ut["stroke-width"];Ut.refX2=Ut.refX;Ut.refY2=Ut.refY;Ut.refWidth2=Ut.refWidth;Ut.refHeight2=Ut.refHeight;Ut["ref-x"]=Ut.refX;Ut["ref-y"]=Ut.refY;Ut["ref-dy"]=Ut.refDy;Ut["ref-dx"]=Ut.refDx;Ut["ref-width"]=Ut.refWidth;Ut["ref-height"]=Ut.refHeight;Ut["x-alignment"]=Ut.xAlignment;Ut["y-alignment"]=Ut.yAlignment;var ul=Ut;var Mi=jg.default.Model.extend({constructor:function(t,e){var i,n=t||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=Og("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(n=this.parse(n,e)||{}),(i=Ne(this,"defaults"))&&(n=ke({},i,n)),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,i){throw new Error("Must define a translate() method.")},toJSON:function(){let e=Ne(this.constructor.prototype,"defaults").attrs||{},i=this.attributes.attrs,n={};Gi(i,function(o,s){let l=e[s];Gi(o,function(c,d){Jt(c)&&!Array.isArray(c)?Gi(c,function(h,f){(!l||!l[d]||!qn(l[d][f],h))&&(n[s]=n[s]||{},(n[s][d]||(n[s][d]={}))[f]=h)}):(!l||!qn(l[d],c))&&(n[s]=n[s]||{},n[s][d]=c)})});let r=Si(pn(this.attributes,"attrs"));return r.attrs=n,r},initialize:function(t){let e=this.getIdAttribute();(!t||t[e]===void 0)&&this.set(e,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return yI()},processPorts:function(){var t=this.ports,e={};Gi(this.get("attrs"),function(o,s){o&&o.port&&(o.port.id!==void 0?e[o.port.id]=o.port:e[o.port]={id:o.port})});var i={};if(Gi(t,function(o,s){e[s]||(i[s]=!0)}),this.graph&&!Bi(i)){var n=this.graph.getConnectedLinks(this,{inbound:!0});n.forEach(function(o){i[o.get("target").port]&&o.remove()});var r=this.graph.getConnectedLinks(this,{outbound:!0});r.forEach(function(o){i[o.get("source").port]&&o.remove()})}this.ports=e},remove:function(t={}){let{graph:e,collection:i}=this;if(!e)return i&&i.remove(this,t),this;e.startBatch("remove");let n=this.getParentCell();n&&n.unembed(this,t);let r=this.getEmbeddedCells();for(let o=0,s=r.length;o<s;o++){let l=r[o];l&&l.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(t){var e=this.graph;if(e){t=mi(t||{},{foregroundEmbeds:!0});let i;t.deep?(i=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1,sortSiblings:t.foregroundEmbeds}),i.unshift(this)):i=[this];let n=t.foregroundEmbeds?i:il(i,c=>c.z()),o=e.maxZIndex()-i.length+1,s=e.get("cells"),l=s.indexOf(n[0])!==s.length-i.length;l||(l=n.some(function(c,d){return c.z()!==o+d})),l&&(this.startBatch("to-front"),o=o+i.length,n.forEach(function(c,d){c.set("z",o+d,t)}),this.stopBatch("to-front"))}return this},toBack:function(t){var e=this.graph;if(e){t=mi(t||{},{foregroundEmbeds:!0});let n;t.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1,sortSiblings:t.foregroundEmbeds}),n.unshift(this)):n=[this];let r=t.foregroundEmbeds?n:il(n,l=>l.z()),o=e.minZIndex();var i=e.get("cells");let s=i.indexOf(r[0])!==0;s||(s=r.some(function(l,c){return l.z()!==o+c})),s&&(this.startBatch("to-back"),o-=n.length,r.forEach(function(l,c){l.set("z",o+c,t)}),this.stopBatch("to-back"))}return this},parent:function(t,e){return t===void 0?this.get("parent"):this.set("parent",t,e)},embed:function(t,e){let i=Array.isArray(t)?t:[t];if(!this.canEmbed(i))throw new Error("Recursive embedding not allowed.");if(i.some(n=>n.isEmbedded()&&this.id!==n.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(i,e),this},unembed:function(t,e){let i=Array.isArray(t)?t:[t];return this._unembedCells(i,e),this},canEmbed:function(t){return(Array.isArray(t)?t:[t]).every(i=>this!==i&&!this.isEmbeddedIn(i))},_embedCells:function(t,e){let i="embed";this.startBatch(i);let n=wt([],this.get("embeds"));t.forEach(r=>{n[r.isLink()?"unshift":"push"](r.id),r.parent(this.id,e)}),this.set("embeds",hn(n),e),this.stopBatch(i)},_unembedCells:function(t,e){let i="unembed";this.startBatch(i),t.forEach(n=>n.unset("parent",e)),this.set("embeds",Ns(this.get("embeds"),...t.map(n=>n.id)),e),this.stopBatch(i)},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(t){if(t=t||{},!this.graph)return[];if(t.deep)return t.breadthFirst?this._getEmbeddedCellsBfs(t.sortSiblings):this._getEmbeddedCellsDfs(t.sortSiblings);let e=this.get("embeds");if(Bi(e))return[];let i=e.map(this.graph.getCell,this.graph);return t.sortSiblings&&(i=il(i,n=>n.z())),i},_getEmbeddedCellsBfs:function(t){let e=[],i=[];for(i.push(this);i.length>0;){let n=i.shift();e.push(n);let r=n.getEmbeddedCells({sortSiblings:t});i.push(...r)}return e.shift(),e},_getEmbeddedCellsDfs:function(t){let e=[],i=[];for(i.push(this);i.length>0;){let n=i.pop();e.push(n);let r=n.getEmbeddedCells({sortSiblings:t});for(let o=r.length-1;o>=0;--o)i.push(r[o])}return e.shift(),e},isEmbeddedIn:function(t,e){var i=Xe(t)?t:t.id,n=this.parent();if(e=wt({deep:!0},e),this.graph&&e.deep){for(;n;){if(n===i)return!0;n=this.graph.getCell(n).parent()}return!1}else return n===i},isEmbedded:function(){return!!this.parent()},clone:function(t){if(t=t||{},t.deep)return jt(ju([this].concat(this.getEmbeddedCells({deep:!0}))));var e=jg.default.Model.prototype.clone.apply(this,arguments);return e.set(this.getIdAttribute(),this.generateId()),e.unset("embeds"),e.unset("parent"),e},prop:function(t,e,i){var n="/",r=Xe(t);if(r||Array.isArray(t))if(arguments.length>1){var o,s;r?(o=t,s=o.split("/")):(o=t.join(n),s=t.slice());var l=s[0],c=s.length;let K=i||{};K.propertyPath=o,K.propertyValue=e,K.propertyPathArray=s,"rewrite"in K||(K.rewrite=!1);for(var d={},h=d,f=l,y=1;y<c;y++){var w=s[y],x=Number.isFinite(r?Number(w):w);h=h[f]=x?[]:{},f=w}d=sl(d,s,e,"/");var N=ke({},this.attributes);K.rewrite&&Lg(N,o,"/");var T=ke(N,d);return this.set(l,T[l],K)}else return gr(this.attributes,t,n);let E=e||{};E.propertyPath=null,E.propertyValue=t,E.propertyPathArray=[],"rewrite"in E||(E.rewrite=!1);let Y={};for(let K in t){let{changedValue:et}=ke({},{changedValue:this.attributes[K]},{changedValue:t[K]});Y[K]=et}return this.set(Y,E)},removeProp:function(t,e){e=e||{};var i=Array.isArray(t)?t:t.split("/"),n=i[0];if(n==="attrs"&&(e.dirty=!0),i.length===1)return this.unset(t,e);var r=i.slice(1),o=this.get(n);return o==null?this:(o=Si(o),Lg(o,r,"/"),this.set(n,o,e))},attr:function(t,e,i){var n=Array.from(arguments);return n.length===0?this.get("attrs"):(Array.isArray(t)?n[0]=["attrs"].concat(t):Xe(t)?n[0]="attrs/"+t:n[0]={attrs:t},this.prop.apply(this,n))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,i,n){n=n||"/";var r={duration:100,delay:10,timingFunction:xI.linear,valueFunction:Ru.number};i=wt(r,i);var o=0,s,l=function(f){var y,w,x;o=o||f,f-=o,w=f/i.duration,w<1?this._transitionIds[t]=y=al(l):(w=1,delete this._transitionIds[t]),x=s(i.timingFunction(w)),i.transitionId=y,this.prop(t,x,i),y||this.trigger("transition:end",this,t)}.bind(this);let{_scheduledTransitionIds:c}=this,d;var h=f=>{c[t]&&(c[t]=Ns(c[t],d),c[t].length===0&&delete c[t]),this.stopPendingTransitions(t,n),s=i.valueFunction(gr(this.attributes,t,n),e),this._transitionIds[t]=al(f),this.trigger("transition:start",this,t)};return d=setTimeout(h,i.delay,l),c[t]||(c[t]=[]),c[t].push(d),d},getTransitions:function(){return Ts(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(t,e="/"){let{_scheduledTransitionIds:i={}}=this,n=Object.keys(i);if(t){let r=t.split(e);n=n.filter(o=>qn(r,o.split(e).slice(0,r.length)))}return n.forEach(r=>{i[r].forEach(s=>clearTimeout(s)),delete i[r]}),this},stopPendingTransitions(t,e="/"){let{_transitionIds:i={}}=this,n=Object.keys(i);if(t){let r=t.split(e);n=n.filter(o=>qn(r,o.split(e).slice(0,r.length)))}n.forEach(r=>{let o=i[r];ll(o),delete i[r],this.trigger("transition:end",this,r)})},stopTransitions:function(t,e="/"){return this.stopScheduledTransitions(t,e),this.stopPendingTransitions(t,e),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,wt({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,wt({},e,{cell:this})),this},getChangeFlag:function(t){var e=0;if(!t)return e;for(var i in t)!t.hasOwnProperty(i)||!this.hasChanged(i)||(e|=t[i]);return e},angle:function(){return 0},position:function(){return new L(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new L},getBBox:function(){return new gt(0,0,0,0)},getPointRotatedAroundCenter(t,e,i){let n=new L(e,i);return t&&n.rotate(this.getBBox().center(),t),n},getAbsolutePointFromRelative(t,e){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(t,e))},getRelativePointFromAbsolute(t,e){return this.getPointRotatedAroundCenter(this.angle(),t,e).difference(this.position())}},{getAttributeDefinition:function(t){var e=this.attributes,i=ul;return e&&e[t]||i[t]},define:function(t,e,i,n){i=wt({defaults:bo({type:t},e,this.prototype.defaults)},i);var r=this.extend(i,n);return typeof joint<"u"&&nn(joint,"shapes")&&sl(joint.shapes,t,r,"."),r}});var EI=function(t,e,i){if(Xe(i)){if(!Gu[i])throw new Error('Unknown wrapper: "'+i+'"');i=Gu[i]}if(!ue(i))throw new Error("Wrapper must be a function.");jt(e).forEach(function(n){t[n]=i(t[n])})},Gu={cells:function(t){return function(){var e=Array.from(arguments),i=e.length,n=i>0&&e[0]||[],r=i>1&&e[i-1]||{};return Array.isArray(n)||(r instanceof Mi?n=e:n instanceof Mi&&(e.length>1&&e.pop(),n=e)),r instanceof Mi&&(r={}),t.call(this,n,r)}}};var Je={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function fl(t,e){let i=new gt(t);switch(e){case void 0:throw new Error("Position required");case Je.LEFT:case"leftMiddle":return i.leftMiddle();case Je.RIGHT:case"rightMiddle":return i.rightMiddle();case Je.TOP:case"topMiddle":return i.topMiddle();case Je.BOTTOM:case"bottomMiddle":return i.bottomMiddle();case Je.TOP_LEFT:case"topLeft":case"origin":return i.topLeft();case Je.TOP_RIGHT:case"topRight":return i.topRight();case Je.BOTTOM_LEFT:case"bottomLeft":return i.bottomLeft();case Je.BOTTOM_RIGHT:case"bottomRight":case"corner":return i.bottomRight();case Je.CENTER:return i.center();default:throw new Error(`Unknown position: ${e}`)}}function OI(t,e,i){var n=t.toJSON();return n.angle=e||0,mi({},i,n)}function dl(t,e,i,n){return t.map(function(r,o,s){var l=this.pointAt((o+.5)/s.length);return(r.dx||r.dy)&&l.offset(r.dx||0,r.dy||0),OI(l.round(),0,Bg(n,r))},lr(e,i))}function LI(t,e,i,n){var r=e.center(),o=e.width/e.height,s=e.topMiddle(),l=ii.fromRect(e);return t.map(function(c,d,h){var f=i+n(d,h.length),y=s.clone().rotate(r,-f).scale(o,1,r),w=c.compensateRotation?-l.tangentTheta(y):0;return(c.dx||c.dy)&&y.offset(c.dx||0,c.dy||0),c.dr&&y.move(r,c.dr),OI(y.round(),w,Bg(e,c))})}function Bg(t,e){let{x:i,y:n,angle:r}=e;return $e(i)?i=parseFloat(i)/100*t.width:Cn(i)&&(i=Number(bn(i,t))),$e(n)?n=parseFloat(n)/100*t.height:Cn(n)&&(n=Number(bn(n,t))),{x:i,y:n,angle:r}}function zg(t,e){let{x:i,y:n}=Bg(t,e);return new L(i||0,n||0)}var lx=function(t,e){return t.map(i=>{let n=zg(e,i).round().toJSON();return n.angle=i.angle||0,n})},cx=function(t,e,i){return i.fn(t,e,i)},ux=function(t,e,i){var n=zg(e,i.start||e.origin()),r=zg(e,i.end||e.corner());return dl(t,n,r,e)},fx=function(t,e,i){return dl(t,e.origin(),e.bottomLeft(),e)},dx=function(t,e,i){return dl(t,e.topRight(),e.corner(),e)},hx=function(t,e,i){return dl(t,e.origin(),e.topRight(),e)},gx=function(t,e,i){return dl(t,e.bottomLeft(),e.corner(),e)},px=function(t,e,i){var n=i.startAngle||0,r=i.step||360/t.length;return LI(t,e,n,function(o){return o*r})},mx=function(t,e,i){var n=i.startAngle||0,r=i.step||20;return LI(t,e,n,function(o,s){return(o+.5-s/2)*r})};var Zg={};Fe(Zg,{bottom:()=>bx,inside:()=>Sx,insideOriented:()=>xx,left:()=>yx,manual:()=>vx,outside:()=>wx,outsideOriented:()=>Ax,radial:()=>_x,radialOriented:()=>Mx,right:()=>Ix,top:()=>Cx});function zr(t,e){return bo({},t,e,{x:0,y:0,angle:0,attrs:{}})}function RI(t){var e=t.center(),i=e.theta(t.origin()),n=e.theta(t.bottomLeft()),r=e.theta(t.corner()),o=e.theta(t.topRight());return[i,o,r,n]}function jI(t,e,i,n){n=mi({},n,{offset:15});var r=e.center().theta(t),o,s,l,c,d=n.offset,h=0;let[f,y,w,x]=RI(e);r<y||r>w?(l=".3em",o=d,s=0,c="start"):r<f?(o=0,s=-d,i?(h=-90,c="start",l=".3em"):(c="middle",l="0")):r<x?(l=".3em",o=-d,s=0,c="end"):(o=0,s=d,i?(h=90,c="start",l=".3em"):(c="middle",l=".6em"));var N=Math.round;return zr(n,{x:N(o),y:N(s),angle:h,attrs:{labelText:{y:l,textAnchor:c}}})}function zI(t,e,i,n){n=mi({},n,{offset:15});var r=e.center().theta(t),o,s,l,c,d=n.offset,h=0;let[f,y,w,x]=RI(e);r<y||r>w?(l=".3em",o=-d,s=0,c="end"):r<f?(o=0,s=d,i?(h=90,c="start",l=".3em"):(c="middle",l=".6em")):r<x?(l=".3em",o=d,s=0,c="start"):(o=0,s=-d,i?(h=-90,c="start",l=".3em"):(c="middle",l="0"));var N=Math.round;return zr(n,{x:N(o),y:N(s),angle:h,attrs:{labelText:{y:l,textAnchor:c}}})}function BI(t,e,i){i=mi({},i,{offset:20});var n=Ho(0,0),r=-t.theta(n),o=r,s=t.clone().move(n,i.offset).difference(t).round(),l=".3em",c;(r+90)%180===0?(c=e?"end":"middle",!e&&r===-270&&(l="0em")):r>-270&&r<-90?(c="start",o=r-180):c="end";var d=Math.round;return zr(i,{x:d(s.x),y:d(s.y),angle:e?o:0,attrs:{labelText:{y:l,textAnchor:c}}})}var vx=function(t,e,i){return zr(i)},yx=function(t,e,i){return zr(i,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},Ix=function(t,e,i){return zr(i,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},Cx=function(t,e,i){return zr(i,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},bx=function(t,e,i){return zr(i,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},Ax=function(t,e,i){return jI(t,e,!0,i)},wx=function(t,e,i){return jI(t,e,!1,i)},xx=function(t,e,i){return zI(t,e,!0,i)},Sx=function(t,e,i){return zI(t,e,!1,i)},_x=function(t,e,i){return BI(t.difference(e.center()),!1,i)},Mx=function(t,e,i){return BI(t.difference(e.center()),!0,i)};var Bs={};Fe(Bs,{Cell:()=>Mi,CellView:()=>Xt,Element:()=>xe,ElementView:()=>Be,Graph:()=>Zu,HighlighterView:()=>li,LayersNames:()=>Zi,Link:()=>we,LinkView:()=>_o,Paper:()=>gS,PaperLayer:()=>Fg,ToolView:()=>sp,ToolsView:()=>pS,attributes:()=>ul});var Br=Yn(Ya(),1);var we=Mi.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,i){if(t===void 0)return gn(this.get("source"));var n,r,o=t instanceof Mi;if(o)return n=gn(e)||{},n.id=t.id,r=i,this.set("source",n,r);var s=!Ae(t);return s?(n=gn(e)||{},n.x=t.x,n.y=t.y,r=i,this.set("source",n,r)):(n=t,r=e,this.set("source",n,r))},target:function(t,e,i){if(t===void 0)return gn(this.get("target"));var n,r,o=t instanceof Mi;if(o)return n=gn(e)||{},n.id=t.id,r=i,this.set("target",n,r);var s=!Ae(t);return s?(n=gn(e)||{},n.x=t.x,n.y=t.y,r=i,this.set("target",n,r)):(n=t,r=e,this.set("target",n,r))},router:function(t,e,i){if(t===void 0){var n=this.get("router");return n?typeof n=="object"?gn(n):n:this.get("manhattan")?{name:"orthogonal"}:null}var r=typeof t=="object"||typeof t=="function",o=r?t:{name:t,args:e},s=r?e:i;return this.set("router",o,s)},connector:function(t,e,i){if(t===void 0){var n=this.get("connector");return n?typeof n=="object"?gn(n):n:this.get("smooth")?{name:"smooth"}:null}var r=typeof t=="object"||typeof t=="function",o=r?t:{name:t,args:e},s=r?e:i;return this.set("connector",o,s)},label:function(t,e,i){var n=this.labels();return t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=n.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,i)},labels:function(t,e){return arguments.length===0?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},hasLabels:function(){let{labels:t}=this.attributes;return Array.isArray(t)&&t.length>0},insertLabel:function(t,e,i){if(!e)throw new Error("dia.Link: no label provided");var n=this.labels(),r=n.length;return t=isFinite(t)&&t!==null?t|0:r,t<0&&(t=r+t+1),n.splice(t,0,e),this.labels(n,i)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var i=this.labels();return t=isFinite(t)&&t!==null?t|0:-1,i.splice(t,1),this.labels(i,e)},vertex:function(t,e,i){var n=this.vertices();if(t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=n.length+t),arguments.length<=1)return this.prop(["vertices",t]);var r=this._normalizeVertex(e);return this.prop(["vertices",t],r,i)},vertices:function(t,e){if(arguments.length===0)return t=this.get("vertices"),Array.isArray(t)?t.slice():[];Array.isArray(t)||(t=[]);for(var i=[],n=0;n<t.length;n++){var r=t[n],o=this._normalizeVertex(r);i.push(o)}return this.set("vertices",i,e)},insertVertex:function(t,e,i){if(!e)throw new Error("dia.Link: no vertex provided");var n=this.vertices(),r=n.length;t=isFinite(t)&&t!==null?t|0:r,t<0&&(t=r+t+1);var o=this._normalizeVertex(e);return n.splice(t,0,o),this.vertices(n,i)},removeVertex:function(t,e){var i=this.vertices();return t=isFinite(t)&&t!==null?t|0:-1,i.splice(t,1),this.vertices(i,e)},_normalizeVertex:function(t){var e=!Ae(t);return e?{x:t.x,y:t.y}:t},translate:function(t,e,i){return i=i||{},i.translateBy=i.translateBy||this.id,i.tx=t,i.ty=e,this.applyToPoints(function(n){return{x:(n.x||0)+t,y:(n.y||0)+e}},i)},scale:function(t,e,i,n){return this.applyToPoints(function(r){return L(r).scale(t,e,i).toJSON()},n)},applyToPoints:function(t,e){if(!ue(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var i={},{source:n,target:r}=this.attributes;n.id||(i.source=t(n)),r.id||(i.target=t(r));var o=this.vertices();return o.length>0&&(i.vertices=o.map(t)),this.set(i,e)},getSourcePoint:function(){var t=this.getSourceCell();return t?t.getPointFromConnectedLink(this,"source"):new L(this.source())},getTargetPoint:function(){var t=this.getTargetCell();return t?t.getPointFromConnectedLink(this,"target"):new L(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){let t=[this.getSourcePoint(),...this.vertices().map(L),this.getTargetPoint()];return new le(t)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(t){var e;if(this.graph){var i=this.getSourceElement(),n=this.getTargetElement(),r=this.getParentCell();i&&n&&(i===n||i.isEmbeddedIn(n)?e=n:n.isEmbeddedIn(i)?e=i:e=this.graph.getCommonAncestor(i,n)),r&&(!e||e.id!==r.id)&&r.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var{source:e,target:i}=this.attributes,n=e.id,r=i.id;if(!n||!r)return!1;var o=n===r;if(!o&&t.deep&&this.graph){var s=this.getSourceCell(),l=this.getTargetCell();o=s.isEmbeddedIn(l)||l.isEmbeddedIn(s)}return o},getSourceCell:function(){let{graph:t,attributes:e}=this;var i=e.source;return i&&i.id&&t&&t.getCell(i.id)||null},getSourceElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getSourceCell()}while(t&&t.isLink());return t},getTargetCell:function(){let{graph:t,attributes:e}=this;var i=e.target;return i&&i.id&&t&&t.getCell(i.id)||null},getTargetElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getTargetCell()}while(t&&t.isLink());return t},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter(function(i){return!!i});t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=Xe(t)||ni(t)?t:t.id,i=this.getRelationshipAncestor();return!!i&&(i.id===e||i.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){var i=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&i}});var GI=function(t){var e=Si(t)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Gg,this.portLabelLayoutNamespace=Zg,this._init(e)};GI.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter(function(e){return e.group===t})},getGroupPortsMetrics:function(t,e){var i=this.getGroup(t),n=this.getPortsByGroup(t),r=i.position||{},o=r.name,s=this.portLayoutNamespace;s[o]||(o="left");var l=r.args||{},c=n.map(function(f){return f&&f.position&&f.position.args}),d=s[o](c,e,l),h={ports:n,result:[]};return jt(d).reduce(function(f,y,w){var x=f.ports[w];return f.result.push({portId:x.id,portTransformation:y,labelTransformation:this._getPortLabelLayout(x,L(y),e),portAttrs:x.attrs,portSize:x.size,labelSize:x.label.size}),f}.bind(this),h),h.result},_getPortLabelLayout:function(t,e,i){var n=this.portLabelLayoutNamespace,r=t.label.position.name||"left";return n[r]?n[r](e,i,t.label.position.args):null},_init:function(t){if(Jt(t.groups))for(var e=Object.keys(t.groups),i=0,n=e.length;i<n;i++){var r=e[i];this.groups[r]=this._evaluateGroup(t.groups[r])}for(var o=jt(t.items),s=0,l=o.length;s<l;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(t){return ke(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=wt({},t),i=this.getGroup(t.group);return e.markup=e.markup||i.markup,e.attrs=ke({},i.attrs,e.attrs),e.position=this._createPositionNode(i,e),e.label=ke({},i.label,this._getLabel(e)),e.z=this._getZIndex(i,e),e.size=wt({},i.size,e.size),e},_getZIndex:function(t,e){return ni(e.z)?e.z:ni(t.z)||t.z==="auto"?t.z:"auto"},_createPositionNode:function(t,e){return ke({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var i={},n;ue(t)?(n="fn",i.fn=t):Xe(t)?n=t:t===void 0?n=e?"left":null:Array.isArray(t)?(n="absolute",i.x=t[0],i.y=t[1]):Jt(t)&&(n=t.name,wt(i,t.args));var r={args:i};return n&&(r.name=n),r},_getLabel:function(t,e){var i=t.label||{},n=i;return n.position=this._getPosition(i.position,e),n}};var ZI={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};jt(t.items).forEach(function(l){e[l.id]=!0});var i=this.previous("ports")||{},n={};jt(i.items).forEach(function(l){e[l.id]||(n[l.id]=!0)});var r=this.graph;if(r&&!Bi(n)){var o=r.getConnectedLinks(this,{inbound:!0});o.forEach(function(l){n[l.get("target").port]&&l.remove()});var s=r.getConnectedLinks(this,{outbound:!0});s.forEach(function(l){n[l.get("source").port]&&l.remove()})}},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&t.length>0},hasPort:function(t){return this.getPortIndex(t)!==-1},getPorts:function(){return Si(this.prop("ports/items"))||[]},getGroupPorts:function(t){let e=jt(this.prop(["ports","items"])).filter(i=>i.group===t);return Si(e)},getPort:function(t){return Si(jt(this.prop("ports/items")).find(function(e){return e.id&&e.id===t}))},getPortsPositions:function(t){var e=this._portSettingsData.getGroupPortsMetrics(t,gt(this.size()));return e.reduce(function(i,n){var r=n.portTransformation;return i[n.portId]={x:r.x,y:r.y,angle:r.angle},i},{})},getPortIndex:function(t){var e=Jt(t)?t.id:t;return this._isValidPortId(e)?jt(this.prop("ports/items")).findIndex(function(i){return i.id===e}):-1},addPort:function(t,e){if(!Jt(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var i=wt([],this.prop("ports/items"));return i.push(t),this.prop("ports/items",i,e),this},insertPort:function(t,e,i){let n=typeof t=="number"?t:this.getPortIndex(t);if(!Jt(e)||Array.isArray(e))throw new Error("dia.Element: insertPort requires an object.");let r=wt([],this.prop("ports/items"));return r.splice(n,0,e),this.prop("ports/items",r,i),this},portProp:function(t,e,i,n){var r=this.getPortIndex(t);if(r===-1)throw new Error("Element: unable to find port with id "+t);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?o[0]=["ports","items",r].concat(e):Xe(e)?o[0]=["ports/items/",r,"/",e].join(""):(o=["ports/items/"+r],Ae(e)&&(o.push(e),o.push(i))),this.prop.apply(this,o)},_validatePorts:function(){var t=this.get("ports")||{},e=[];t=t||{};var i=jt(t.items);return i.forEach(function(n){typeof n!="object"&&e.push("Element: invalid port ",n),this._isValidPortId(n.id)||(n.id=this.generatePortId())},this),hn(i,"id").length!==i.length&&e.push("Element: found id duplicities in ports."),e},generatePortId:function(){return this.generateId()},_isValidPortId:function(t){return t!=null&&!Jt(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",wt([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){let i=e||{},n=this.getPortIndex(t);if(n!==-1){let r=wt([],this.prop(["ports","items"]));r.splice(n,1),i.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],r,i),this.stopBatch("port-remove")}return this},removePorts:function(t,e){let i,n;if(Array.isArray(t)){if(i=e||{},t.length===0)return this.this;n=wt([],this.prop(["ports","items"])).filter(function(o){return!t.some(function(s){let l=Jt(s)?s.id:s;return o.id===l})})}else i=t||{},n=[];return this.startBatch("port-remove"),i.rewrite=!0,this.prop(["ports","items"],n,i),this.stopBatch("port-remove"),this},_createPortData:function(){var t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));var e;this._portSettingsData&&(e=this._portSettingsData.getPorts()),this._portSettingsData=new GI(this.get("ports"));var i=this._portSettingsData.getPorts();if(e){var n=i.filter(function(o){if(!e.find(function(s){return s.id===o.id}))return o}),r=e.filter(function(o){if(!i.find(function(s){return s.id===o.id}))return o});r.length>0&&this.trigger("ports:remove",this,r),n.length>0&&this.trigger("ports:add",this,n)}}},FI={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var t=[],e=this._getContainerElement(),i=0,n=e.node.childNodes.length;i<n;i++)t.push(e.node.childNodes[i]);var r=Pg(this.model._portSettingsData.getPorts(),"z"),o="auto";jt(r[o]).forEach(function(h){var f=this._getPortElement(h);e.append(f),t.push(f)},this);for(var s=Object.keys(r),l=0;l<s.length;l++){var c=s[l];if(c!==o){var d=parseInt(c,10);this._appendPorts(r[c],d,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,i){var n=this._getContainerElement(),r=jt(t).map(this._getPortElement,this);i[e]||e<0?it(i[Math.max(e,0)]).before(r):n.append(r)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNode:function(t,e){let i=this._portElementsCache[t];if(!i)return null;if(!e)return i.portContentElement.node;let n=i.portElement.node,r=i.portSelectors,[o=null]=this.findBySelector(e,n,r);return o},_updatePorts:function(){this._updatePortGroup(void 0);var t=Object.keys(this.model._portSettingsData.groups);t.forEach(this._updatePortGroup,this)},_removePorts:function(){zi(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){let e,i,n,r;var o=it(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(t);if(Array.isArray(s)){var l=this.parseDOMJSON(s,o.node),c=l.fragment;c.childNodes.length>1?e=it("g").append(c):e=it(c.firstChild),r=l.selectors}else e=it(s),Array.isArray(e)&&(e=it("g").append(e));if(!e)throw new Error("ElementView: Invalid port markup.");e.attr({port:t.id,"port-group":t.group});let d=this._getPortLabelMarkup(t.label);if(Array.isArray(d)){let{fragment:N,selectors:T}=this.parseDOMJSON(d,o.node),E=N.childNodes.length;E>0&&(n=T,i=E===1?it(N.firstChild):it("g").append(N))}else i=it(d),Array.isArray(i)&&(i=it("g").append(i));var h;if(r&&n){for(var f in n)if(r[f]&&f!==this.selector)throw new Error("ElementView: selectors within port must be unique.");h=wt({},r,n)}else h=r||n||{};let y="portRoot",w="labelRoot",x="labelText";if(y in h||(h[y]=e.node),i){let N=i.node;if(w in h||(h[w]=N),!(x in h)){let T=i.tagName()==="TEXT"?N:Array.from(N.querySelectorAll("text"));h[x]=T,n||(n={}),n[x]=T}}return o.append(e.addClass("joint-port-body")),i&&o.append(i.addClass("joint-port-label")),this._portElementsCache[t.id]={portElement:o,portLabelElement:i,portSelectors:h,portLabelSelectors:n,portContentElement:e,portContentSelectors:r},o},_updatePortGroup:function(t){for(var e=gt(this.model.size()),i=this.model._portSettingsData.getGroupPortsMetrics(t,e),n=0,r=i.length;n<r;n++){var o=i[n],s=o.portId,l=this._portElementsCache[s]||{},c=o.portTransformation,d=o.labelTransformation;d&&l.portLabelElement&&(this.updateDOMSubtreeAttributes(l.portLabelElement.node,d.attrs,{rootBBox:new gt(o.labelSize),selectors:l.portLabelSelectors}),this.applyPortTransform(l.portLabelElement,d,-c.angle||0)),this.updateDOMSubtreeAttributes(l.portElement.node,o.portAttrs,{rootBBox:new gt(o.portSize),selectors:l.portSelectors}),this.applyPortTransform(l.portElement,c)}},applyPortTransform:function(t,e,i){var n=it.createSVGMatrix().rotate(i||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(n,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}};var xe=Mi.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Mi.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(t,e,i){let n=ni(e);i=(n?i:t)||{};let{parentRelative:r,deep:o,restrictedArea:s}=i,l;if(r){if(!this.graph)throw new Error("Element must be part of a graph.");let c=this.getParentCell();c&&!c.isLink()&&(l=c.get("position"))}if(n){if(l&&(t+=l.x,e+=l.y),o||s){let{x:c,y:d}=this.get("position");this.translate(t-c,e-d,i)}else this.set("position",{x:t,y:e},i);return this}else{let c=L(this.get("position"));return r?c.difference(l):c}},translate:function(t,e,i){if(t=t||0,e=e||0,t===0&&e===0)return this;i=i||{},i.translateBy=i.translateBy||this.id;var n=this.get("position")||{x:0,y:0},r=i.restrictedArea;if(r&&i.translateBy===this.id)if(typeof r=="function"){var o=r.call(this,n.x+t,n.y+e,i);t=o.x-n.x,e=o.y-n.y}else{var s=this.getBBox({deep:!0}),l=n.x-s.x,c=n.y-s.y,d=Math.max(r.x+l,Math.min(r.x+r.width+l-s.width,n.x+t)),h=Math.max(r.y+c,Math.min(r.y+r.height+c-s.height,n.y+e));t=d-n.x,e=h-n.y}var f={x:n.x+t,y:n.y+e};return i.tx=t,i.ty=e,i.transition?(Jt(i.transition)||(i.transition={}),this.transition("position",f,wt({},i.transition,{valueFunction:Ru.object})),zi(this.getEmbeddedCells(),"translate",t,e,i)):(this.startBatch("translate",i),this.set("position",f,i),zi(this.getEmbeddedCells(),"translate",t,e,i),this.stopBatch("translate",i)),this},size:function(t,e,i){var n=this.get("size");return t===void 0?{width:n.width,height:n.height}:(Jt(t)&&(i=e,e=ni(t.height)?t.height:n.height,t=ni(t.width)?t.width:n.width),this.resize(t,e,i))},resize:function(t,e,i){if(i=i||{},this.startBatch("resize",i),i.direction){var n=this.get("size");switch(i.direction){case"left":case"right":e=n.height;break;case"top":case"bottom":t=n.width;break}var r=ri(this.get("angle")||0),o=this.getBBox(),s;if(r){var l={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[i.direction];i.absolute&&(l+=Math.floor((r+45)/90),l%=4);var c=o[["bottomLeft","corner","topRight","origin"][l]](),d=L(c).rotate(o.center(),-r),h=Math.sqrt(t*t+e*e)/2,f=l*Math.PI/2;f+=Math.atan(l%2==0?e/t:t/e),f-=Ke(r);var y=L.fromPolar(h,f,d);s=L(y).offset(t/-2,e/-2)}else switch(s=o.topLeft(),i.direction){case"top":case"top-right":s.offset(0,o.height-e);break;case"left":case"bottom-left":s.offset(o.width-t,0);break;case"top-left":s.offset(o.width-t,o.height-e);break}this.set("size",{width:t,height:e},i),this.position(s.x,s.y,i)}else this.set("size",{width:t,height:e},i);return this.stopBatch("resize",i),this},scale:function(t,e,i,n){var r=this.getBBox().scale(t,e,i);return this.startBatch("scale",n),this.position(r.x,r.y,n),this.resize(r.width,r.height,n),this.stopBatch("scale"),this},fitEmbeds:function(t){return this.fitToChildren(t)},fitToChildren:function(t={}){let{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");let i=this.getEmbeddedCells().filter(n=>n.isElement());return i.length===0?this:(this.startBatch("fit-embeds",t),t.deep&&zi(i,"fitToChildren",t),this._fitToElements(Object.assign({elements:i},t)),this.stopBatch("fit-embeds"),this)},fitParent:function(t={}){let{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");if(t.deep&&t.terminator&&(t.terminator===this||t.terminator===this.id))return this;let i=this.getParentCell();if(!i||!i.isElement())return this;let n=i.getEmbeddedCells().filter(r=>r.isElement());return n.length===0?this:(this.startBatch("fit-parent",t),i._fitToElements(Object.assign({elements:n},t)),t.deep&&i.fitParent(t),this.stopBatch("fit-parent"),this)},_fitToElements:function(t={}){let e=this.graph.getCellsBBox(t.elements);if(!e)return;let{expandOnly:i,shrinkOnly:n}=t;if(i&&n)return;let{x:r,y:o,width:s,height:l}=e,{left:c,right:d,top:h,bottom:f}=mn(t.padding);r-=c,o-=h,s+=c+d,l+=f+h;let y=new gt(r,o,s,l);if(i)y=this.getBBox().union(y);else if(n){let w=this.getBBox().intersect(y);if(!w)return;y=w}this.set({position:{x:y.x,y:y.y},size:{width:y.width,height:y.height}},t)},rotate:function(t,e,i,n){if(i){var r=this.getBBox().center(),o=this.get("size"),s=this.get("position");r.rotate(i,this.get("angle")-t);var l=r.x-o.width/2-s.x,c=r.y-o.height/2-s.y;this.startBatch("rotate",{angle:t,absolute:e,origin:i}),this.position(s.x+l,s.y+c,n),this.rotate(t,e,null,n),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,n);return this},angle:function(){return ri(this.get("angle")||0)},getBBox:function(t={}){let{graph:e,attributes:i}=this,{deep:n,rotate:r}=t;if(n&&e){let f=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return f.push(this),e.getCellsBBox(f,t)}let{angle:o=0,position:{x:s,y:l},size:{width:c,height:d}}=i,h=new gt(s,l,c,d);return r&&h.rotateAroundCenter(o),h},getPointFromConnectedLink:function(t,e){var i=this.getBBox(),n=i.center(),r=t.get(e);if(!r)return n;var o=r.port;if(!o||!this.hasPort(o))return n;var s=this.portProp(o,["group"]),l=this.getPortsPositions(s),c=new L(l[o]).offset(i.origin()),d=this.angle();return d&&c.rotate(n,-d),c}});wt(xe.prototype,ZI);var Nx=Br.default.Collection.extend({initialize:function(t,e){e.cellNamespace?this.cellNamespace=e.cellNamespace:this.cellNamespace=typeof joint<"u"&&nn(joint,"shapes")?joint.shapes:null,this.graph=e.graph},model:function(t,e){var i=e.collection,n=i.cellNamespace,r=t.type==="link"?we:gr(n,t.type,".")||xe,o=new r(t,e);return e.dry||(o.graph=i.graph),o},comparator:function(t){return t.get("z")||0}}),Zu=Br.default.Model.extend({initialize:function(t,e){e=e||{};var i=new Nx([],{model:e.cellModel,cellNamespace:e.cellNamespace,graph:this});Br.default.Model.prototype.set.call(this,"cells",i),i.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},i.on("add",this._restructureOnAdd,this),i.on("remove",this._restructureOnRemove,this),i.on("reset",this._restructureOnReset,this),i.on("change:source",this._restructureOnChangeSource,this),i.on("change:target",this._restructureOnChangeTarget,this),i.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var{source:e,target:i}=t.attributes;e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),i.id&&((this._in[i.id]||(this._in[i.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var{source:e,target:i}=t.attributes;e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],i.id&&this._in[i.id]&&this._in[i.id][t.id]&&delete this._in[i.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var i=t.attributes.source;i.id&&((this._out[i.id]||(this._out[i.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var i=t.get("target");i.id&&((this._in[i.id]||(this._in[i.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=Br.default.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,i){var n;return typeof t=="object"?(n=t,i=e):(n={})[t]=e,n.hasOwnProperty("cells")&&(this.resetCells(n.cells,i),n=pn(n,"cells")),Br.default.Model.prototype.set.call(this,n,i)},clear:function(t){t=wt({},t,{clear:!0});var e=this.get("cells");if(e.length===0)return this;this.startBatch("clear",t);var i=e.sortBy(function(n){return n.isLink()?1:2});do i.shift().remove(t);while(i.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t,e){var i;if(t instanceof Br.default.Model?(i=t.attributes,!t.graph&&(!e||!e.dry)&&(t.graph=this)):i=t,!Xe(i.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof Br.default.Model?t.has("z")||t.set("z",this.maxZIndex()+1):t.z===void 0&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return t.length===0?this:(t=kg(t),e.maxPosition=e.position=t.length-1,this.startBatch("add",e),t.forEach(function(i){this.addCell(i,e),e.position--},this),this.stopBatch("add",e),this)},resetCells:function(t,e){var i=jt(t).map(function(n){return this._prepareCell(n,e)},this);return this.get("cells").reset(i,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),zi(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,i){i=i||{},i.clear||(i.disconnectLinks?this.disconnectLinks(t,i):this.removeLinks(t,i)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(t=>t.isElement())},getLinks:function(){return this.get("cells").filter(t=>t.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){e=e||{};var i=e.indirect,n=e.inbound,r=e.outbound;n===void 0&&r===void 0&&(n=r=!0);var o=[],s={};r&&l(this,t),n&&c(this,t);function l(f,y){if(Gi(f.getOutboundEdges(y.id),function(x,N){if(!s[N]){var T=f.getCell(N);o.push(T),s[N]=!0,i&&(n&&c(f,T),r&&l(f,T))}}.bind(f)),i&&y.isLink()){var w=y.getTargetCell();w&&w.isLink()&&(s[w.id]||(o.push(w),l(f,w)))}}function c(f,y){if(Gi(f.getInboundEdges(y.id),function(x,N){if(!s[N]){var T=f.getCell(N);o.push(T),s[N]=!0,i&&(n&&c(f,T),r&&l(f,T))}}.bind(f)),i&&y.isLink()){var w=y.getSourceCell();w&&w.isLink()&&(s[w.id]||(o.push(w),c(f,w)))}}if(e.deep){var d=t.getEmbeddedCells({deep:!0}),h={};d.forEach(function(f){f.isElement()&&(h[f.id]=!0)}),d.forEach(function(f){f.isLink()||(r&&Gi(this.getOutboundEdges(f.id),function(y,w){if(!s[w]){var x=this.getCell(w),{source:N,target:T}=x.attributes,E=N.id,Y=T.id;if(!e.includeEnclosed&&E&&h[E]&&Y&&h[Y])return;o.push(this.getCell(w)),s[w]=!0}}.bind(this)),n&&Gi(this.getInboundEdges(f.id),function(y,w){if(!s[w]){var x=this.getCell(w),{source:N,target:T}=x.attributes,E=N.id,Y=T.id;if(!e.includeEnclosed&&E&&h[E]&&Y&&h[Y])return;o.push(this.getCell(w)),s[w]=!0}}.bind(this)))},this)}return o},getNeighbors:function(t,e){e||(e={});var i=e.inbound,n=e.outbound;i===void 0&&n===void 0&&(i=n=!0);var r=this.getConnectedLinks(t,e).reduce(function(l,c){var{source:d,target:h}=c.attributes,f=c.hasLoop(e);if(i&&nn(d,"id")&&!l[d.id]){var y=this.getCell(d.id);y.isElement()&&(f||y&&y!==t&&(!e.deep||!y.isEmbeddedIn(t)))&&(l[d.id]=y)}if(n&&nn(h,"id")&&!l[h.id]){var w=this.getCell(h.id);w.isElement()&&(f||w&&w!==t&&(!e.deep||!w.isEmbeddedIn(t)))&&(l[h.id]=w)}return l}.bind(this),{});if(t.isLink()){if(i){var o=t.getSourceCell();o&&o.isElement()&&!r[o.id]&&(r[o.id]=o)}if(n){var s=t.getTargetCell();s&&s.isElement()&&!r[s.id]&&(r[s.id]=s)}}return jt(r)},getCommonAncestor:function(){var t=Array.from(arguments).map(function(i){for(var n=[],r=i.get("parent");r;)n.push(r),r=this.getCell(r).get("parent");return n},this);t=t.sort(function(i,n){return i.length-n.length});var e=jt(t.shift()).find(function(i){return t.every(function(n){return n.includes(i)})});return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var i=[];return this.search(t,function(n){n!==t&&i.push(n)},wt({},e,{outbound:!0})),i},cloneCells:ju,cloneSubgraph:function(t,e){var i=this.getSubgraph(t,e);return this.cloneCells(i)},getSubgraph:function(t,e){e=e||{};var i=[],n={},r=[],o=[];return jt(t).forEach(function(s){if(n[s.id]||(i.push(s),n[s.id]=s,s.isLink()?o.push(s):r.push(s)),e.deep){var l=s.getEmbeddedCells({deep:!0});l.forEach(function(c){n[c.id]||(i.push(c),n[c.id]=c,c.isLink()?o.push(c):r.push(c))})}}),o.forEach(function(s){var{source:l,target:c}=s.attributes;if(l.id&&!n[l.id]){var d=this.getCell(l.id);i.push(d),n[d.id]=d,r.push(d)}if(c.id&&!n[c.id]){var h=this.getCell(c.id);i.push(this.getCell(c.id)),n[h.id]=h,r.push(h)}},this),r.forEach(function(s){var l=this.getConnectedLinks(s,e);l.forEach(function(c){var{source:d,target:h}=c.attributes;!n[c.id]&&d.id&&n[d.id]&&h.id&&n[h.id]&&(i.push(c),n[c.id]=c)})},this),i},getPredecessors:function(t,e){e=e||{};var i=[];return this.search(t,function(n){n!==t&&i.push(n)},wt({},e,{inbound:!0})),i},search:function(t,e,i){i=i||{},i.breadthFirst?this.bfs(t,e,i):this.dfs(t,e,i)},bfs:function(t,e,i={}){let n={},r={},o=[];for(o.push(t),r[t.id]=0;o.length>0;){var s=o.shift();if(n[s.id]||(n[s.id]=!0,e.call(this,s,r[s.id])===!1))continue;let l=this.getNeighbors(s,i);for(let c=0,d=l.length;c<d;c++){let h=l[c];r[h.id]=r[s.id]+1,o.push(h)}}},dfs:function(t,e,i={}){let n={},r={},o=[];for(o.push(t),r[t.id]=0;o.length>0;){let s=o.pop();if(n[s.id]||(n[s.id]=!0,e.call(this,s,r[s.id])===!1))continue;let l=this.getNeighbors(s,i),c=o.length;for(let d=0,h=l.length;d<h;d++){let f=l[d];r[f.id]=r[s.id]+1,o.splice(c,0,f)}}},getSources:function(){var t=[];return Gi(this._nodes,function(e,i){(!this._in[i]||Bi(this._in[i]))&&t.push(this.getCell(i))}.bind(this)),t},getSinks:function(){var t=[];return Gi(this._nodes,function(e,i){(!this._out[i]||Bi(this._out[i]))&&t.push(this.getCell(i))}.bind(this)),t},isSource:function(t){return!this._in[t.id]||Bi(this._in[t.id])},isSink:function(t){return!this._out[t.id]||Bi(this._out[t.id])},isSuccessor:function(t,e){var i=!1;return this.search(t,function(n){if(n===e&&n!==t)return i=!0,!1},{outbound:!0}),i},isPredecessor:function(t,e){var i=!1;return this.search(t,function(n){if(n===e&&n!==t)return i=!0,!1},{inbound:!0}),i},isNeighbor:function(t,e,i){i=i||{};var n=i.inbound,r=i.outbound;n===void 0&&r===void 0&&(n=r=!0);var o=!1;return this.getConnectedLinks(t,i).forEach(function(s){var{source:l,target:c}=s.attributes;if(n&&nn(l,"id")&&l.id===e.id||r&&nn(c,"id")&&c.id===e.id)return o=!0,!1}),o},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach(function(i){i.set(i.attributes.source.id===t.id?"source":"target",{x:0,y:0},e)})},removeLinks:function(t,e){zi(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return this.getElements().filter(e=>e.getBBox({rotate:!0}).containsPoint(t))},findModelsInArea:function(t,e={}){let i=new gt(t),{strict:n=!1}=e,r=n?"containsRect":"intersect";return this.getElements().filter(o=>i[r](o.getBBox({rotate:!0})))},findModelsUnderElement:function(t,e={}){let{searchBy:i="bbox"}=e,n=t.getBBox().rotateAroundCenter(t.angle());return(i==="bbox"?this.findModelsInArea(n):this.findModelsFromPoint(fl(n,i))).filter(o=>t.id!==o.id&&!o.isEmbeddedIn(t))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(t,e={}){let{rotate:i=!0}=e;return jt(t).reduce(function(n,r){let o=r.getBBox({rotate:i});return o?n?n.union(o):o:n},null)},translate:function(t,e,i){var n=this.getCells().filter(function(r){return!r.isEmbedded()});return zi(n,"translate",t,e,i),this},resize:function(t,e,i){return this.resizeCells(t,e,this.getCells(),i)},resizeCells:function(t,e,i,n){var r=this.getCellsBBox(i);if(r){var o=Math.max(t/r.width,0),s=Math.max(e/r.height,0);zi(i,"scale",o,s,r.origin(),n)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",wt({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",wt({},e,{batchName:t}))},hasActiveBatch:function(t){let e=this._batches,i;return arguments.length===0?i=Object.keys(e):Array.isArray(t)?i=t:i=[t],i.some(n=>e[n]>0)}},{validations:{multiLinks:function(t,e){var{source:i,target:n}=e.attributes;if(i.id&&n.id){var r=e.getSourceCell();if(r){var o=t.getConnectedLinks(r,{outbound:!0}),s=o.filter(function(l){var{source:c,target:d}=l.attributes;return c&&c.id===i.id&&(!c.port||c.port===i.port)&&d&&d.id===n.id&&(!d.port||d.port===n.port)});if(s.length>1)return!1}}return!0},linkPinning:function(t,e){var{source:i,target:n}=e.attributes;return i.id&&n.id}}});EI(Zu.prototype,["resetCells","addCells","removeCells"],Gu.cells);var wo=Yn(Ya(),1),xo=Yn(Er(),1);var Gr={},rn=wo.default.View.extend({options:{},theme:null,themeClassNamePrefix:vi("theme-"),requireSetThemeOverride:!1,defaultTheme:pi.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=wt({},this.options,t),wo.default.View.call(this,t)},initialize:function(){Gr[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(t){if(t||(t=Ne(this,"children")),t){var e=this.svgElement,i=it.namespace[e?"svg":"xhtml"],n=Ao(t,i);(e?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors}return this},findAttribute:function(t,e){for(var i=e;i&&i.nodeType===1;){var n=i.getAttribute(t);if(n)return n;if(i===this.el)return null;i=i.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Ne(this,"el"));else{var t=Ne(this,"tagName"),e=wt({},Ne(this,"attributes")),i=wt({},Ne(this,"style"));this.id&&(e.id=Ne(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e),this._setStyle(i)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_setStyle:function(t){this.$el.css(t)},_createElement:function(t){return this.svgElement?document.createElementNS(it.namespace.svg,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof wo.default.$?t:wo.default.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=it(this.el))},_ensureElClassName:function(){var t=Ne(this,"className");if(t){var e=vi(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override?this:(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t,this)},addThemeClassName:function(t){if(t=t||this.theme,!t)return this;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.addClass(e):this.$el.addClass(e),this},removeThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.removeClass(e):this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Gr[this.cid]=null,wo.default.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,i){if(!e)return this;i||(i={});var n=this.getEventNamespace();for(var r in e){var o=e[r];typeof o!="function"&&(o=this[o]),o&&(0,xo.default)(t).on(r+n,i,o.bind(this))}return this},undelegateElementEvents:function(t){return(0,xo.default)(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t||(t=Ne(this,"documentEvents")),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var i=t.data,n="__"+this.cid+"__";return e===void 0?i?i[n]||{}:{}:(i||(i=t.data={}),i[n]||(i[n]={}),wt(i[n],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),e=t[0]&&wt({},t[0])||{},i=t[1]&&wt({},t[1])||{},n=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return typeof n=="function"&&n.apply(this,arguments),this.render.__render__===n&&this.onRender(),this},e.render.__render__=n,wo.default.View.extend.call(this,e,i)}}),WI="dbltap";if(xo.default.event&&!(WI in xo.default.event.special)){let t=pi.doubleTapInterval,e=30;xo.default.event.special[WI]={bindType:"touchend",delegateType:"touchend",handle:function(i,...n){let{handleObj:r,target:o}=i,s=xo.default.data(o),l=new Date().getTime(),c="lastTouch"in s?l-s.lastTouch:0;c<t&&c>e?(s.lastTouch=null,i.type=r.origType,r.handler.call(this,i,...n)):s.lastTouch=l}}}var Zi={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},Fg=rn.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return vi(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(t,e){this.el.insertBefore(t,this.insertPivot(e))},insertNode:function(t){let{el:e}=this;t.parentNode!==e&&e.appendChild(t)},insertPivot:function(t){let{el:e,pivotNodes:i}=this;t=+t,t||(t=0);let n=i[t];if(n)return n;n=i[t]=document.createComment("z-index:"+(t+1));let r=-1/0;for(let o in i)o=+o,o<t&&o>r&&(r=o,t-1);if(r!==-1/0){let o=i[r];e.insertBefore(n,o.nextSibling)}else e.insertBefore(n,e.firstChild);return n},removePivots:function(){let{el:t,pivotNodes:e}=this;for(let i in e)t.removeChild(e[i]);this.pivotNodes={}}});var Vg=Yn(Er(),1);function hl(t){return t?Array.isArray(t)?t:[t]:[]}var li=rn.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(t,e){let{paper:i}=t;this.cellView=t,this.nodeSelector=e,i&&(this.updateRequested=!0,i.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;let{cellView:t,nodeSelector:e}=this;return t.isMounted()?(this.update(t,e),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(t,e=null){let i;if(typeof e=="string")[i]=t.findBySelector(e);else if(Ae(e)){let n=t.model.isLink(),{label:r=null,port:o,selector:s}=e;n&&r!==null?i=t.findLabelNode(r,s):!n&&o?i=t.findPortNode(o,s):[i]=t.findBySelector(s)}else e&&(i=it.toNode(e),i instanceof SVGElement||(i=null));return i||null},getNodeMatrix(t,e){let{options:i}=this,{layer:n}=i,{rotatableNode:r}=t,o=t.getNodeMatrix(e);return r?n?r.contains(e)?o:t.getRootRotateMatrix().inverse().multiply(o):t.getNodeRotateMatrix(e).multiply(o):o},mount(){let{MOUNTABLE:t,cellView:e,el:i,options:n,transformGroup:r,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:l}=this;if(!t||r)return;if(s){this.update(e,l),this.transform();return}let{vel:c,paper:d}=e,{layer:h}=n;if(h){let f;o?(f=o,this.detachedTransformGroup=null):f=it("g").addClass("highlight-transform").append(i),this.transformGroup=f,d.getLayerView(h).insertSortedNode(f.node,n.z)}else(!i.parentNode||i.nextSibling)&&c.append(i)},unmount(){let{MOUNTABLE:t,transformGroup:e,vel:i}=this;t&&(e?(this.transformGroup=null,this.detachedTransformGroup=e,e.remove()):i.remove())},transform(){let{transformGroup:t,cellView:e,updateRequested:i}=this;if(!t||e.model.isLink()||i)return;let n=e.getRootTranslateMatrix(),r=e.getRootRotateMatrix(),o=n.multiply(r);t.attr("transform",it.matrixToTransformString(o))},update(){let{node:t,cellView:e,nodeSelector:i,updateRequested:n,id:r}=this;if(n)return;this.postponedUpdate=!1;let o=this.node=this.findNode(e,i);t&&this.unhighlight(e,t),o?(this.highlight(e,o),this.mount()):(this.unmount(),e.notify("cell:highlight:invalid",r,this))},onRemove(){let{node:t,cellView:e,id:i,constructor:n}=this;t&&this.unhighlight(e,t),this.unmount(),n._removeRef(e,i)},highlight(t,e){},unhighlight(t,e){},listenToUpdateAttributes(t){let e=Ne(this,"UPDATE_ATTRIBUTES");!Array.isArray(e)||e.length===0||this.listenTo(t.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){let{cellView:t}=this;if(!t)return;let{model:e,paper:i}=t;Ne(this,"UPDATE_ATTRIBUTES").some(r=>e.hasChanged(r))&&i.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(t,e,i){let n=this.uniqueId(e,i);this.add(t,e,n,i)},unhighlight:function(t,e,i){let n=this.uniqueId(e,i);this.remove(t,n)},get(t,e=null){let{cid:i}=t,{_views:n}=this,r=n[i];if(e===null){let o=[];if(!r)return o;for(let s in r){let l=r[s];l instanceof this&&o.push(l)}return o}else{if(!r)return null;if(e in r){let o=r[e];if(o instanceof this)return o}return null}},add(t,e,i,n={}){if(!i)throw new Error("dia.HighlighterView: An ID required.");let r=li.get(t,i);r&&r.remove();let o=new this(n);return o.id=i,this._addRef(t,i,o),o.requestUpdate(t,e),o.listenToUpdateAttributes(t),o},_addRef(t,e,i){let{cid:n}=t,{_views:r}=this,o=r[n];o||(o=r[n]={}),o[e]=i},_removeRef(t,e){let{cid:i}=t,{_views:n}=this,r=n[i];if(r){e&&delete r[e];for(let o in r)return;delete n[i]}},remove(t,e=null){hl(this.get(t,e)).forEach(i=>{i.remove()})},removeAll(t,e=null){let{_views:i}=this;for(let n in i)for(let r in i[n]){let o=i[n][r];o.cellView.paper===t&&o instanceof this&&(e===null||r===e)&&o.remove()}},update(t,e=null,i=!1){hl(this.get(t,e)).forEach(n=>{(i||n.UPDATABLE)&&n.update()})},transform(t,e=null){hl(this.get(t,e)).forEach(i=>{i.UPDATABLE&&i.transform()})},unmount(t,e=null){hl(this.get(t,e)).forEach(i=>i.unmount())},mount(t,e=null){hl(this.get(t,e)).forEach(i=>i.mount())},uniqueId(t,e=""){return it.ensureId(t)+JSON.stringify(e)}});var ks={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},Tx={TOOLS:"TOOLS"},Xt=rn.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach(function(i,n,r){t.push("type-"+r.slice(0,n+1).join("-"))}),t.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var t={},e={},i=0,n,r,o,s=Ne(this,"presentationAttributes");for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];for(Array.isArray(c)||(c=[c]),n=0,r=c.length;n<r;n++){o=c[n];var d=t[o];d||(d=t[o]=1<<i++),e[l]|=d}}var h=Ne(this,"initFlag");for(Array.isArray(h)||(h=[h]),n=0,r=h.length;n<r;n++)o=h[n],t[o]||(t[o]=1<<i++);if(i>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=t,this._presentationAttributes=e},hasFlag:function(t,e){return t&this.getFlag(e)},removeFlag:function(t,e){return t^t&this.getFlag(e)},getFlag:function(t){var e=this._flags;if(!e)return 0;var i=0;if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)i|=e[t[n]];else i|=e[t];return i},attributes:function(){var t=this.model;return{"model-id":t.id,"data-type":t.attributes.type}},constructor:function(t){t.id=t.id||Rr(this),rn.call(this,t)},initialize:function(){this.setFlags(),rn.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(t,e){var i=t.getChangeFlag(this._presentationAttributes);e.updateHandled||!i||(e.dirty&&this.hasFlag(i,"UPDATE")&&(i|=this.getFlag("RENDER")),e.tool&&(e.async=!1),this.requestUpdate(i,e))},requestUpdate:function(t,e){let{paper:i}=this;i&&t>0&&i.requestViewUpdate(this,t,this.UPDATE_PRIORITY,e)},parseDOMJSON:function(t,e){var i=Ao(t),n=i.selectors,r=i.groupSelectors;for(var o in r){if(n[o])throw new Error("dia.CellView: ambiguous group selector");n[o]=r[o]}if(e){var s=this.selector;if(n[s])throw new Error("dia.CellView: ambiguous root selector.");n[s]=e}return{fragment:i.fragment,selectors:n}},can:function(t){var e=ue(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Jt(e)&&e[t]!==!1||Tg(e)&&e!==!1},findBySelector:function(t,e,i){if(e||(e=this.el),i||(i=this.selectors),!t||t===".")return[e];if(i){var n=i[t];if(n)return Array.isArray(n)?n:[n]}return pi.useCSSSelectors?(0,Vg.default)(e).find(t).toArray():[]},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getBBox:function(t){var e;if(t&&t.useModelGeometry){var i=this.model;e=i.getBBox().bbox(i.angle())}else e=this.getNodeBBox(this.el);return this.paper.localToPaperRect(e)},getNodeBBox:function(t){let e=this.getNodeBoundingRect(t),i=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(t)),n=this.getNodeMatrix(t);return it.transformRect(e,i.multiply(n))},getNodeRotateMatrix(t){return!this.rotatableNode||this.rotatableNode.contains(t)?this.getRootRotateMatrix():it.createSVGMatrix()},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),i=this.getNodeMatrix(t),n=this.getRootTranslateMatrix();return it.transformRect(e,n.multiply(i))},getRootTranslateMatrix:function(){var t=this.model,e=t.position(),i=it.createSVGMatrix().translate(e.x,e.y);return i},getRootRotateMatrix:function(){var t=it.createSVGMatrix(),e=this.model,i=e.angle();if(i){var n=e.getBBox(),r=n.width/2,o=n.height/2;t=t.translate(r,o).rotate(i).translate(-r,-o)}return t},_notifyHighlight:function(t,e,i={}){let{el:n}=this,r;if(typeof e=="string"?[r=n]=this.findBySelector(e):[r=n]=this.$(e),i.partial=r!==n,i.type===void 0){let o;switch(!0){case i.embedding:o=ks.EMBEDDING;break;case i.connecting:o=ks.CONNECTING;break;case i.magnetAvailability:o=ks.MAGNET_AVAILABILITY;break;case i.elementAvailability:o=ks.ELEMENT_AVAILABILITY;break;default:o=ks.DEFAULT;break}i.type=o}return this.notify(t,r,i),this},highlight:function(t,e){return this._notifyHighlight("cell:highlight",t,e)},unhighlight:function(t,e={}){return this._notifyHighlight("cell:unhighlight",t,e)},findMagnet:function(t){let e=this.el,i=this.$(t)[0];i||(i=e);do{let n=i.getAttribute("magnet"),r=i===e;if((n||r)&&n!=="false")return i;if(r)return;i=i.parentNode}while(i)},findProxyNode:function(t,e){t||(t=this.el);let i=t.getAttribute(`${e}-selector`);if(i){let[n]=this.findBySelector(i);if(n)return n}return t},getSelector:function(t,e){var i;if(t===this.el)return typeof e=="string"&&(i="> "+e),i;if(t){var n=it(t).index()+1;i=t.tagName+":nth-child("+n+")",e&&(i+=" > "+e),i=this.getSelector(t.parentNode,i)}return i},addLinkFromMagnet:function(t,e,i){var n=this.paper,r=n.model,o=n.getDefaultLink(this,t);return o.set({source:this.getLinkEnd(t,e,i,o,"source"),target:{x:e,y:i}}).addTo(r,{async:!1,ui:!0}),o.findView(n)},getLinkEnd:function(t,...e){var i=this.model,n=i.id,r=this.findAttribute("port",t),o=t.getAttribute("joint-selector"),s={id:n};return o!=null&&(s.magnet=o),r!=null?(s.port=r,!i.hasPort(r)&&!o&&(s.selector=this.getSelector(t))):o==null&&this.el!==t&&(s.selector=this.getSelector(t)),this.customizeLinkEnd(s,t,...e)},customizeLinkEnd:function(t,e,i,n,r,o){let{paper:s}=this,{connectionStrategy:l}=s.options;if(typeof l=="function"){var c=l.call(s,t,this,e,new L(i,n),r,o,s);if(c)return c}return t},getMagnetFromLinkEnd:function(t){var e=this.el,i=t.port,n=t.magnet,r=this.model,o;return i!=null&&r.isElement()&&r.hasPort(i)?o=this.findPortNode(i,n)||e:(n||(n=t.selector),!n&&i!=null&&(n='[port="'+i+'"]'),o=this.findBySelector(n,e,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(t,e,i,n){this.model.startBatch("add-link");let r=this.addLinkFromMagnet(e,i,n);r.notifyPointerdown(t,i,n),r.eventData(t,r.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:r})},dragLink:function(t,e,i){var n=this.eventData(t),r=n.linkView;if(r)r.pointermove(t,e,i);else{var o=this.paper,s=o.options.magnetThreshold,l=this.getEventTarget(t),c=n.targetMagnet;if(s==="onleave"){if(c===l||it(c).contains(l))return}else if(o.eventData(t).mousemoved<=s)return;this.dragLinkStart(t,c,e,i)}},dragLinkEnd:function(t,e,i){var n=this.eventData(t),r=n.linkView;r&&(r.pointerup(t,e,i),this.model.stopBatch("add-link"))},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){Bi(e)||(t instanceof SVGElement?it(t).attr(e):(0,Vg.default)(t).attr(e))},processNodeAttributes:function(t,e){var i,n,r,o,s,l,c,d,h,f=[];for(i in e)e.hasOwnProperty(i)&&(n=e[i],r=this.getAttributeDefinition(i),r&&(!ue(r.qualify)||r.qualify.call(this,n,t,e,this))?(Xe(r.set)&&(l||(l={}),l[r.set]=n),n!==null&&f.push(i,r)):(l||(l={}),l[II(i)]=n));for(o=0,s=f.length;o<s;o+=2)i=f[o],r=f[o+1],n=e[i],ue(r.set)&&(c||(c={}),c[i]=n),ue(r.position)&&(d||(d={}),d[i]=n),ue(r.offset)&&(h||(h={}),h[i]=n);return{raw:e,normal:l,set:c,position:d,offset:h}},updateRelativeAttributes:function(t,e,i,n){n||(n={});var r,o,s,l=e.raw||{},c=e.normal||{},d=e.set,h=e.position,f=e.offset;for(r in d){o=d[r],s=this.getAttributeDefinition(r);var y=s.set.call(this,o,i.clone(),t,l,this);Jt(y)?wt(c,y):y!==void 0&&(c[r]=y)}if(t instanceof HTMLElement){this.setNodeAttributes(t,c);return}var w=c.transform,x=it.transformStringToMatrix(w),N=L(x.e,x.f);w&&(c=pn(c,"transform"),x.e=x.f=0);var T,E,Y;if(h||f){var K=this.getNodeScale(t,n.scalableNode);T=K.sx,E=K.sy}var et=!1;for(r in h)o=h[r],s=this.getAttributeDefinition(r),Y=s.position.call(this,o,i.clone(),t,l,this),Y&&(N.offset(L(Y).scale(T,E)),et||(et=!0));this.setNodeAttributes(t,c);var lt=!1;if(f){var p=this.getNodeBoundingRect(t);if(p.width>0&&p.height>0){var v=it.transformRect(p,x).scale(1/T,1/E);for(r in f)o=f[r],s=this.getAttributeDefinition(r),Y=s.offset.call(this,o,v,t,l,this),Y&&(N.offset(L(Y).scale(T,E)),lt||(lt=!0))}}(w!==void 0||et||lt)&&(N.round(1),x.e=N.x,x.f=N.y,t.setAttribute("transform",it.matrixToTransformString(x)))},getNodeScale:function(t,e){var i,n;if(e&&e.contains(t)){var r=e.scale();i=1/r.sx,n=1/r.sy}else i=1,n=1;return{sx:i,sy:n}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(t){var e=this.metrics;if(!e)return{};var i=it.ensureId(t),n=e[i];return n||(n=e[i]={}),n},getNodeData:function(t){var e=this.nodeCache(t);return e.data||(e.data={}),e.data},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return e.boundingRect===void 0&&(e.boundingRect=it(t).getBBox()),new gt(e.boundingRect)},getNodeMatrix:function(t){let e=this.nodeCache(t);if(e.magnetMatrix===void 0){let{rotatableNode:i,el:n}=this,r;i&&i.contains(t)?r=i:r=n,e.magnetMatrix=it(t).getTransformToElement(r)}return it.createSVGMatrix(e.magnetMatrix)},getNodeShape:function(t){var e=this.nodeCache(t);return e.geometryShape===void 0&&(e.geometryShape=it(t).toGeometryShape()),e.geometryShape.clone()},isNodeConnection:function(t){return this.model.isLink()&&(!t||t===this.el)},findNodesAttributes:function(t,e,i,n){var r,o,s,l,c={},d=[];for(var h in t)if(t.hasOwnProperty(h)&&(s=t[h],!!Ae(s))){var f=i[h]=this.findBySelector(h,e,n);for(r=0,o=f.length;r<o;r++){var y=f[r];l=it.ensureId(y);var w=n&&n[h]===y,x=c[l];if(x){x.array||(d.push(l),x.array=!0,x.attributes=[x.attributes],x.selectedLength=[x.selectedLength]);var N=x.attributes,T=x.selectedLength;if(w)N.unshift(s),T.unshift(-1);else{var E=el(T,o);N.splice(E,0,s),T.splice(E,0,o)}}else c[l]={attributes:s,selectedLength:w?-1:o,node:y,array:!1}}}for(r=0,o=d.length;r<o;r++)l=d[r],s=c[l],s.attributes=ke({},...s.attributes.reverse());return c},getEventTarget:function(t,e={}){let{target:i,type:n,clientX:r=0,clientY:o=0}=t;return e.fromPoint||n==="touchmove"||n==="touchend"||"pointerId"in t&&i.hasPointerCapture(t.pointerId)?document.elementFromPoint(r,o):i},updateDOMSubtreeAttributes:function(t,e,i){i||(i={}),i.rootBBox||(i.rootBBox=gt()),i.selectors||(i.selectors=this.selectors);var n={},r={},o=[],s=[],l,c,d,h,f,y=i.roAttributes,w=this.findNodesAttributes(y||e,t,n,i.selectors),x=y?this.findNodesAttributes(e,t,n,i.selectors):w;for(var N in w)if(h=w[N],d=h.attributes,c=h.node,f=this.processNodeAttributes(c,d),!f.set&&!f.position&&!f.offset)this.setNodeAttributes(c,f.normal);else{var T=x[N]&&x[N].attributes,E=T&&d.ref===void 0?T.ref:d.ref,Y;if(E){if(Y=(n[E]||this.findBySelector(E,t,i.selectors))[0],!Y)throw new Error('dia.CellView: "'+E+'" reference does not exist.')}else Y=null;if(l={node:c,refNode:Y,processedAttributes:f,allAttributes:T},Y){var K=s.findIndex(function(et){return et.refNode===c});K>-1?s.splice(K,0,l):s.push(l)}else o.push(l)}o.push(...s);for(let et=0,lt=o.length;et<lt;et++){l=o[et],c=l.node,Y=l.refNode;let p=Y?it.ensureId(Y):"",v=r[p];v||(v=r[p]=Y?it(Y).getBBox({target:Dx(c,Y)}):i.rootBBox),y?(f=this.processNodeAttributes(c,l.allAttributes),this.mergeProcessedAttributes(f,l.processedAttributes)):f=l.processedAttributes,this.updateRelativeAttributes(c,f,v,i)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),wt(t.set,e.set),wt(t.position,e.position),wt(t.offset,e.offset);var i=t.normal&&t.normal.transform;i!==void 0&&e.normal&&(e.normal.transform=i),t.normal=e.normal},onMount(t){t||(this.mountTools(),li.mount(this))},onDetach(){this.unmountTools(),li.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return e?t?e.getName()===t:!0:!1},addTools:function(t){return this.removeTools(),t&&(this._toolsView=t,t.configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){let t=this._toolsView;return t&&t.unmount(),this},mountTools(){let t=this._toolsView;return t&&!t.isMounted()&&t.mount(),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){li.remove(this)},updateHighlighters:function(t=!1){li.update(this,null,t)},transformHighlighters:function(){li.transform(this)},preventDefaultInteraction(t){this.eventData(t,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(t){let{defaultInteractionPrevented:e=!1}=this.eventData(t);return e},pointerdblclick:function(t,e,i){this.notify("cell:pointerdblclick",t,e,i)},pointerclick:function(t,e,i){this.notify("cell:pointerclick",t,e,i)},contextmenu:function(t,e,i){this.notify("cell:contextmenu",t,e,i)},pointerdown:function(t,e,i){let{model:n}=this,{graph:r}=n;r&&(n.startBatch("pointer"),this.eventData(t,{graph:r})),this.notify("cell:pointerdown",t,e,i)},pointermove:function(t,e,i){this.notify("cell:pointermove",t,e,i)},pointerup:function(t,e,i){let{graph:n}=this.eventData(t);this.notify("cell:pointerup",t,e,i),n&&n.stopBatch("pointer",{cell:this.model})},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,i,n){this.notify("cell:mousewheel",t,e,i,n)},onevent:function(t,e,i,n){this.notify(e,t,i,n)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(t){let{paper:e,model:i}=this;if(e.isAsync()){if(i.isLink()){let o=i.getSourceElement();if(o){let l=e.findViewByModel(o);l&&(e.dumpView(l),e.checkViewVisibility(l))}let s=i.getTargetElement();if(s){let l=e.findViewByModel(s);l&&(e.dumpView(l),e.checkViewVisibility(l))}}e.dumpView(this),e.checkViewVisibility(this)}let n=this.getEventTarget(t,{fromPoint:!0}),r=e.findView(n);r!==this&&(this.mouseleave(t),r&&r.mouseenter(t))},setInteractivity:function(t){this.options.interactive=t}},{Flags:Tx,Highlighting:ks,addPresentationAttributes:function(t){return ke({},Ne(this.prototype,"presentationAttributes"),t,function(e,i){if(!(!e||!i)&&(typeof e=="string"&&(e=[e]),typeof i=="string"&&(i=[i]),Array.isArray(e)&&Array.isArray(i)))return hn(e.concat(i))})}});function Dx(t,e){let i=t;do{if(i.contains(e))return i;i=i.parentNode}while(i);return null}var fe={TOOLS:Xt.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},Es={MOVE:"move",MAGNET:"magnet"},Be=Xt.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=Xt.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){Xt.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[fe.UPDATE],position:[fe.TRANSLATE,fe.TOOLS],size:[fe.RESIZE,fe.PORTS,fe.TOOLS],angle:[fe.ROTATE,fe.TOOLS],markup:[fe.RENDER],ports:[fe.PORTS]},initFlag:[fe.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(t,e){let{useCSSSelectors:i}=pi;this.hasFlag(t,fe.PORTS)&&(this._removePorts(),this._cleanPortsCache());let n=!1;if(this.hasFlag(t,fe.RENDER))this.render(),this.updateTools(e),this.updateHighlighters(!0),n=!0,t=this.removeFlag(t,[fe.RENDER,fe.UPDATE,fe.RESIZE,fe.TRANSLATE,fe.ROTATE,fe.PORTS,fe.TOOLS]);else{let r=!1;this.hasFlag(t,fe.RESIZE)&&(this.resize(e),r=!0,t=this.removeFlag(t,[fe.RESIZE,fe.UPDATE]),i&&(t=this.removeFlag(t,fe.PORTS))),this.hasFlag(t,fe.UPDATE)&&(this.update(this.model,null,e),t=this.removeFlag(t,fe.UPDATE),r=!0,i&&(t=this.removeFlag(t,fe.PORTS))),this.hasFlag(t,fe.TRANSLATE)&&(this.translate(),t=this.removeFlag(t,fe.TRANSLATE),n=!0),this.hasFlag(t,fe.ROTATE)&&(this.rotate(),t=this.removeFlag(t,fe.ROTATE),n=!0),this.hasFlag(t,fe.PORTS)&&(this._renderPorts(),r=!0,t=this.removeFlag(t,fe.PORTS)),r&&this.updateHighlighters(!1)}return n&&this.transformHighlighters(),this.hasFlag(t,fe.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,fe.TOOLS)),t},_initializePorts:function(){},update:function(t,e){this.cleanNodesCache();let{useCSSSelectors:i}=pi;i&&this._removePorts();var n=this.model,r=n.attr();this.updateDOMSubtreeAttributes(this.el,r,{rootBBox:new gt(n.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===r?null:e}),i&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.ElementView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),i=this.selectors=e.selectors;this.rotatableNode=it(i[this.rotatableSelector])||null,this.scalableNode=it(i[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append(it(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable");var i=this.selectors={};i[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),pi.useCSSSelectors||this._renderPorts(),this},resize:function(t){if(this.scalableNode)return this.sgResize(t);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){var t=this.model.attributes.position;return"translate("+t.x+","+t.y+")"},getRotateString:function(){var t=this.model.attributes,e=t.angle;if(!e)return null;var i=t.size;return"rotate("+e+","+i.width/2+","+i.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t){var e=this.model,i=e.angle(),n=e.size(),r=this.scalableNode,o=!1;r.node.getElementsByTagName("path").length>0&&(o=!0);var s=r.getBBox({recursive:o}),l=n.width/(s.width||1),c=n.height/(s.height||1);r.attr("transform","scale("+l+","+c+")");var d=this.rotatableNode,h=d&&d.attr("transform");if(h){d.attr("transform",h+" rotate("+-i+","+n.width/2+","+n.height/2+")");var f=r.getBBox({target:this.paper.cells});e.set("position",{x:f.x,y:f.y},wt({updateHandled:!0},t)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(t={}){let e=t.model||this.model,n=(t.paper||this.paper).model,r=t.initialZIndices={},o=e.getEmbeddedCells({deep:!0}),s=n.getConnectedLinks(e,{deep:!0,includeEnclosed:!0});[e,...o,...s].forEach(d=>r[d.id]=d.attributes.z),e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});let l=n.getElements().reduce((d,h)=>Math.max(d,h.attributes.z||0),0);s.forEach(d=>{d.attributes.z<=l&&d.set("z",l+1,{ui:!0})}),e.stopBatch("to-front");let c=e.parent();c?(n.getCell(c).unembed(e,{ui:!0}),t.initialParentId=c):t.initialParentId=null},processEmbedding:function(t={},e,i,n){let r=t.model||this.model,o=t.paper||this.paper,s=o.model,{findParentBy:l,frontParentOnly:c,validateEmbedding:d}=o.options,h;ue(l)?h=jt(l.call(s,this,e,i,n)):l==="pointer"?h=jt(s.findModelsFromPoint({x:i,y:n})):h=s.findModelsUnderElement(r,{searchBy:l}),h=h.filter(w=>w instanceof Mi&&r.id!==w.id&&!w.isEmbeddedIn(r)),c&&(h=h.slice(-1));let f=null,y=t.candidateEmbedView;for(let w=h.length-1;w>=0;w--){let x=h[w];if(y&&y.model.id==x.id){f=y;break}else{let N=x.findView(o);if(!ue(d)||d.call(o,this,N)){f=N;break}}}f&&f!=y&&(this.clearEmbedding(t),t.candidateEmbedView=f.highlight(f.findProxyNode(null,"container"),{embedding:!0})),!f&&y&&this.clearEmbedding(t)},clearEmbedding:function(t){t||(t={});var e=t.candidateEmbedView;e&&(e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t={}){let e=t.candidateEmbedView,i=t.model||this.model,n=t.paper||this.paper;if(e)e.model.embed(i,{ui:!0}),e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null;else{let{validateUnembedding:r}=n.options,{initialParentId:o}=t;if(o&&typeof r=="function"&&!r.call(n,this)){this._disallowUnembed(t);return}}n.model.getConnectedLinks(i,{deep:!0}).forEach(r=>{r.reparent({ui:!0})})},_disallowUnembed:function(t){let{model:e,whenNotAllowed:i="revert"}=t,n=e||this.model,o=(t.paper||this.paper).model;switch(i){case"remove":{n.remove({ui:!0});break}case"revert":{let{initialParentId:s,initialPosition:l,initialZIndices:c}=t;if(l){let{x:h,y:f}=l;n.position(h,f,{deep:!0,ui:!0})}c&&Object.keys(c).forEach(h=>{let f=o.getCell(h);f&&f.set("z",c[h],{ui:!0})});let d=o.getCell(s);d&&d.embed(n,{ui:!0});break}}},getDelegatedView:function(){for(var t=this,e=t.model,i=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=i.findViewByModel(e)}return null},findProxyNode:function(t,e){t||(t=this.el);let i=t.getAttribute(`${e}-selector`);if(i){let n=this.findAttribute("port",t);if(n){let r=this.findPortNode(n,i);if(r)return r}else{let[r]=this.findBySelector(i);if(r)return r}}return t},notifyPointerdown(t,e,i){Xt.prototype.pointerdown.call(this,t,e,i),this.notify("element:pointerdown",t,e,i)},notifyPointermove(t,e,i){Xt.prototype.pointermove.call(this,t,e,i),this.notify("element:pointermove",t,e,i)},notifyPointerup(t,e,i){this.notify("element:pointerup",t,e,i),Xt.prototype.pointerup.call(this,t,e,i)},pointerdblclick:function(t,e,i){Xt.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,i)},pointerclick:function(t,e,i){Xt.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,i)},contextmenu:function(t,e,i){Xt.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,i)},pointerdown:function(t,e,i){this.notifyPointerdown(t,e,i),this.dragStart(t,e,i)},pointermove:function(t,e,i){let n=this.eventData(t),{targetMagnet:r,action:o,delegatedView:s}=n;switch(r&&this.magnetpointermove(t,r,e,i),o){case Es.MAGNET:this.dragMagnet(t,e,i);break;case Es.MOVE:(s||this).drag(t,e,i);default:if(n.preventPointerEvents)break;this.notifyPointermove(t,e,i);break}this.eventData(t,n)},pointerup:function(t,e,i){let n=this.eventData(t),{targetMagnet:r,action:o,delegatedView:s}=n;switch(r&&this.magnetpointerup(t,r,e,i),o){case Es.MAGNET:this.dragMagnetEnd(t,e,i);break;case Es.MOVE:(s||this).dragEnd(t,e,i);default:if(n.preventPointerEvents)break;this.notifyPointerup(t,e,i)}r&&this.magnetpointerclick(t,r,e,i),this.checkMouseleave(t)},mouseover:function(t){Xt.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){Xt.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){Xt.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){Xt.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,i,n){Xt.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,i,n)},onmagnet:function(t,e,i){let{currentTarget:n}=t;this.magnetpointerdown(t,n,e,i),this.eventData(t,{targetMagnet:n}),this.dragMagnetStart(t,e,i)},magnetpointerdown:function(t,e,i,n){this.notify("element:magnet:pointerdown",t,e,i,n)},magnetpointermove:function(t,e,i,n){this.notify("element:magnet:pointermove",t,e,i,n)},magnetpointerup:function(t,e,i,n){this.notify("element:magnet:pointerup",t,e,i,n)},magnetpointerdblclick:function(t,e,i,n){this.notify("element:magnet:pointerdblclick",t,e,i,n)},magnetcontextmenu:function(t,e,i,n){this.notify("element:magnet:contextmenu",t,e,i,n)},dragStart:function(t,e,i){if(this.isDefaultInteractionPrevented(t))return;var n=this.getDelegatedView();if(!n||!n.can("elementMove"))return;this.eventData(t,{action:Es.MOVE,delegatedView:n});let r=n.model.position();n.eventData(t,{initialPosition:r,pointerOffset:r.difference(e,i),restrictedArea:this.paper.getRestrictedArea(n,e,i)})},dragMagnetStart:function(t,e,i){let{paper:n}=this,r=t.isPropagationStopped();if(r&&this.eventData(t,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(t)||!this.can("addLinkFromMagnet"))return;let{targetMagnet:o=t.currentTarget}=this.eventData(t);if(t.stopPropagation(),!n.options.validateMagnet.call(n,this,o,t)){r?this.dragStart(t,e,i):this.pointerdown(t,e,i);return}n.options.magnetThreshold<=0&&this.dragLinkStart(t,o,e,i),this.eventData(t,{action:Es.MAGNET})},drag:function(t,e,i){var n=this.paper,r=n.options.gridSize,o=this.model,s=this.eventData(t),{pointerOffset:l,restrictedArea:c,embedding:d}=s,h=Jn(e+l.x,r),f=Jn(i+l.y,r);o.position(h,f,{restrictedArea:c,deep:!0,ui:!0}),n.options.embeddingMode&&(d||(this.prepareEmbedding(s),d=!0),this.processEmbedding(s,t,e,i)),this.eventData(t,{embedding:d})},dragMagnet:function(t,e,i){this.dragLink(t,e,i)},dragEnd:function(t,e,i){var n=this.eventData(t);n.embedding&&this.finalizeEmbedding(n)},dragMagnetEnd:function(t,e,i){this.dragLinkEnd(t,e,i)},magnetpointerclick:function(t,e,i,n){var r=this.paper;r.eventData(t).mousemoved>r.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,i,n)}},{Flags:fe});wt(Be.prototype,FI);var qu={};Fe(qu,{manhattan:()=>Hu,metro:()=>Jx,normal:()=>Px,oneSide:()=>kx,orthogonal:()=>Uu,rightAngle:()=>i1});var Px=function(t,e,i){return t};var kx=function(t,e,i){var n=e.side||"bottom",r=mn(e.padding||40),o=i.sourceBBox,s=i.targetBBox,l=o.center(),c=s.center(),d,h,f;switch(n){case"bottom":f=1,d="y",h="height";break;case"top":f=-1,d="y",h="height";break;case"left":f=-1,d="x",h="width";break;case"right":f=1,d="x",h="width";break;default:throw new Error("Router: invalid side")}return l[d]+=f*(o[h]/2+r[n]),c[d]+=f*(s[h]/2+r[n]),f*(l[d]-c[d])>0?c[d]=l[d]:l[d]=c[d],[l].concat(t,c)};var Ex={N:"S",S:"N",E:"W",W:"E"},Ox={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function Vu(t,e,i){var n=new L(t.x,e.y);return i.containsPoint(n)&&(n=new L(e.x,t.y)),n}function Ug(t,e){return t[e==="W"||e==="E"?"width":"height"]}function Fi(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function Fu(t){return new gt(t.x,t.y,0,0)}function Yu(t){var e=mn(t.padding||t.elementPadding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function VI(t,e){return t.sourceBBox.clone().moveAndExpand(Yu(e))}function YI(t,e){return t.targetBBox.clone().moveAndExpand(Yu(e))}function Lx(t,e){if(t.sourceAnchor)return t.sourceAnchor;var i=VI(t,e);return i.center()}function Rx(t,e){if(t.targetAnchor)return t.targetAnchor;var i=YI(t,e);return i.center()}function UI(t,e,i){var n=new L(t.x,e.y),r=new L(e.x,t.y),o=Fi(t,n),s=Fi(t,r),l=Ex[i],c=o===i||o!==l&&(s===l||s!==i)?n:r;return{points:[c],direction:Fi(c,e)}}function Wu(t,e,i){var n=Vu(t,e,i);return{points:[n],direction:Fi(n,e)}}function jx(t,e,i,n){var r={},o=[new L(t.x,e.y),new L(e.x,t.y)],s=o.filter(function(f){return!i.containsPoint(f)}),l=s.filter(function(f){return Fi(f,t)!==n}),c;if(l.length>0)c=l.filter(function(f){return Fi(t,f)===n}).pop(),c=c||l[0],r.points=[c],r.direction=Fi(c,e);else{c=nl(o,s)[0];var d=new L(e).move(c,-Ug(i,n)/2),h=Vu(d,t,i);r.points=[h,d],r.direction=Fi(d,e)}return r}function zx(t,e,i,n){var r=Wu(e,t,n),o=r.points[0];if(i.containsPoint(o)){r=Wu(t,e,i);var s=r.points[0];if(n.containsPoint(s)){var l=new L(t).move(s,-Ug(i,Fi(t,s))/2),c=new L(e).move(o,-Ug(n,Fi(e,o))/2),d=new It(l,c).midpoint(),h=Wu(t,d,i),f=UI(d,e,h.direction);r.points=[h.points[0],f.points[0]],r.direction=f.direction}}return r}function Yg(t,e,i,n,r){var o={},s=i.union(n).inflate(1),l=s.center().distance(e)>s.center().distance(t),c=l?e:t,d=l?t:e,h,f,y;return r?(h=L.fromPolar(s.width+s.height,Ox[r],c),h=s.pointNearestToPoint(h).move(h,-1)):h=s.pointNearestToPoint(c).move(c,1),f=Vu(h,d,s),h.round().equals(f.round())?(f=L.fromPolar(s.width+s.height,Ke(h.theta(c))+Math.PI/2,d),f=s.pointNearestToPoint(f).move(d,1).round(),y=Vu(h,f,s),o.points=l?[f,y,h]:[h,y,f]):o.points=l?[f,h]:[h,f],o.direction=Fi(l?h:f,e),o}function Uu(t,e,i){var n=VI(i,e),r=YI(i,e),o=Lx(i,e),s=Rx(i,e);n=n.union(Fu(o)),r=r.union(Fu(s)),t=jt(t).map(L),t.unshift(o),t.push(s);for(var l,c=[],d=0,h=t.length-1;d<h;d++){var f=null,y=t[d],w=t[d+1],x=!!Fi(y,w);if(d===0)d+1===h?n.intersect(r.clone().inflate(1))?f=Yg(y,w,n,r):x||(f=zx(y,w,n,r)):n.containsPoint(w)?f=Yg(y,w,n,Fu(w).moveAndExpand(Yu(e))):x||(f=Wu(y,w,n));else if(d+1===h){var N=x&&Fi(w,y)===l;r.containsPoint(y)||N?f=Yg(y,w,Fu(y).moveAndExpand(Yu(e)),r,l):x||(f=jx(y,w,r,l))}else x||(f=UI(y,w,l));f?(Array.prototype.push.apply(c,f.points),l=f.direction):l=Fi(y,w),d+1<h&&c.push(w)}return c}var KI={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},isPointObstacle:null,fallbackRouter:function(t,e,i){if(!ue(Uu))throw new Error("Manhattan requires the orthogonal router as default fallback.");return Uu(t,wt({},KI,e),i)},fallbackRoute:function(t,e,i){return null},draggingRoute:null};function Jg(t){this.map={},this.options=t,this.mapGridSize=100}Jg.prototype.build=function(t,e){var i=this.options,n=jt(i.excludeEnds).reduce(function(c,d){var h=e.get(d);if(h){var f=t.getCell(h.id);f&&c.push(f)}return c},[]),r=[],o=t.getCell(e.get("source").id);o&&(r=Ts(r,o.getAncestors().map(function(c){return c.id})));var s=t.getCell(e.get("target").id);s&&(r=Ts(r,s.getAncestors().map(function(c){return c.id})));var l=this.mapGridSize;return t.getElements().reduce(function(c,d){var h=jt(i.excludeTypes).includes(d.get("type")),f=n.find(function(et){return et.id===d.id}),y=r.includes(d.id),w=h||f||y;if(!w)for(var x=d.getBBox().moveAndExpand(i.paddingBox),N=x.origin().snapToGrid(l),T=x.corner().snapToGrid(l),E=N.x;E<=T.x;E+=l)for(var Y=N.y;Y<=T.y;Y+=l){var K=E+"@"+Y;c[K]=c[K]||[],c[K].push(x)}return c},this.map),this};Jg.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return jt(this.map[e]).every(function(i){return!i.containsPoint(t)})};function So(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}So.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;var i=el(this.items,t,function(n){return this.values[n]}.bind(this));this.items.splice(i,0,t)};So.prototype.remove=function(t){this.hash[t]=this.CLOSE};So.prototype.isOpen=function(t){return this.hash[t]===this.OPEN};So.prototype.isClose=function(t){return this.hash[t]===this.CLOSE};So.prototype.isEmpty=function(){return this.items.length===0};So.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t};function qI(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function $I(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function tC(t,e){if(t.sourceAnchor)return t.sourceAnchor;var i=qI(t,e);return i.center()}function Bx(t,e){if(t.targetAnchor)return t.targetAnchor;var i=$I(t,e);return i.center()}function Xg(t,e,i,n,r){var o=360/i,s=t.theta(Gx(t,e,n,r)),l=ri(s+o/2);return o*Math.floor(l/o)}function Gx(t,e,i,n){var r=n.step,o=e.x-t.x,s=e.y-t.y,l=o/i.x,c=s/i.y,d=l*r,h=c*r;return new L(t.x+d,t.y+h)}function XI(t,e){var i=Math.abs(t-e);return i>180?360-i:i}function Zx(t,e,i){var n=i.step;jt(i.directions).forEach(function(r){r.gridOffsetX=r.offsetX/n*e.x,r.gridOffsetY=r.offsetY/n*e.y})}function Fx(t,e,i){return{source:e.clone(),x:HI(i.x-e.x,t),y:HI(i.y-e.y,t)}}function HI(t,e){if(!t)return e;var i=Math.abs(t),n=Math.round(i/e);if(!n)return i;var r=n*e,o=i-r,s=o/n;return e+s}function Wx(t,e){var i=e.source,n=Jn(t.x-i.x,e.x)+i.x,r=Jn(t.y-i.y,e.y)+i.y;return new L(n,r)}function gl(t,e){return t.round(e)}function Xu(t,e,i){return gl(Wx(t.clone(),e),i)}function pl(t){return t.clone().toString()}function Hg(t){return new L(t.x===0?0:Math.abs(t.x)/t.x,t.y===0?0:Math.abs(t.y)/t.y)}function Vx(t,e,i,n,r,o,s){for(var l=[],c=Hg(r.difference(i)),d=pl(i),h=t[d],f;h;){f=e[d];var y=Hg(f.difference(h));y.equals(c)||(l.unshift(f),c=y),d=pl(h),h=t[d]}var w=e[d],x=Hg(w.difference(n));return x.equals(c)||l.unshift(w),l}function JI(t,e){for(var i=1/0,n=0,r=e.length;n<r;n++){var o=t.manhattanDistance(e[n]);o<i&&(i=o)}return i}function QI(t,e,i,n,r){var o=r.precision,s=r.directionMap,l=t.difference(e.center()),c=Jt(s)?Object.keys(s):[],d=jt(i),h=c.reduce(function(f,y){if(d.includes(y)){for(var w=s[y],x=new L(t.x+w.x*(Math.abs(l.x)+e.width),t.y+w.y*(Math.abs(l.y)+e.height)),N=new It(t,x),T=N.intersect(e)||[],E=T.length,Y,K=null,et=0;et<E;et++){var lt=T[et],p=t.squaredDistance(lt);(Y===void 0||p>Y)&&(Y=p,K=lt)}if(K){var v=Xu(K,n,o);e.containsPoint(v)&&(v=Xu(v.offset(w.x*n.x,w.y*n.y),n,o)),f.push(v)}}return f},[]);return e.containsPoint(t)||h.push(Xu(t,n,o)),h}function Yx(t,e,i,n){var r=n.precision,o,s;t instanceof gt?o=gl(tC(this,n).clone(),r):o=gl(t.clone(),r),e instanceof gt?s=gl(Bx(this,n).clone(),r):s=gl(e.clone(),r);var l=Fx(n.step,o,s),c,d,h,f;if(t instanceof gt?(c=o,h=QI(c,t,n.startDirections,l,n)):(c=o,h=[c]),e instanceof gt?(d=s,f=QI(s,e,n.endDirections,l,n)):(d=s,f=[d]),h=h.filter(kt=>!i(kt)),f=f.filter(kt=>!i(kt)),h.length>0&&f.length>0){for(var y=new So,w={},x={},N={},T=0,E=h.length;T<E;T++){var Y=h[T],K=pl(Y);y.add(K,JI(Y,f)),w[K]=Y,N[K]=0}var et=n.previousDirectionAngle,lt=et===void 0,p,v,A=n.directions;Zx(A,l,n);for(var _=A.length,D=jt(f).reduce(function(kt,ge){var C=pl(ge);return kt.push(C),kt},[]),z=n.maximumLoops;!y.isEmpty()&&z>0;){var B=y.pop(),X=w[B],ft=x[B],vt=N[B],W=ft===void 0,$=X.equals(c),J;W?lt?$?J=null:J=Xg(c,X,_,l,n):J=et:J=Xg(ft,X,_,l,n);var q=h.length===f.length;if(q){for(var Ot=0;Ot<h.length;Ot++)if(!h[Ot].equals(f[Ot])){q=!1;break}}var Dt=W&&q;if(!Dt&&D.indexOf(B)>=0)return n.previousDirectionAngle=J,Vx(x,w,X,c,d,l,n);for(T=0;T<_;T++){p=A[T];var Ie=p.angle;if(v=XI(J,Ie),!(!(lt&&$)&&v>n.maxAllowedDirectionChange)){var Te=Xu(X.clone().offset(p.gridOffsetX,p.gridOffsetY),l,r),Mt=pl(Te);if(!(y.isClose(Mt)||i(Te))){if(D.indexOf(Mt)>=0){var Pt=Te.equals(d);if(!Pt){var st=Xg(Te,d,_,l,n),ot=XI(Ie,st);if(ot>n.maxAllowedDirectionChange)continue}}var mt=p.cost,Wt=$?0:n.penalties[v],se=vt+mt+Wt;(!y.isOpen(Mt)||se<N[Mt])&&(w[Mt]=Te,x[Mt]=X,N[Mt]=se,y.add(Mt,se+JI(Te,f)))}}}z--}}return n.fallbackRoute.call(this,c,d,n)}function Ux(t){if(t.directions=Ne(t,"directions"),t.penalties=Ne(t,"penalties"),t.paddingBox=Ne(t,"paddingBox"),t.padding=Ne(t,"padding"),t.padding){var e=mn(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}jt(t.directions).forEach(function(i){var n=new L(0,0),r=new L(i.offsetX,i.offsetY);i.angle=ri(n.theta(r))})}function Xx(t,e,i){Ux(e),i.options.perpendicular=!!e.perpendicular;var n=qI(i,e),r=$I(i,e),o=tC(i,e);let s;if(typeof e.isPointObstacle=="function")s=e.isPointObstacle;else{let K=new Jg(e);K.build(i.paper.model,i.model),s=et=>!K.isPointAccessible(et)}for(var l=jt(t).map(L),c=[],d=o,h,f,y=0,w=l.length;y<=w;y++){var x=null;if(f=h||n,h=l[y],!h){h=r;var N=!i.model.get("source").id||!i.model.get("target").id;if(N&&ue(e.draggingRoute)){var T=f===n?o:f,E=h.origin();x=e.draggingRoute.call(i,T,E,e)}}if(x=x||Yx.call(i,f,h,s,e),x===null)return e.fallbackRouter(t,e,i);var Y=x[0];Y&&Y.equals(d)&&x.shift(),d=x[x.length-1]||d,Array.prototype.push.apply(c,x)}return c}var Hu=function(t,e,i){return Xx(t,wt({},KI,e),i)};var Hx={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),i=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:i},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:i},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:i},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:i}]},fallbackRoute:function(t,e,i){var n=t.theta(e),r=[],o={x:e.x,y:t.y},s={x:t.x,y:e.y};if(n%180>90){var l=o;o=s,s=l}var c=n%90<45?o:s,d=new It(t,c),h=90*Math.ceil(n/90),f=L.fromPolar(d.squaredLength(),Ke(h+135),c),y=new It(e,f),w=d.intersection(y),x=w||e,N=w?x:t,T=360/i.directions.length,E=N.theta(e),Y=ri(E+T/2),K=T*Math.floor(Y/T);return i.previousDirectionAngle=K,x&&r.push(x.round()),r.push(e),r}},Jx=function(t,e,i){if(!ue(Hu))throw new Error("Metro requires the manhattan router.");return Hu(t,wt({},Hx,e),i)};var ht={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},eC=[ht.LEFT,ht.RIGHT,ht.TOP,ht.BOTTOM],Os={[ht.LEFT]:ht.RIGHT,[ht.RIGHT]:ht.LEFT,[ht.TOP]:ht.BOTTOM,[ht.BOTTOM]:ht.TOP},Qx=[ht.TOP,ht.BOTTOM],Ju={0:ht.RIGHT,180:ht.LEFT,270:ht.TOP,90:ht.BOTTOM};function ml(t){return t.angle()}function Qu(t){return new le(t).simplify({threshold:1}).points}function Ku(t,e){let{point:i,x0:n,y0:r,view:o,bbox:s,direction:l}=t,{point:c,x0:d,y0:h,view:f,bbox:y,direction:w}=e,x;if(o)o.model.isLink()?x=iC(c,i,o):l===ht.ANCHOR_SIDE?x=s.sideNearestToPoint(i):l===ht.MAGNET_SIDE?x=o.model.getBBox().sideNearestToPoint(i):x=l;else{let T=new gt(n,r,0,0);x=eC.includes(l)?l:T.sideNearestToPoint(c)}let N;if(f)f.model.isLink()?N=iC(i,c,f):w===ht.ANCHOR_SIDE?N=y.sideNearestToPoint(c):w===ht.MAGNET_SIDE?N=f.model.getBBox().sideNearestToPoint(c):N=w;else{let T=new gt(d,h,0,0);N=eC.includes(w)?w:T.sideNearestToPoint(i)}return[x,N]}function Kx(t,e,i){let{x0:n,y0:r,width:o,height:s,point:l,margin:c}=t,d=n+o,h=r+s,f=n-c,y=d+c,w=r-c,{x}=l,{x0:N,y0:T}=e;return N===x&&T<r?ht.BOTTOM:N<x&&T<w?ht.RIGHT:N>x&&T<w?ht.LEFT:N<f&&T>=r||N>y&&T>=r?ht.TOP:N>=f&&N<=x&&T>h||N<=y&&N>=x&&T>h?i.point.x<N?ht.RIGHT:ht.LEFT:ht.TOP}function qx(t,e,i){let{x0:n,y0:r,width:o,height:s,point:l,margin:c}=t,d=n+o,h=r+s,f=n-c,y=d+c,w=h+c,{x}=l,{x0:N,y0:T}=e;return N===x&&T>h?ht.TOP:N<x&&T>w?ht.RIGHT:N>x&&T>w?ht.LEFT:N<f&&T<=h||N>y&&T<=h?ht.BOTTOM:N>=f&&N<=x&&T<r||N<=y&&N>=x&&T<r?i.point.x<N?ht.RIGHT:ht.LEFT:ht.BOTTOM}function $x(t,e,i){let{y0:n,x0:r,width:o,height:s,point:l,margin:c}=t,d=r+o,h=n+s,f=r-c,y=n-c,w=h+c,{x,y:N}=l,{x0:T,y0:E}=e;return T<x&&E===N?ht.RIGHT:T<=f&&E<N?ht.BOTTOM:T<=f&&E>N?ht.TOP:T>=r&&E<=y||T>=r&&E>=w?ht.LEFT:T>d&&E>=y&&E<=N||T>d&&E<=w&&E>=N?i.point.y<E?ht.BOTTOM:ht.TOP:ht.LEFT}function t1(t,e,i){let{y0:n,x0:r,width:o,height:s,point:l,margin:c}=t,d=r+o,h=n+s,f=d+c,y=n-c,w=h+c,{x,y:N}=l,{x0:T,y0:E}=e;return T>x&&E===N?ht.LEFT:T>=f&&E<N?ht.BOTTOM:T>=f&&E>N?ht.TOP:T<=d&&E<=y||T<=d&&E>=w?ht.RIGHT:T<r&&E>=y&&E<=N||T<r&&E<=w&&E>=N?i.point.y<E?ht.BOTTOM:ht.TOP:ht.RIGHT}function e1(t,e,i){let[n]=Ku(t,e);switch(n){case ht.TOP:return Kx(t,e,i);case ht.RIGHT:return t1(t,e,i);case ht.BOTTOM:return qx(t,e,i);case ht.LEFT:return $x(t,e,i)}}function iC(t,e,i){let n=i.getTangentAtLength(i.getClosestPointLength(e)),r=Math.round(ml(n)/90)*90;if(r%180===0&&t.y===e.y)return t.x<e.x?ht.LEFT:ht.RIGHT;if(t.x===e.x)return t.y<e.y?ht.TOP:ht.BOTTOM;switch(r){case 0:case 180:case 360:return t.y<e.y?ht.TOP:ht.BOTTOM;case 90:case 270:return t.x<e.x?ht.LEFT:ht.RIGHT}}function nC(t,e,i,n,r,o,s){n===ht.AUTO&&(n=r?ht.MAGNET_SIDE:ht.ANCHOR_SIDE);let l=t&&t.model.isElement(),{x:c,y:d,width:h=0,height:f=0}=l?gt.fromRectUnion(i,t.model.getBBox()):o;return{point:e,x0:c,y0:d,view:t,bbox:i,width:h,height:f,direction:n,margin:l?s:0}}function Qg({x:t,y:e}){let i=new L(t,e);return{point:i,x0:i.x,y0:i.y,view:null,bbox:new gt(t,e,0,0),width:0,height:0,direction:null,margin:0}}function rC(t,e,i){let n=e.point.clone(),{x0:r,y0:o,width:s,height:l}=e;switch(t){case"left":n.x=r-i;break;case"right":n.x=r+s+i;break;case"top":n.y=o-i;break;case"bottom":n.y=o+l+i;break}return n}function Zr(t,e){let{point:i,x0:n,y0:r,view:o,width:s,height:l,margin:c}=t,{point:d,x0:h,y0:f,width:y,height:w,margin:x}=e,N=h+y,T=f+w,E=n+s,Y=r+l,K=o&&o.model.isElement(),et=n-c,lt=E+c,p=r-c,v=Y+c,A=h-x,_=N+x,D=f-x,z=T+x,[B,X]=Ku(t,e),ft=rC(B,{point:i,x0:n,y0:r,width:s,height:l},c),vt=rC(X,{point:d,x0:h,y0:f,width:y,height:w},x),{x:W,y:$}=ft,{x:J,y:q}=vt,Ot=(h+N)/2,Dt=(f+T)/2,Ie=(n+E)/2,Te=(r+Y)/2,Mt=(Ie<Ot?E+h:N+n)/2,Pt=(Te<Dt?Y+f:T+r)/2;if(B==="left"&&X==="right"){if(et<=_){let ot=Pt;return E<=h&&(T>=p&&q<$?ot=Math.min(D,p):f<=v&&q>=$&&(ot=Math.max(z,v))),[{x:W,y:$},{x:W,y:ot},{x:J,y:ot},{x:J,y:q}]}let st=(W+J)/2;return[{x:st,y:$},{x:st,y:q}]}else if(B==="right"&&X==="left"){if(lt>=A){let ot=Pt;return W>N&&(T>=p&&q<$?ot=Math.min(D,p):f<=v&&q>=$&&(ot=Math.max(z,v))),[{x:W,y:$},{x:W,y:ot},{x:J,y:ot},{x:J,y:q}]}let st=(W+J)/2;return[{x:st,y:$},{x:st,y:q}]}else if(B==="top"&&X==="bottom"){if($<q){let ot=Mt,mt=$;return $<f&&(N>=et&&J<W?ot=Math.min(A,et):h<=lt&&J>=W&&(ot=Math.max(_,lt))),[{x:W,y:mt},{x:ot,y:mt},{x:ot,y:q},{x:J,y:q}]}let st=($+q)/2;return[{x:W,y:st},{x:J,y:st}]}else if(B==="bottom"&&X==="top"){if($-c>q){let ot=Mt,mt=$;return $>T&&(N>=et&&J<W?ot=Math.min(A,et):h<=lt&&J>=W&&(ot=Math.max(_,lt))),[{x:W,y:mt},{x:ot,y:mt},{x:ot,y:q},{x:J,y:q}]}let st=($+q)/2;return[{x:W,y:st},{x:J,y:st}]}else if(B==="top"&&X==="top"){let st,ot=Math.min((Y+f)/2,q),mt=Math.min((r+T)/2,$);if(q<$){if(W>=_||W<=A)return[{x:W,y:Math.min($,q)},{x:J,y:Math.min($,q)}];J>W?st=Math.min(W,A):st=Math.max(W,_)}else{if(J>=lt||J<=et)return[{x:W,y:Math.min($,q)},{x:J,y:Math.min($,q)}];J>=W?st=Math.max(J,lt):st=Math.min(J,et)}return[{x:W,y:mt},{x:st,y:mt},{x:st,y:ot},{x:J,y:ot}]}else if(B==="bottom"&&X==="bottom"){let st,ot=Math.max((r+T)/2,q),mt=Math.max((Y+f)/2,$);if(q>$){if(W>=_||W<=A)return[{x:W,y:Math.max($,q)},{x:J,y:Math.max($,q)}];J>W?st=Math.min(W,A):st=Math.max(W,_)}else{if(J>=lt||J<=et)return[{x:W,y:Math.max($,q)},{x:J,y:Math.max($,q)}];J>=W?st=Math.max(J,lt):st=Math.min(J,et)}return[{x:W,y:mt},{x:st,y:mt},{x:st,y:ot},{x:J,y:ot}]}else if(B==="left"&&X==="left"){let st,ot=Math.min((E+h)/2,J),mt=Math.min((n+N)/2,W);return J>W?q<=$?st=Math.min(p,q):st=Math.max(v,q):q>=$?st=Math.min(D,$):st=Math.max(z,$),[{x:mt,y:$},{x:mt,y:st},{x:ot,y:st},{x:ot,y:q}]}else if(B==="right"&&X==="right"){let st,ot=Math.max((n+N)/2,J),mt=Math.max((E+h)/2,W);return J<W?q<=$?st=Math.min(p,q):st=Math.max(v,q):q>=$?st=Math.min(D,$):st=Math.max(z,$),[{x:mt,y:$},{x:mt,y:st},{x:ot,y:st},{x:ot,y:q}]}else if(B==="top"&&X==="right"){if($>q){if(W<J){let ot=Pt;return(ot>Dt||!K)&&ot<z&&W<h&&(ot=D),[{x:W,y:ot},{x:J,y:ot},{x:J,y:q}]}return[{x:W,y:q}]}let st=Math.max(Mt,_);if(J<W&&q>r&&q<Y)return[{x:W,y:$},{x:st,y:$},{x:st,y:q}];if(st>et&&q>r||h>E){let ot=Math.min(r-c,f-x),mt=Math.max(E+c,N+x);return[{x:W,y:ot},{x:mt,y:ot},{x:mt,y:q}]}return[{x:W,y:$},{x:Math.max(st,J),y:$},{x:Math.max(st,J),y:q}]}else if(B==="top"&&X==="left"){if($>q){if(W>J){let ot=Pt;return(ot>Dt||!K)&&ot<z&&W>N&&(ot=D),[{x:W,y:ot},{x:J,y:ot},{x:J,y:q}]}return[{x:W,y:q}]}let st=Math.min(A,Mt);if(W<J&&Y>=q)return[{x:W,y:$},{x:st,y:$},{x:st,y:q}];if(st<lt&&$<T){let ot=Math.min(p,D),mt=Math.min(et,A);return[{x:W,y:ot},{x:mt,y:ot},{x:mt,y:q}]}return[{x:W,y:$},{x:st,y:$},{x:st,y:q}]}else if(B==="bottom"&&X==="right"){if($<q){if(W<J){let ot=Pt;return(ot<Dt||!K)&&ot>D&&W<h&&(ot=z),[{x:W,y:ot},{x:J,y:ot},{x:J,y:q}]}return[{x:W,y:q}]}else if(n<J){let ot=Math.max(v,z),mt=Math.max(lt,_);return[{x:W,y:ot},{x:mt,y:ot},{x:mt,y:q}]}let st=Mt;return[{x:W,y:$},{x:st,y:$},{x:st,y:q}]}else if(B==="bottom"&&X==="left"){if($<q){if(W>J){let ot=Pt;return(ot<Dt||!K)&&ot>D&&W>N&&(ot=z),[{x:W,y:ot},{x:J,y:ot},{x:J,y:q}]}return[{x:W,y:q}]}else if(E>J){let ot=Math.max(v,z),mt=Math.min(et,A);return[{x:W,y:ot},{x:mt,y:ot},{x:mt,y:q}]}let st=Mt;return[{x:W,y:$},{x:st,y:$},{x:st,y:q}]}else if(B==="left"&&X==="bottom"){if(W>=J&&$>=z)return[{x:J,y:$}];if(W>=N&&$<q){let mt=Mt;return[{x:mt,y:$},{x:mt,y:q},{x:J,y:q}]}if(J<E&&T<=r){let mt=Pt;return[{x:W,y:$},{x:W,y:mt},{x:J,y:mt}]}let st=Math.min(A,W),ot=Math.max(v,z);return[{x:st,y:$},{x:st,y:ot},{x:J,y:ot}]}else if(B==="left"&&X==="top"){if(W>J&&$<D)return[{x:J,y:$}];if(W>=N&&$>q){let mt=Mt;return[{x:mt,y:$},{x:mt,y:q},{x:J,y:q}]}if(J<=E&&q>$){let mt=Pt;return[{x:W,y:$},{x:W,y:mt},{x:J,y:mt}]}let st=q<$?Math.min(et,A):et,ot=Math.min(p,D);return[{x:st,y:$},{x:st,y:ot},{x:J,y:ot}]}else if(B==="right"&&X==="top"){if(W<=J&&$<D)return[{x:J,y:$}];if(E<h&&$>q){let mt=Mt;return[{x:mt,y:$},{x:mt,y:q},{x:J,y:q}]}if(J<W&&f>Y){let mt=Pt;return[{x:W,y:$},{x:W,y:mt},{x:J,y:mt}]}let st=Math.max(lt,_),ot=Math.min(p,D);return[{x:st,y:$},{x:st,y:ot},{x:J,y:ot}]}else if(B==="right"&&X==="bottom"){if(W<=J&&$>=z)return[{x:J,y:$}];if(W<=A&&$<q){let mt=Mt;return[{x:mt,y:$},{x:mt,y:q},{x:J,y:q}]}if(J>n&&T<r){let mt=Pt;return[{x:W,y:$},{x:W,y:mt},{x:J,y:mt}]}let st=Math.max(_,W),ot=Math.max(v,z);return[{x:st,y:$},{x:st,y:ot},{x:J,y:ot}]}}function oC(t,e,i){let{sourceDirection:n=ht.AUTO,targetDirection:r=ht.AUTO}=e,o=e.margin||20,s=e.useVertices||!1,l=!!i.model.source().port,c=nC(i.sourceView,i.sourceAnchor,i.sourceBBox,n,l,i.sourceAnchor,o),d=!!i.model.target().port,h=nC(i.targetView,i.targetAnchor,i.targetBBox,r,d,i.targetAnchor,o),f=[];if(!s||t.length===0)return Qu(Zr(c,h));let y=t.map(N=>Qg(N)),[w]=y;if(c.view&&c.view.model.isElement()&&c.view.model.getBBox().inflate(o).containsPoint(w.point)){let[N]=Ku(c,w),T=N,E=Qg(c.point);E.margin=o,E.direction=N,w.direction=T,f.push(...Zr(E,w),w.point)}else{let N=y[1]||h,T=e1(c,w,N);w.direction=T,f.push(...Zr(c,w),w.point)}for(let N=0;N<y.length-1;N++){let T=y[N],E=y[N+1],Y=new It(T.point,E.point),K=ml(Y);if(K%90===0){let p=Ju[K],v=Os[p];if(p!==T.direction)f.push(T.point,E.point),E.direction=v;else{let A=ri(K-90),_=0,D=0;A===90?D=-o:A===180?_=-o:A===270?D=o:A===0&&(_=o);let z={x:T.point.x+_,y:T.point.y+D},B={x:E.point.x+_,y:E.point.y+D},X=new It(E.point,B);E.direction=Ju[ml(X)],f.push(T.point,z,B,E.point)}continue}let[et,lt]=Kg(T,E);T.direction=et,E.direction=lt,f.push(...Zr(T,E),E.point)}let x=y[y.length-1];if(h.view&&h.view.model.isElement())if(h.view.model.getBBox().inflate(o).containsPoint(x.point)){let[N]=Kg(x,h),T=Qg(h.point),[,E]=Ku(x,h);T.margin=o,T.direction=E,x.direction=N,f.push(...Zr(x,T))}else{let N=Qu(f),T=new It(N[N.length-2],x.point),E=Ju[Math.round(ml(T))];x.direction=E;let Y=Zr(x,h),[K,et]=Qu([...Y,h.point]),lt=new It(K,et),p=Math.round(ml(lt)),v=Ju[p];v!==E&&E===Os[v]&&(x.margin=o,Y=Zr(x,h)),f.push(...Y)}else{let[N]=Kg(x,h);x.direction=N,f.push(...Zr(x,h))}return Qu(f)}function Kg(t,e){let i=t.direction,n=Qx.includes(i),r=t.direction,o=e.direction;if(n){let s=t.point.y>e.point.y,l=e.point.x-t.point.x;i===ht.BOTTOM?(r=s?Os[i]:l>=0?ht.RIGHT:ht.LEFT,l>0?o=s?ht.LEFT:ht.TOP:l<0&&(o=s?ht.RIGHT:ht.TOP)):(r=s?l>=0?ht.RIGHT:ht.LEFT:Os[i],l>0?o=s?ht.BOTTOM:ht.LEFT:l<0&&(o=s?ht.BOTTOM:ht.RIGHT))}else{let s=t.point.x>e.point.x,l=e.point.y-t.point.y;i===ht.RIGHT?(r=s?Os[i]:l>=0?ht.BOTTOM:ht.TOP,l>0?o=s?ht.TOP:ht.LEFT:l<0&&(o=s?ht.BOTTOM:ht.LEFT)):(r=s?l>=0?ht.BOTTOM:ht.TOP:Os[i],l>0?o=s?ht.RIGHT:ht.TOP:l<0&&(o=s?ht.RIGHT:ht.BOTTOM))}return[r,o]}oC.Directions=ht;var i1=oC;var ef={};Fe(ef,{curve:()=>tp,jumpover:()=>p1,normal:()=>m1,rounded:()=>I1,smooth:()=>C1,straight:()=>vl});var Ls={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},n1=Object.values(Ls),r1=10,o1=1,vl=function(t,e,i=[],n={}){let{cornerType:r=Ls.POINT,cornerRadius:o=r1,cornerPreserveAspectRatio:s=!1,precision:l=o1,raw:c=!1}=n;if(n1.indexOf(r)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let d;if(r===Ls.POINT||!o){let h=[t].concat(i).concat([e]),f=new le(h);d=new _t(f)}else{d=new _t,d.appendSegment(_t.createSegment("M",t));let h,f=i.length;for(let y=0;y<f;y++){let w=new L(i[y]),x=i[y-1]||t,N=i[y+1]||e,T=h||w.distance(x)/2;h=w.distance(N)/2;let E,Y;s?E=Y=-Math.min(o,T,h):(E=-Math.min(o,T),Y=-Math.min(o,h));let K=w.clone().move(x,E).round(l),et=w.clone().move(N,Y).round(l);switch(d.appendSegment(_t.createSegment("L",K)),r){case Ls.CUBIC:{let lt=.3333333333333333,p=2/3,v=new L(lt*K.x+p*w.x,p*w.y+lt*K.y),A=new L(lt*et.x+p*w.x,p*w.y+lt*et.y);d.appendSegment(_t.createSegment("C",v,A,et));break}case Ls.LINE:{d.appendSegment(_t.createSegment("L",et));break}case Ls.GAP:{d.appendSegment(_t.createSegment("M",et));break}}}d.appendSegment(_t.createSegment("L",e))}return c?d:d.serialize()};var s1=5,sC=["arc","gap","cubic"],a1=0,aC=1,l1=["smooth"],$u=1/3,tf=2/3;function lC(t,e){let{x:i,y:n}=t,{x:r,y:o}=e;if(i>r){let s=i;i=r,r=s,s=n,n=o,o=s}if(n>o){let s=i;i=r,r=s,s=n,n=o,o=s}return[new L(i,n),new L(r,o)]}function c1(t,e){let[{x:i,y:n},{x:r,y:o}]=lC(t.start,t.end),[{x:s,y:l},{x:c,y:d}]=lC(e.start,e.end),h=i<=c&&s<=r,f=n<=d&&l<=o;return h&&f}function qg(t,e,i){var n=[].concat(t,i,e);return n.reduce(function(r,o,s){var l=n[s+1];return l!=null&&(r[s]=lr(o,l)),r},[])}function u1(t){var e=t.paper,i=e._jumpOverUpdateList;if(i==null){i=e._jumpOverUpdateList=[];var n=e.model;n.on("batch:stop",function(){this.hasActiveBatch()||f1(e)}),n.on("reset",function(){i=e._jumpOverUpdateList=[]})}i.indexOf(t)<0&&(i.push(t),t.listenToOnce(t.model,"change:connector remove",function(){i.splice(i.indexOf(t),1)}))}function f1(t){for(var e=t._jumpOverUpdateList,i=0;i<e.length;i++){let n=e[i],r=n.getFlag(n.constructor.Flags.CONNECTOR);n.requestUpdate(r)}}function d1(t,e){return jt(e).reduce(function(i,n){var r=t.intersection(n);return r&&i.push(r),i},[])}function cC(t,e){return lr(t,e).squaredLength()}function h1(t,e,i){return e.reduce(function(n,r,o){if(r.skip===!0)return n;var s=n.pop()||t,l=Ho(r).move(s.start,-i),c=Ho(r).move(s.start,+i),d=e[o+1];if(d!=null){var h=c.distance(d);h<=i&&(c=d.move(s.start,h),d.skip=!0)}else{var f=l.distance(s.end);if(f<i*2+aC)return n.push(s),n}var y=c.distance(s.start);if(y<i*2+aC)return n.push(s),n;var w=lr(l,c);return w.isJump=!0,n.push(lr(s.start,l),w,lr(c,s.end)),n},[])}function uC(t,e,i,n){var r=new _t,o;return o=_t.createSegment("M",t[0].start),r.appendSegment(o),jt(t).forEach(function(s,l){if(s.isJump){var c,d,h,f;if(i==="arc"){c=-90,d=s.start.difference(s.end);var y=+(d.x<0||d.x===0&&d.y<0);y&&(c+=180);var w=s.midpoint(),x=new It(w,s.end).rotate(w,c),N;N=new It(s.start,w),h=N.pointAt(2/3).rotate(s.start,c),f=x.pointAt(1/3).rotate(x.end,-c),o=_t.createSegment("C",h,f,x.end),r.appendSegment(o),N=new It(w,s.end),h=x.pointAt(1/3).rotate(x.end,c),f=N.pointAt(1/3).rotate(s.end,-c),o=_t.createSegment("C",h,f,s.end),r.appendSegment(o)}else if(i==="gap")o=_t.createSegment("M",s.end),r.appendSegment(o);else if(i==="cubic"){c=s.start.theta(s.end);var T=e*.6,E=e*1.35;d=s.start.difference(s.end),y=+(d.x<0||d.x===0&&d.y<0),y&&(E*=-1),h=L(s.start.x+T,s.start.y+E).rotate(s.start,c),f=L(s.end.x-T,s.end.y+E).rotate(s.end,c),o=_t.createSegment("C",h,f,s.end),r.appendSegment(o)}}else{var Y=t[l+1];n==0||!Y||Y.isJump?(o=_t.createSegment("L",s.end),r.appendSegment(o)):g1(n,r,s.end,s.start,Y.end)}}),r}function g1(t,e,i,n,r){var o=i.distance(n)/2,s=i.distance(r)/2,l=-Math.min(t,o),c=-Math.min(t,s),d=i.clone().move(n,l).round(),h=i.clone().move(r,c).round(),f=new L($u*d.x+tf*i.x,tf*i.y+$u*d.y),y=new L($u*h.x+tf*i.x,tf*i.y+$u*h.y),w;w=_t.createSegment("L",d),e.appendSegment(w),w=_t.createSegment("C",f,y,h),e.appendSegment(w)}var p1=function(t,e,i,n){u1(this);var r=n.raw,o=n.size||s1,s=n.jump&&(""+n.jump).toLowerCase(),l=n.radius||a1,c=n.ignoreConnectors||l1;sC.indexOf(s)===-1&&(s=sC[0]);var d=this.paper,h=d.model,f=h.getLinks();if(f.length===1)return uC(qg(t,e,i),o,s,l);var y=this.model,w=f.indexOf(y),x=d.options.defaultConnector||{},N=f.filter(function(lt,p){var v=lt.get("connector")||x;return jt(c).includes(v.name)?!1:p>w?v.name!=="jumpover":!0}),T=N.map(function(lt){return d.findViewByModel(lt)}),E=qg(t,e,i),Y=T.map(function(lt){return lt==null?[]:lt===this?E:qg(lt.sourcePoint,lt.targetPoint,lt.route)},this),K=E.reduce(function(lt,p){var v=N.reduce(function(A,_,D){if(_!==y){let z=Y[D].slice(),B=z.findIndex(ft=>c1(p,ft));B>-1&&p.containsPoint(z[B].end)&&z.splice(B+1,1);let X=d1(p,z);A.push.apply(A,X)}return A},[]).sort(function(A,_){return cC(p.start,A)-cC(p.start,_)});return v.length>0?lt.push.apply(lt,h1(p,v,o)):lt.push(p),lt},[]),et=uC(K,o,s,l);return r?et:et.serialize()};var m1=function(t,e,i=[],n={}){let{raw:r}=n;return vl(t,e,i,{cornerType:"point",raw:r})};var v1=10,y1=0,I1=function(t,e,i=[],n={}){let{radius:r=v1,raw:o}=n;return vl(t,e,i,{cornerType:"cubic",cornerRadius:r,precision:y1,raw:o})};var C1=function(t,e,i,n){var r=n&&n.raw,o;if(i&&i.length!==0){var s=[t].concat(i).concat([e]),l=ce.throughPoints(s);o=new _t(l)}else{o=new _t;var c;if(c=_t.createSegment("M",t),o.appendSegment(c),Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)){var d=(t.x+e.x)/2;c=_t.createSegment("C",d,t.y,d,e.y,e.x,e.y),o.appendSegment(c)}else{var h=(t.y+e.y)/2;c=_t.createSegment("C",t.x,h,e.x,h,e.x,e.y),o.appendSegment(c)}}return r?o:o.serialize()};var Sn={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Wi={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},tp=function(t,e,i=[],n={},r){let o=!!n.raw,{direction:s=Sn.AUTO,precision:l=3}=n,c={coeff:n.distanceCoefficient||.6,angleTangentCoefficient:n.angleTangentCoefficient||80,tau:n.tension||.5,sourceTangent:n.sourceTangent?new L(n.sourceTangent):null,targetTangent:n.targetTangent?new L(n.targetTangent):null,rotate:!!n.rotate};typeof n.sourceDirection=="string"?c.sourceDirection=n.sourceDirection:typeof n.sourceDirection=="number"?c.sourceDirection=new L(1,0).rotate(null,n.sourceDirection):c.sourceDirection=n.sourceDirection?new L(n.sourceDirection).normalize():null,typeof n.targetDirection=="string"?c.targetDirection=n.targetDirection:typeof n.targetDirection=="number"?c.targetDirection=new L(1,0).rotate(null,n.targetDirection):c.targetDirection=n.targetDirection?new L(n.targetDirection).normalize():null;let d=[t,...i,e].map(N=>new L(N)),h;if(c.sourceTangent)h=c.sourceTangent;else{let N=S1(r,d,s,c),T=d[0].distance(d[1])*c.coeff,E=d[1].difference(d[0]).normalize(),Y=$g(N,E);if(Y>Math.PI/4){let K=T+(Y-Math.PI/4)*c.angleTangentCoefficient;h=N.clone().scale(K,K)}else h=N.clone().scale(T,T)}let f;if(c.targetTangent)f=c.targetTangent;else{let N=_1(r,d,s,c),T=d.length-1,E=d[T-1].distance(d[T])*c.coeff,Y=d[T-1].difference(d[T]).normalize(),K=$g(N,Y);if(K>Math.PI/4){let et=E+(K-Math.PI/4)*c.angleTangentCoefficient;f=N.clone().scale(et,et)}else f=N.clone().scale(E,E)}let w=N1(d,h,f,c).map(N=>T1(N,c)),x=new _t(w).round(l);return o?x:x.serialize()};tp.Directions=Sn;tp.TangentDirections=Wi;function b1(t,e,i){let{sourceBBox:n}=t,r,o;if(!t.sourceView)n.x>e[1].x?r="right":r="left";else if(o=t.sourceView.model.angle(),i.rotate&&o){let l=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),c=e[0].clone();c.rotate(n.center(),o),r=l.sideNearestToPoint(c)}else r=n.sideNearestToPoint(e[0]);let s;return r==="left"?s=new L(-1,0):s=new L(1,0),i.rotate&&o&&s.rotate(null,-o),s}function A1(t,e,i){let{targetBBox:n}=t,r,o;if(!t.targetView)n.x>e[e.length-2].x?r="left":r="right";else if(o=t.targetView.model.angle(),i.rotate&&o){let l=t.targetView.getNodeUnrotatedBBox(t.targetView.el),c=e[e.length-1].clone();c.rotate(n.center(),o),r=l.sideNearestToPoint(c)}else r=n.sideNearestToPoint(e[e.length-1]);let s;return r==="left"?s=new L(-1,0):s=new L(1,0),i.rotate&&o&&s.rotate(null,-o),s}function w1(t,e,i){let{sourceBBox:n}=t,r,o;if(!t.sourceView)n.y>e[1].y?r="bottom":r="top";else if(o=t.sourceView.model.angle(),i.rotate&&o){let l=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),c=e[0].clone();c.rotate(n.center(),o),r=l.sideNearestToPoint(c)}else r=n.sideNearestToPoint(e[0]);let s;return r==="top"?s=new L(0,-1):s=new L(0,1),i.rotate&&o&&s.rotate(null,-o),s}function x1(t,e,i){let{targetBBox:n}=t,r,o;if(!t.targetView)n.y>e[e.length-2].y?r="top":r="bottom";else if(o=t.targetView.model.angle(),i.rotate&&o){let l=t.targetView.getNodeUnrotatedBBox(t.targetView.el),c=e[e.length-1].clone();c.rotate(n.center(),o),r=l.sideNearestToPoint(c)}else r=n.sideNearestToPoint(e[e.length-1]);let s;return r==="top"?s=new L(0,-1):s=new L(0,1),i.rotate&&o&&s.rotate(null,-o),s}function fC(t,e,i){let{sourceBBox:n}=t,r,o;if(!t.sourceView)r=n.sideNearestToPoint(e[1]);else if(o=t.sourceView.model.angle(),i.rotate&&o){let l=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),c=e[0].clone();c.rotate(n.center(),o),r=l.sideNearestToPoint(c)}else r=n.sideNearestToPoint(e[0]);let s;switch(r){case"top":s=new L(0,-1);break;case"bottom":s=new L(0,1);break;case"right":s=new L(1,0);break;case"left":s=new L(-1,0);break}return i.rotate&&o&&s.rotate(null,-o),s}function dC(t,e,i){let{targetBBox:n}=t,r,o;if(!t.targetView)r=n.sideNearestToPoint(e[e.length-2]);else if(o=t.targetView.model.angle(),i.rotate&&o){let l=t.targetView.getNodeUnrotatedBBox(t.targetView.el),c=e[e.length-1].clone();c.rotate(n.center(),o),r=l.sideNearestToPoint(c)}else r=n.sideNearestToPoint(e[e.length-1]);let s;switch(r){case"top":s=new L(0,-1);break;case"bottom":s=new L(0,1);break;case"right":s=new L(1,0);break;case"left":s=new L(-1,0);break}return i.rotate&&o&&s.rotate(null,-o),s}function hC(t,e,i){return e[1].difference(e[0]).normalize()}function gC(t,e,i){let n=e.length-1;return e[n-1].difference(e[n]).normalize()}function pC(t,e,i){let{sourceBBox:n}=t,r=n.center();return e[0].difference(r).normalize()}function mC(t,e,i){let{targetBBox:n}=t,r=n.center();return e[e.length-1].difference(r).normalize()}function S1(t,e,i,n){if(n.sourceDirection)switch(n.sourceDirection){case Wi.UP:return new L(0,-1);case Wi.DOWN:return new L(0,1);case Wi.LEFT:return new L(-1,0);case Wi.RIGHT:return new L(1,0);case Wi.AUTO:return fC(t,e,n);case Wi.CLOSEST_POINT:return hC(t,e,n);case Wi.OUTWARDS:return pC(t,e,n);default:return n.sourceDirection}switch(i){case Sn.HORIZONTAL:return b1(t,e,n);case Sn.VERTICAL:return w1(t,e,n);case Sn.CLOSEST_POINT:return hC(t,e,n);case Sn.OUTWARDS:return pC(t,e,n);case Sn.AUTO:default:return fC(t,e,n)}}function _1(t,e,i,n){if(n.targetDirection)switch(n.targetDirection){case Wi.UP:return new L(0,-1);case Wi.DOWN:return new L(0,1);case Wi.LEFT:return new L(-1,0);case Wi.RIGHT:return new L(1,0);case Wi.AUTO:return dC(t,e,n);case Wi.CLOSEST_POINT:return gC(t,e,n);case Wi.OUTWARDS:return mC(t,e,n);default:return n.targetDirection}switch(i){case Sn.HORIZONTAL:return A1(t,e,n);case Sn.VERTICAL:return x1(t,e,n);case Sn.CLOSEST_POINT:return gC(t,e,n);case Sn.OUTWARDS:return mC(t,e,n);case Sn.AUTO:default:return dC(t,e,n)}}function M1(t,e){let i=Math.cos(e),n=Math.sin(e),r=i*t.x-n*t.y,o=n*t.x+i*t.y;t.x=r,t.y=o}function $g(t,e){let i=t.dot(e)/(t.magnitude()*e.magnitude());return i<-1&&(i=-1),i>1&&(i=1),Math.acos(i)}function vC(t,e){return t.x*e.y-t.y*e.x}function N1(t,e,i,n){let{tau:r,coeff:o}=n,s=[],l=[],c=[],d=t.length-1;for(let h=0;h<d;h++)s[h]=t[h].distance(t[h+1]);l[0]=e,l[d]=i;for(let h=1;h<d;h++){let f,y;h===1?f=t[h-1].clone().offset(l[h-1].x,l[h-1].y):f=t[h-1].clone(),h===d-1?y=t[h+1].clone().offset(l[h+1].x,l[h+1].y):y=t[h+1].clone();let w=f.difference(t[h]).normalize(),x=y.difference(t[h]).normalize(),N=$g(w,x),T=(Math.PI-N)/2,E,Y=vC(w,x),K;K=vC(t[h].difference(t[h+1]),t[h].difference(t[h-1])),Y<0&&(T=-T),N<Math.PI/2&&(T<0&&K<0||T>0&&K>0)&&(T=T-Math.PI),E=x.clone(),M1(E,T);let et=E.clone(),lt=E.clone(),p=s[h-1]*o,v=s[h]*o;et.scale(p,p),lt.scale(v,v),l[h]=[et,lt]}for(let h=0;h<d;h++){let f,y;h===0?f=t[h+1].difference(l[h].x/r,l[h].y/r):f=t[h+1].difference(l[h][1].x/r,l[h][1].y/r),h===d-1?y=t[h].clone().offset(l[h+1].x/r,l[h+1].y/r):y=t[h].difference(l[h+1][0].x/r,l[h+1][0].y/r),c[h]=[f,t[h],t[h+1],y]}return c}function T1(t,e){let{tau:i}=e,n=new L;n.x=t[1].x+(t[2].x-t[0].x)/(6*i),n.y=t[1].y+(t[2].y-t[0].y)/(6*i);let r=new L;return r.x=t[2].x+(t[3].x-t[1].x)/(6*i),r.y=t[2].y+(t[3].y-t[1].y)/(6*i),new ce(t[1],n,r,t[2])}var Rs=Yn(Er(),1),Gt={TOOLS:Xt.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},_o=Xt.extend({className:function(){var t=Xt.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Xt.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Gt.RENDER],attrs:[Gt.UPDATE],router:[Gt.UPDATE],connector:[Gt.CONNECTOR],smooth:[Gt.UPDATE],manhattan:[Gt.UPDATE],toolMarkup:[Gt.LEGACY_TOOLS],labels:[Gt.LABELS],labelMarkup:[Gt.LABELS],vertices:[Gt.VERTICES,Gt.UPDATE],vertexMarkup:[Gt.VERTICES],source:[Gt.SOURCE,Gt.UPDATE],target:[Gt.TARGET,Gt.UPDATE]},initFlag:[Gt.RENDER,Gt.SOURCE,Gt.TARGET,Gt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(t,e){if(e||(e={}),this.hasFlag(t,Gt.SOURCE)){if(!this.updateEndProperties("source"))return t;t=this.removeFlag(t,Gt.SOURCE)}if(this.hasFlag(t,Gt.TARGET)){if(!this.updateEndProperties("target"))return t;t=this.removeFlag(t,Gt.TARGET)}let{paper:i,sourceView:n,targetView:r}=this;if(i&&(n&&!i.isViewMounted(n)||r&&!i.isViewMounted(r)))return t;if(this.hasFlag(t,Gt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(e),t=this.removeFlag(t,[Gt.RENDER,Gt.UPDATE,Gt.VERTICES,Gt.LABELS,Gt.TOOLS,Gt.LEGACY_TOOLS,Gt.CONNECTOR]),t;let o=!1;this.hasFlag(t,Gt.VERTICES)&&(this.renderVertexMarkers(),t=this.removeFlag(t,Gt.VERTICES));let{model:s}=this,{attributes:l}=s,c=this.hasFlag(t,Gt.LABELS),d=this.hasFlag(t,Gt.LEGACY_TOOLS);c&&(this.onLabelsChange(s,l.labels,e),t=this.removeFlag(t,Gt.LABELS),o=!0),d&&(this.renderTools(),t=this.removeFlag(t,Gt.LEGACY_TOOLS));let h=this.hasFlag(t,Gt.UPDATE),f=this.hasFlag(t,Gt.CONNECTOR);return(h||f)&&(h?e.translateBy&&s.isRelationshipEmbeddedIn(e.translateBy)?this.translate(e.tx,e.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(e),t=this.removeFlag(t,[Gt.UPDATE,Gt.TOOLS,Gt.CONNECTOR]),c=!1,d=!1,o=!0),c&&this.updateLabelPositions(),d&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(t,Gt.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,Gt.TOOLS)),t},requestConnectionUpdate:function(t){this.requestUpdate(this.getFlag(Gt.UPDATE),t)},isLabelsRenderRequired:function(t={}){let e=this.model.previous("labels");if(!e)return!0;if("propertyPathArray"in t&&"propertyValue"in t){var i=t.propertyPathArray||[],n=i.length;if(n>1){var r=!!e[i[1]];if(r){if(n===2)return"markup"in Object(t.propertyValue);if(i[2]!=="markup")return!1}}}return!0},onLabelsChange:function(t,e,i){this.isLabelsRenderRequired(i)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.LinkView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el);this.selectors=e.selectors,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=it(t);Array.isArray(e)||(e=[e]);for(var i=this._V,n=0,r=e.length;n<r;n++){var o=e[n],s=o.attr("class");s&&(s=mI(s),i[Rs.default.camelCase(s)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e)},_getLabelMarkup:function(t){if(t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if(typeof t=="string")return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=it(t),i=document.createDocumentFragment();if(!Array.isArray(e))i.appendChild(e.node);else for(var n=0,r=e.length;n<r;n++){var o=e[n].node;i.appendChild(o)}return{fragment:i,selectors:{}}},_normalizeLabelMarkup:function(t){if(t){var e=t.fragment;if(!(t.fragment instanceof DocumentFragment)||!t.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var i,n=e.childNodes;return n.length>1||n[0].nodeName.toUpperCase()!=="G"?i=it("g").append(e):i=it(n[0]),i.addClass("label"),{node:i.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,i=this._labelCache={},n=this._labelSelectors={},r=this.model,o=r.attributes.labels||[],s=o.length;if(s===0)return e&&e.remove(),this;e?e.empty():(e=t.labels=it("g").addClass("labels"),this.options.labelsLayer&&(e.addClass(vi(Ne(this,"className"))),e.attr("model-id",r.id)));for(var l=0;l<s;l++){var c=o[l],d=this._normalizeLabelMarkup(this._getLabelMarkup(c.markup)),h,f;if(d)h=d.node,f=d.selectors;else{var y=r._builtins.defaultLabel,w=this._normalizeLabelMarkup(this._getLabelMarkup(y.markup)),x=r._getDefaultLabel(),N=this._normalizeLabelMarkup(this._getLabelMarkup(x.markup)),T=N||w;h=T.node,f=T.selectors}h.setAttribute("label-idx",l),e.append(h),i[l]=h;var E=this.selector;if(f[E])throw new Error("dia.LinkView: ambiguous label root selector.");f[E]=h,n[l]=f}return e.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){let{el:t,paper:e,model:i,_V:n,options:r}=this,{labels:o}=n;if(!o||!i.hasLabels())return;let{node:s}=o;r.labelsLayer?e.getLayerView(r.labelsLayer).insertSortedNode(s,i.get("z")):s.parentNode!==t&&t.appendChild(s)},unmountLabels:function(){let{options:t,_V:e}=this;if(!e)return;let{labels:i}=e;i&&t.labelsLayer&&i.remove()},findLabelNode:function(t,e){let i=this._labelCache[t];if(!i)return null;let n=this._labelSelectors[t],[r=null]=this.findBySelector(e,i,n);return r},_mergeLabelAttrs:function(t,e,i,n){return e===null?null:e===void 0?i===null?null:i===void 0?t?void 0:n:t?i:ke({},n,i):t?ke({},i,e):ke({},n,i,e)},_mergeLabelSize:function(t,e){return t===null?null:t===void 0?e===null?null:e===void 0?void 0:e:ke({},e,t)},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model,e=t.get("labels")||[],i=this.can("labelMove"),n=t._builtins.defaultLabel,r=n.attrs,o=t._getDefaultLabel(),s=o.markup,l=o.attrs,c=o.size,d=0,h=e.length;d<h;d++){var f=this._labelCache[d];f.setAttribute("cursor",i?"move":"default");var y=this._labelSelectors[d],w=e[d],x=w.markup,N=w.attrs,T=w.size,E=this._mergeLabelAttrs(x||s,N,l,r),Y=this._mergeLabelSize(T,c);this.updateDOMSubtreeAttributes(f,E,{rootBBox:new gt(Y),selectors:y})}return this},renderTools:function(){if(!this._V.linkTools)return this;var t=(0,Rs.default)(this._V.linkTools.node).empty(),e=_i(this.model.get("toolMarkup")||this.model.toolMarkup),i=it(e());if(t.append(i.node),this._toolCache=i,this.options.doubleLinkTools){var n;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(e=_i(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),n=it(e())):n=i.clone(),t.append(n.node),this._tool2Cache=n}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=(0,Rs.default)(this._V.markerVertices.node).empty(),e=_i(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(i,n){t.append(it(e(wt({idx:n},i))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=(0,Rs.default)(this._V.markerArrowheads.node);t.empty();var e=_i(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=it(e({end:"source"})),this._V.targetArrowhead=it(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(t){let i=this.model,n=i.vertices(),r=[this.sourceAnchor,...n,this.targetAnchor],o=r.length,s=new le(r);s.simplify({threshold:.001});let l=s.points.map(d=>d.toJSON()),c=l.length;return o===c?0:(i.vertices(l.slice(1,c-1),t),o-c)},updateDefaultConnectionPath:function(){var t=this._V;t.connection&&t.connection.attr("d",this.getSerializedConnection()),t.connectionWrap&&t.connectionWrap.attr("d",this.getSerializedConnection()),t.markerSource&&t.markerTarget&&this._translateAndAutoOrientArrows(t.markerSource,t.markerTarget)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new L(this.sourceAnchor);case"target":return new L(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(t){switch(t){case"source":return new L(this.sourcePoint);case"target":return new L(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":var i=this.targetView;if(!i)break;return this.targetMagnet||i.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(t=0,e=0){let{route:i,path:n}=this;if(!i||!n)return;let r=new le(i);r.translate(t,e),this.route=r.points,this._translateConnectionPoints(t,e),n.translate(t,e),this.updateDOM()},updateDOM(){let{el:t,model:e,selectors:i}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(t,e.attr(),{selectors:i}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){let{model:t}=this,e=t.vertices(),i=this.findAnchors(e),n=this.sourceAnchor=i.source,r=this.targetAnchor=i.target,o=this.findRoute(e);this.route=o;var s=this.findConnectionPoints(o,n,r);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){let{route:t,sourcePoint:e,targetPoint:i}=this,n=this.findMarkerPoints(t,e,i),r=this.findPath(t,n.source||e,n.target||i);this.path=r},findMarkerPoints:function(t,e,i){var n=t[0],r=t[t.length-1],o=this._markerCache,s,l;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),s=L(e).move(n||i,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),l=L(i).move(r||e,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=s||e.clone(),o.targetPoint=l||i.clone(),{source:s,target:l}},findAnchorsOrdered:function(t,e,i,n){var r,o,s,l,c=this.model,d=c.get(t),h=c.get(i),f=this.getEndView(t),y=this.getEndView(i),w=this.getEndMagnet(t),x=this.getEndMagnet(i);f?(e?s=new L(e):y?s=x:s=new L(h),r=this.getAnchor(d.anchor,f,w,s,t)):r=new L(d),y?(l=new L(n||r),o=this.getAnchor(h.anchor,y,x,l,i)):o=new L(h);var N={};return N[t]=r,N[i]=o,N},findAnchors:function(t){var e=this.model,i=t[0],n=t[t.length-1];return e.target().priority&&!e.source().priority?this.findAnchorsOrdered("target",n,"source",i):this.findAnchorsOrdered("source",i,"target",n)},findConnectionPoints:function(t,e,i){var n=t[0],r=t[t.length-1],o=this.model,s=o.get("source"),l=o.get("target"),c=this.sourceView,d=this.targetView,h=this.paper.options,f,y,w;if(c&&!c.isNodeConnection(this.sourceMagnet)){f=this.sourceMagnet||c.el;var x=s.connectionPoint||h.defaultConnectionPoint,N=n||i,T=new It(N,e);w=this.getConnectionPoint(x,c,f,T,"source")}else w=e;var E;if(d&&!d.isNodeConnection(this.targetMagnet)){y=this.targetMagnet||d.el;var Y=l.connectionPoint||h.defaultConnectionPoint,K=r||e,et=new It(K,i);E=this.getConnectionPoint(Y,d,y,et,"target")}else E=i;return{source:w,target:E}},getAnchor:function(t,e,i,n,r){var o=e.isNodeConnection(i),s=this.paper.options;if(t||(o?t=s.defaultLinkAnchor:s.perpendicularLinks||this.options.perpendicular?t={name:"perpendicular"}:t=s.defaultAnchor),!t)throw new Error("Anchor required.");var l;if(typeof t=="function")l=t;else{var c=t.name,d=o?"linkAnchorNamespace":"anchorNamespace";if(l=s[d][c],typeof l!="function")throw new Error("Unknown anchor: "+c)}var h=l.call(this,e,i,n,t.args||{},r,this);return h?h.round(this.decimalsRounding):new L},getConnectionPoint:function(t,e,i,n,r){var o,s=n.end,l=this.paper.options;if(typeof l.linkConnectionPoint=="function"){var c=i===e.el?void 0:i;if(o=l.linkConnectionPoint(this,e,c,n.start,r),o)return o}if(!t)return s;var d;if(typeof t=="function")d=t;else{var h=t.name;if(d=l.connectionPointNamespace[h],typeof d!="function")throw new Error("Unknown connection point: "+h)}return o=d.call(this,n,e,i,t.args||{},r,this),o?o.round(this.decimalsRounding):s},_translateConnectionPoints:function(t,e){var i=this._markerCache;i.sourcePoint.offset(t,e),i.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e)},_getDefaultLabelPositionProperty:function(){var t=this.model,e=t._builtins.defaultLabel,i=e.position,n=t._getDefaultLabel(),r=this._normalizeLabelPosition(n.position);return ke({},i,r)},_normalizeLabelPosition:function(t){return typeof t=="number"?{distance:t,offset:null,angle:0,args:null}:t},_mergeLabelPositionProperty:function(t,e){return t===null?null:t===void 0?e===null?null:e:ke({},e,t)},updateLabelPositions:function(){if(!this._V.labels)return this;var t=this.path;if(!t)return this;var e=this.model,i=e.get("labels")||[];if(!i.length)return this;for(var n=this._getDefaultLabelPositionProperty(),r=0,o=i.length;r<o;r++){var s=this._labelCache[r];if(s){var l=i[r],c=this._normalizeLabelPosition(l.position),d=this._mergeLabelPositionProperty(c,n),h=this._getLabelTransformationMatrix(d);s.setAttribute("transform",it.matrixToTransformString(h)),this._cleanLabelMatrices(r)}}return this},_cleanLabelMatrices:function(t){let{metrics:e,_labelSelectors:i}=this,n=i[t];if(n)for(let r in n){let{id:o}=n[r];o&&o in e&&delete e[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,i=this.getConnectionLength();if(!Number.isNaN(i)){i<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var n=this.getPointAtLength(e);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+t),this.options.doubleLinkTools&&i>=this.options.longLinkLength){var r=this.options.doubleLinkToolsOffset||e;n=this.getPointAtLength(i-r),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+t),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Rs.default.css(this._V.markerArrowheads.node,"display")==="none")return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(t){let{model:e,paper:i}=this,n=`${t}View`,r=e.get(t),o=r&&r.id;if(!o)return this[n]=null,this.updateEndMagnet(t),!0;let s=i.getModelById(o);if(!s)throw new Error("LinkView: invalid "+t+" cell.");let l=s.findView(i);return l?(this[n]=l,this.updateEndMagnet(t),!0):!1},updateEndMagnet:function(t){let e=`${t}Magnet`,i=this.getEndView(t);if(i){let n=i.getMagnetFromLinkEnd(this.model.get(t));n===i.el&&(n=null),this[e]=n}else this[e]=null},_translateAndAutoOrientArrows:function(t,e){var i=jt(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,i[0]||this.targetPoint,this.paper.cells),e&&e.translateAndAutoOrient(this.targetPoint,i[i.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(t){return this.model.label(t).position||{}},_getLabelPositionAngle:function(t){var e=this._getLabelPositionProperty(t);return e.angle||0},_getLabelPositionArgs:function(t){var e=this._getLabelPositionProperty(t);return e.args},_getDefaultLabelPositionArgs:function(){var t=this.model._getDefaultLabel(),e=t.position||{};return e.args},_mergeLabelPositionArgs:function(t,e){return t===null?null:t===void 0?e===null?null:e:ke({},e,t)},addLabel:function(t,e,i,n){var r,o,s=0,l;typeof t!="number"?(r=t.x,o=t.y,typeof e=="number"?(s=e,l=i):l=e):(r=t,o=e,typeof i=="number"?(s=i,l=n):l=i);var c=this._getDefaultLabelPositionArgs(),d=l,h=this._mergeLabelPositionArgs(d,c),f={position:this.getLabelPosition(r,o,s,h)},y=-1;return this.model.insertLabel(y,f,l),y},addVertex:function(t,e,i){var n=typeof t!="number",r=n?t.x:t,o=n?t.y:e,s=n?e:i,l={x:r,y:o},c=this.getVertexIndex(r,o);return this.model.insertVertex(c,l,s),c},sendToken:function(t,e,i){function n(f,y){return function(){f.remove(),typeof y=="function"&&y()}}var r,o,s;Jt(e)?(r=e.duration,o=e.direction==="reverse",s=e.connection):(r=e,o=!1,s=null),r=r||1e3;var l={dur:r+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(l.keyPoints="1;0",l.keyTimes="0;1");var c=it(t),d;if(typeof s=="string")d=this.findBySelector(s,this.el,this.selectors)[0];else{var h=this._V;d=h.connection?h.connection.node:this.el.querySelector("path")}if(!(d instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");c.appendTo(this.paper.cells).animateAlongPath(l,d),setTimeout(n(c,i),r)},findRoute:function(t){t||(t=[]);var e=this.paper.options.routerNamespace||qu,i=this.model.router(),n=this.paper.options.defaultRouter;if(!i)if(n)i=n;else return t.map(L);var r=ue(i)?i:e[i.name];if(!ue(r))throw new Error('dia.LinkView: unknown router: "'+i.name+'".');var o=i.args||{},s=r.call(this,t,o,this);return s||t.map(L)},findPath:function(t,e,i){var n=this.paper.options.connectorNamespace||ef,r=this.model.connector(),o=this.paper.options.defaultConnector;r||(r=o||{});var s=ue(r)?r:n[r.name];if(!ue(s))throw new Error('dia.LinkView: unknown connector: "'+r.name+'".');var l=gn(r.args||{});l.raw=!0;var c=s.call(this,e,i,t,l,this);return typeof c=="string"&&(c=new _t(it.normalizePathData(c))),c},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;var i=t.serialize();return e.data=i,i},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;var i=t.getSegmentSubdivisions();return e.segmentSubdivisions=i,i},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;var i=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=i,i},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?($e(t)&&(t=parseFloat(t)/100),e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,i,n){var r={},o=0,s;typeof i=="number"?(o=i,s=n):s=i,s&&(r.args=s);var l=!(s&&s.absoluteDistance),c=s&&s.absoluteDistance&&s.reverseDistance,d=s&&s.absoluteOffset,h=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},y=new L(t,e),w=h.closestPointT(y,f),x=h.lengthAtT(w,f);l&&(x=x/this.getConnectionLength()||0),c&&(x=-1*(this.getConnectionLength()-x)||1),r.distance=x;var N;d||(N=h.tangentAtT(w));var T;if(N)T=N.pointOffset(y);else{var E=h.pointAtT(w),Y=y.difference(E);T={x:Y.x,y:Y.y}}return r.offset=T,r.angle=o,r},_getLabelTransformationMatrix:function(t){var e,i=0,n={};if(typeof t=="number")e=t;else if(typeof t.distance=="number")n=t.args||{},e=t.distance,i=t.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var r=e>0&&e<=1,o=0,s={x:0,y:0};if(t.offset){var l=t.offset;typeof l=="number"&&(o=l),l.x&&(s.x=l.x),l.y&&(s.y=l.y)}var c=s.x!==0||s.y!==0||o===0,d=n.keepGradient,h=n.ensureLegibility,f=this.path,y={segmentSubdivisions:this.getConnectionSubdivisions()},w=r?e*this.getConnectionLength():e,x=f.tangentAtLength(w,y),N,T=i;if(x){if(c)N=x.start.clone(),N.offset(s);else{var E=x.clone();E.rotate(x.start,-90),E.setLength(o),N=E.end}d&&(T=x.angle()+i,h&&(T=ri((T+90)%180-90)))}else N=f.start.clone(),c&&N.offset(s);return it.createSVGMatrix().translate(N.x,N.y).rotate(T)},getLabelCoordinates:function(t){var e=this._getLabelTransformationMatrix(t);return new L(e.e,e.f)},getVertexIndex:function(t,e){for(var i=this.model,n=i.vertices(),r=this.getClosestPointLength(new L(t,e)),o=0,s=n.length;o<s;o++){var l=n[o],c=this.getClosestPointLength(l);if(r<c)break}return o},notifyPointerdown(t,e,i){Xt.prototype.pointerdown.call(this,t,e,i),this.notify("link:pointerdown",t,e,i)},notifyPointermove(t,e,i){Xt.prototype.pointermove.call(this,t,e,i),this.notify("link:pointermove",t,e,i)},notifyPointerup(t,e,i){this.notify("link:pointerup",t,e,i),Xt.prototype.pointerup.call(this,t,e,i)},pointerdblclick:function(t,e,i){Xt.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,i)},pointerclick:function(t,e,i){Xt.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,i)},contextmenu:function(t,e,i){Xt.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,i)},pointerdown:function(t,e,i){this.notifyPointerdown(t,e,i);var n=t.target.getAttribute("class");switch(n){case"marker-vertex":this.dragVertexStart(t,e,i);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(t,e,i);return;case"marker-arrowhead":this.dragArrowheadStart(t,e,i);return;case"connection":case"connection-wrap":this.dragConnectionStart(t,e,i);return;case"marker-source":case"marker-target":return}this.dragStart(t,e,i)},pointermove:function(t,e,i){var n=this._dragData;n&&this.eventData(t,n);var r=this.eventData(t);switch(r.action){case"vertex-move":this.dragVertex(t,e,i);break;case"label-move":this.dragLabel(t,e,i);break;case"arrowhead-move":this.dragArrowhead(t,e,i);break;case"move":this.drag(t,e,i);break}n&&wt(n,this.eventData(t)),this.notifyPointermove(t,e,i)},pointerup:function(t,e,i){var n=this._dragData;n&&(this.eventData(t,n),this._dragData=null);var r=this.eventData(t);switch(r.action){case"vertex-move":this.dragVertexEnd(t,e,i);break;case"label-move":this.dragLabelEnd(t,e,i);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,i);break;case"move":this.dragEnd(t,e,i)}this.notifyPointerup(t,e,i),this.checkMouseleave(t)},mouseover:function(t){Xt.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){Xt.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){Xt.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){Xt.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,i,n){Xt.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,i,n)},onevent:function(t,e,i,n){var r=it(t.target).findParentByClass("link-tool",this.el);if(r){if(t.stopPropagation(),this.can("useLinkTools"))if(e==="remove"){this.model.remove({ui:!0});return}else this.notify(e,t,i,n);this.notifyPointerdown(t,i,n),this.paper.delegateDragEvents(this,t.data)}else Xt.prototype.onevent.apply(this,arguments)},onlabel:function(t,e,i){this.notifyPointerdown(t,e,i),this.dragLabelStart(t,e,i);var n=this.eventData(t).stopPropagation;n&&t.stopPropagation()},dragConnectionStart:function(t,e,i){if(this.can("vertexAdd")){var n=this.addVertex({x:e,y:i},{ui:!0});this.eventData(t,{action:"vertex-move",vertexIdx:n})}},dragLabelStart:function(t,e,i){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(t))return;var n=t.currentTarget,r=parseInt(n.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(r)),l=this._mergeLabelPositionProperty(s,o),c=this.getLabelCoordinates(l),d=c.x-e,h=c.y-i,f=this._getLabelPositionAngle(r),y=this._getLabelPositionArgs(r),w=this._getDefaultLabelPositionArgs(),x=this._mergeLabelPositionArgs(y,w);this.eventData(t,{action:"label-move",labelIdx:r,dx:d,dy:h,positionAngle:f,positionArgs:x,stopPropagation:!0})}else this.eventData(t,{stopPropagation:!0});this.paper.delegateDragEvents(this,t.data)},dragVertexStart:function(t,e,i){if(this.can("vertexMove")){var n=t.target,r=parseInt(n.getAttribute("idx"),10);this.eventData(t,{action:"vertex-move",vertexIdx:r})}},dragVertexRemoveStart:function(t,e,i){if(this.can("vertexRemove")){var n=t.target,r=parseInt(n.getAttribute("idx"),10);this.model.removeVertex(r)}},dragArrowheadStart:function(t,e,i){if(this.can("arrowheadMove")){var n=t.target,r=n.getAttribute("end"),o=this.startArrowheadMove(r,{ignoreBackwardsCompatibility:!0});this.eventData(t,o)}},dragStart:function(t,e,i){this.isDefaultInteractionPrevented(t)||this.can("linkMove")&&this.eventData(t,{action:"move",dx:e,dy:i})},dragLabel:function(t,e,i){var n=this.eventData(t),r={position:this.getLabelPosition(e+n.dx,i+n.dy,n.positionAngle,n.positionArgs)};this.paper.options.snapLabels&&delete r.position.offset;let o={ui:!0};this.paper.isAsync()&&t.type==="touchmove"&&(o.async=!1),this.model.label(n.labelIdx,r,o)},dragVertex:function(t,e,i){var n=this.eventData(t);this.model.vertex(n.vertexIdx,{x:e,y:i},{ui:!0})},dragArrowhead:function(t,e,i){this.paper.options.snapLinks?!this._snapArrowhead(t,e,i)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(t,e,i):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(t,e,i):this._connectArrowhead(this.getEventTarget(t),e,i,this.eventData(t))},drag:function(t,e,i){var n=this.eventData(t);this.model.translate(e-n.dx,i-n.dy,{ui:!0}),this.eventData(t,{dx:e,dy:i})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(t,e,i){var n=this.eventData(t),r=this.paper;r.options.snapLinks?this._snapArrowheadEnd(n):this._connectArrowheadEnd(n,e,i),r.linkAllowed(this)?(this._finishEmbedding(n),this._notifyConnectEvent(n,t)):this._disallow(n),this._afterArrowheadMove(n)},dragEnd:function(){},_disallow:function(t){t.whenNotAllowed==="remove"?this.model.remove({ui:!0}):this.model.set(t.arrowhead,t.initialEnd,{ui:!0})},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var i=t.arrowhead,n=t.initialEnd,r=this.model.prop(i),o=r&&!we.endsEqual(n,r);if(o){var s=this.paper;n.id&&this.notify("link:disconnect",e,s.findViewByModel(n.id),t.initialMagnet,i),r.id&&this.notify("link:connect",e,s.findViewByModel(r.id),t.magnetUnderPointer,i)}},_snapToPoints:function(t,e,i){let n=null,r=1/0,o=null,s=1/0,l=t.x,c=t.y;for(let d=0;d<e.length;d++){let h=Math.abs(e[d].x-t.x);h<r&&(r=h,n=e[d]);let f=Math.abs(e[d].y-t.y);f<s&&(s=f,o=e[d])}return r<i&&(l=n.x),s<i&&(c=o.y),{x:l,y:c}},_snapArrowheadSelf:function(t,e,i){let{paper:n,model:r}=this,{snapLinksSelf:o}=n.options,s=this.eventData(t),l=o.radius||20,c=this.getEndAnchor(s.arrowhead==="source"?"target":"source"),d=r.vertices(),h=[c,...d],f=this._snapToPoints({x:e,y:i},h,l),y=n.localToClientPoint(f);this._connectArrowhead(document.elementFromPoint(y.x,y.y),f.x,f.y,this.eventData(t))},_snapArrowhead:function(t,e,i){let{paper:n}=this,{snapLinks:r,connectionStrategy:o}=n.options,s=this.eventData(t),l=!1;var c=r.radius||50,d=n.findViewsInArea({x:e-c,y:i-c,width:2*c,height:2*c}),h=s.closestView||null,f=s.closestMagnet||null,y=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var w=Number.MAX_VALUE,x=new L(e,i);d.forEach(function(lt){let p=[];lt.el.getAttribute("magnet")!=="false"&&p.push({bbox:lt.model.getBBox(),magnet:lt.el}),lt.$("[magnet]").toArray().forEach(v=>{p.push({bbox:lt.getNodeBBox(v),magnet:v})}),p.forEach(v=>{let{magnet:A,bbox:_}=v,D=_.center().squaredDistance(x);D<w&&(f===A||n.options.validateConnection.apply(n,s.validateConnectionArgs(lt,lt.el===A?null:A)))&&(w=D,s.closestView=lt,s.closestMagnet=A)})},this);var N,T=null,E=s.closestView,Y=s.closestMagnet;Y&&(T=s.magnetProxy=E.findProxyNode(Y,"highlighter"));var K=s.arrowhead,et=f!==Y;if(h&&et&&h.unhighlight(y,{connecting:!0,snapping:!0}),E){let{prevEnd:lt,prevX:p,prevY:v}=s;if(s.prevX=e,s.prevY=i,l=!0,!et&&(typeof o!="function"||p===e&&v===i)||(N=E.getLinkEnd(Y,e,i,this.model,K),!et&&qn(lt,N)))return l;s.prevEnd=N,et&&E.highlight(T,{connecting:!0,snapping:!0})}else N={x:e,y:i};return this.model.set(K,N||{x:e,y:i},{ui:!0}),h&&this.notify("link:snap:disconnect",t,h,f,K),E&&this.notify("link:snap:connect",t,E,Y,K),l},_snapArrowheadEnd:function(t){var e=t.closestView,i=t.closestMagnet;e&&i&&(e.unhighlight(t.magnetProxy,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(i)),t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,i,n){let{paper:r,model:o}=this;if(n.eventTarget!==t){n.magnetProxy&&n.viewUnderPointer.unhighlight(n.magnetProxy,{connecting:!0});let s=n.viewUnderPointer=r.findView(t);if(s){let l=n.magnetUnderPointer=s.findMagnet(t),c=n.magnetProxy=s.findProxyNode(l,"highlighter");l&&this.paper.options.validateConnection.apply(r,n.validateConnectionArgs(s,l))?c&&s.highlight(c,{connecting:!0}):(n.magnetUnderPointer=null,n.magnetProxy=null)}else n.magnetUnderPointer=null,n.magnetProxy=null}n.eventTarget=t,o.set(n.arrowhead,{x:e,y:i},{ui:!0})},_connectArrowheadEnd:function(t={},e,i){let{model:n}=this,{viewUnderPointer:r,magnetUnderPointer:o,magnetProxy:s,arrowhead:l}=t;if(!o||!s||!r)return;r.unhighlight(s,{connecting:!0});let c=r.getLinkEnd(o,e,i,n,l);n.set(l,c,{ui:!0})},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront();var e=this.el.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){t.z!==null&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents=t.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var e=[];e[4]=t,e[5]=this;var i,n=0,r=0;t==="source"?(n=2,i="target"):(r=2,i="source");var o=this.model.get(i);if(o.id){var s=e[n]=this.paper.findViewByModel(o.id),l=s.getMagnetFromLinkEnd(o);l===s.el&&(l=void 0),e[n+1]=l}function c(d,h){return e[r]=d,e[r+1]=d.el===h?void 0:h,e}return c},_markAvailableMagnets:function(t){function e(f,y){var w=f.paper,x=w.options.validateConnection;return x.apply(w,this.validateConnectionArgs(f,y))}var i=this.paper,n=i.model.getCells();t.marked={};for(var r=0,o=n.length;r<o;r++){var s=n[r].findView(i);if(s){var l=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));s.el.getAttribute("magnet")!=="false"&&l.push(s.el);var c=l.filter(e.bind(t,s));if(c.length>0){for(var d=0,h=c.length;d<h;d++)s.highlight(c[d],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),t.marked[s.model.id]=c}}}},_unmarkAvailableMagnets:function(t){for(var e=Object.keys(t.marked),i,n,r=0,o=e.length;r<o;r++){i=e[r],n=t.marked[i];var s=this.paper.findViewByModel(i);if(s){for(var l=0,c=n.length;l<c;l++)s.unhighlight(n[l],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){e||(e={});var i={action:"arrowhead-move",arrowhead:t,whenNotAllowed:e.whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:gn(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(i),e.ignoreBackwardsCompatibility!==!0&&(this._dragData=i),i},onMount:function(){Xt.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){Xt.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){Xt.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:Gt});Object.defineProperty(_o.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView;if(!t){var e=this.model.source();return new gt(e.x,e.y)}var i=this.sourceMagnet;return t.isNodeConnection(i)?new gt(this.sourceAnchor):t.getNodeBBox(i||t.el)}});Object.defineProperty(_o.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView;if(!t){var e=this.model.target();return new gt(e.x,e.y)}var i=this.targetMagnet;return t.isNodeConnection(i)?new gt(this.targetAnchor):t.getNodeBBox(i||t.el)}});var nf={};Fe(nf,{addClass:()=>O1,list:()=>L1,mask:()=>k1,opacity:()=>E1,stroke:()=>D1});var D1=li.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(t,e){let{options:i}=this,{useFirstSubpath:n}=i,r;try{let o=it(e);if(r=o.convertToPathData().trim(),o.tagName()==="PATH"&&n){let s=r.search(/.M/i)+1;s>0&&(r=r.substr(0,s))}}catch{let s=t.getNodeBoundingRect(e);r=it.rectToPath(wt({},i,s.toJSON()))}return r},highlightConnection(t){this.vel.attr("d",t.getSerializedConnection())},highlightNode(t,e){let{vel:i,options:n}=this,{padding:r,layer:o}=n,s=this.getNodeMatrix(t,e);if(r){!o&&e===t.el&&i.remove();let l=t.getNodeBoundingRect(e),c=l.x+l.width/2,d=l.y+l.height/2;l=it.transformRect(l,s);let h=Math.max(l.width,1),f=Math.max(l.height,1),y=(h+r)/h,w=(f+r)/f,x=it.createSVGMatrix({a:y,b:0,c:0,d:w,e:c-y*c,f:d-w*d});s=s.multiply(x)}i.attr({d:this.getPathData(t,e),transform:it.matrixToTransformString(s)})},highlight(t,e){let{vel:i,options:n}=this;i.attr(n.attrs),t.isNodeConnection(e)?this.highlightConnection(t):this.highlightNode(t,e)}});var yC=20;function P1(t,e){let i=t.children();for(;i.length>0;){let n=i.shift();e(n)&&i.push(...n.children())}}var k1=li.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:yC,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(t,e){let{MASK_CHILD_ATTRIBUTE_BLACKLIST:i,MASK_REPLACE_TAGS:n,MASK_REMOVE_TAGS:r}=this,o=e.tagName();if(!it.isSVGGraphicsElement(e)||r.includes(o))return e.remove(),!1;if(n.includes(o)){let s=t.vel.findOne(`#${e.id}`);if(s){let{node:l}=s,c=t.getNodeBoundingRect(l);t.model.isElement()&&(c=it.transformRect(c,t.getNodeMatrix(l)));let d=it("rect",c.toJSON()),{x:h,y:f}=c.center(),{angle:y,cx:w=h,cy:x=f}=s.rotate();y&&d.rotate(y,w,x),e.parent().append(d)}return e.remove(),!1}return i.forEach(s=>{s==="fill"&&e.attr("fill")==="none"||e.removeAttr(s)}),!0},transformMaskRoot(t,e){let{MASK_ROOT_ATTRIBUTE_BLACKLIST:i}=this;i.forEach(n=>{e.removeAttr(n)})},getMaskShape(t,e){let{options:i,MASK_REPLACE_TAGS:n}=this,{deep:r}=i,o=e.tagName(),s;if(o==="G"){if(!r)return null;s=e.clone(),P1(s,l=>this.transformMaskChild(t,l))}else{if(n.includes(o))return null;s=e.clone()}return this.transformMaskRoot(t,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(t,e){let{VISIBLE:i,INVISIBLE:n,options:r}=this,{padding:o,attrs:s}=r,l="stroke-width"in s?s["stroke-width"]:1,c=e.attr("fill")!=="none",d=parseFloat(e.attr("stroke-width"));isNaN(d)&&(d=1);let h=d+o*2,f=h+l*2,y=this.getMaskShape(t,e);if(!y){let w=t.getNodeBoundingRect(e.node);w.inflate(w.width?0:.5,w.height?0:.5),y=it("rect",w.toJSON())}return y.attr(s),it("mask",{id:this.getMaskId()}).append([y.clone().attr({fill:c?i:"none",stroke:i,"stroke-width":f}),y.clone().attr({fill:c?n:"none",stroke:n,"stroke-width":h})])},removeMask(t){let e=t.svg.getElementById(this.getMaskId());e&&t.defs.removeChild(e)},addMask(t,e){t.defs.appendChild(e.node)},highlight(t,e){let{options:i,vel:n}=this,{padding:r,attrs:o,maskClip:s=yC,layer:l}=i,c="stroke"in o?o.stroke:"#000000";!l&&e===t.el&&n.remove();let d=t.getNodeBoundingRect(e).inflate(r+s),h=this.getNodeMatrix(t,e),f=this.getMask(t,it(e));this.addMask(t.paper,f),n.attr(d.toJSON()),n.attr({transform:it.matrixToTransformString(h),mask:`url(#${f.id})`,fill:c})},unhighlight(t){this.removeMask(t.paper)}});var E1=li.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:vi("highlight-opacity"),highlight:function(t,e){it(e).addClass(this.opacityClassName)},unhighlight:function(t,e){it(e).removeClass(this.opacityClassName)}});var IC=vi("highlighted"),O1=li.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:IC},highlight:function(t,e){it(e).addClass(this.options.className)},unhighlight:function(t,e){it(e).removeClass(this.options.className)}},{className:IC});var ep={ROW:"row",COLUMN:"column"},L1=li.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(t,e){let i=t.model,{attribute:n,size:r=20,gap:o=5,direction:s=ep.ROW}=this.options;if(!n)throw new Error("List: attribute is required");let l=typeof r=="number"?{width:r,height:r}:r,c=s===ep.ROW,d=c?l.width:l.height,h=i.get(n);Array.isArray(h)||(h=[]);let f=this._prevItems||[],y=h.map((T,E)=>qn(f[E],h[E]));if(f.length!==h.length||y.some(T=>!T)){let T=this.vel.children(),E=h.map((Y,K)=>{let et=K in T?T[K].node:null;if(y[K])return et;let lt=this.createListItem(Y,l,et);if(!lt)return null;if(!(lt instanceof SVGElement))throw new Error("List: item must be an SVGElement");lt.dataset.index=K,lt.dataset.attribute=n;let p=K*(d+o);return lt.setAttribute("transform",c?`translate(${p}, 0)`:`translate(0, ${p})`),lt});this.vel.empty().append(E),this._prevItems=h}let w=h.length,x=w===0?0:w*d+(w-1)*o,N=c?{width:x,height:l.height}:{width:l.width,height:x};this.position(i,N)},position(t,e){let{vel:i,options:n}=this,{margin:r=5,position:o="top-left"}=n,{width:s,height:l}=t.size(),{left:c,right:d,top:h,bottom:f}=mn(r),y=new gt(c,h,s-(c+d),l-(h+f)),{x:w,y:x}=fl(y,o);switch(o){case Je.CENTER:case Je.TOP:case Je.BOTTOM:{w-=e.width/2;break}case Je.RIGHT:case Je.BOTTOM_RIGHT:case Je.TOP_RIGHT:{w-=e.width;break}}switch(o){case Je.CENTER:case Je.RIGHT:case Je.LEFT:{x-=e.height/2;break}case Je.BOTTOM:case Je.BOTTOM_RIGHT:case Je.BOTTOM_LEFT:{x-=e.height;break}}i.attr("transform",`translate(${w}, ${x})`)}},{Directions:ep,Positions:Je});var rf={};Fe(rf,{connectionClosest:()=>bC,connectionLength:()=>j1,connectionPerpendicular:()=>G1,connectionRatio:()=>R1,resolveRef:()=>js});function R1(t,e,i,n){var r="ratio"in n?n.ratio:.5;return t.getPointAtRatio(r)}function j1(t,e,i,n){var r="length"in n?n.length:20;return t.getPointAtLength(r)}function z1(t,e,i,n){var r=1e6,o=t.getConnection(),s=t.getConnectionSubdivisions(),l=new It(i.clone().offset(0,r),i.clone().offset(0,-r)),c=new It(i.clone().offset(r,0),i.clone().offset(-r,0)),d=l.intersect(o,{segmentSubdivisions:s}),h=c.intersect(o,{segmentSubdivisions:s}),f=[];return d&&Array.prototype.push.apply(f,d),h&&Array.prototype.push.apply(f,h),f.length>0?i.chooseClosest(f):"fallbackAt"in n?CC(t,n.fallbackAt):bC(t,e,i,n)}function B1(t,e,i,n){var r=t.getClosestPoint(i);return r||new L}function js(t){return function(e,i,n,r){if(n instanceof Element){var o=this.paper.findView(n),s;if(o)if(o.isNodeConnection(n)){var l="fixedAt"in r?r.fixedAt:"50%";s=CC(o,l)}else s=o.getNodeBBox(n).center();else s=new L;return t.call(this,e,i,s,r)}return t.apply(this,arguments)}}function CC(t,e){var i=parseFloat(e);return $e(e)?t.getPointAtRatio(i/100):t.getPointAtLength(i)}var G1=js(z1),bC=js(B1);var sf={};Fe(sf,{anchor:()=>U1,bbox:()=>X1,boundary:()=>J1,rectangle:()=>H1});function of(t,e,i){if(Ae(i)){let{x:r,y:o}=i;if(isFinite(o)){let s=new It(e,t),{start:l,end:c}=s.parallel(o);e=l,t=c}i=r}if(!isFinite(i))return t;var n=t.distance(e);return i===0&&n>0?t:t.move(e,-Math.min(i,n-1))}function rp(t){var e=t.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function Z1(t,e,i=0){let n,r,o,s,{start:l,end:c}=t;switch(e){case"left":n="x",r=c,o=l,s=-1;break;case"right":n="x",r=l,o=c,s=1;break;case"top":n="y",r=c,o=l,s=-1;break;case"bottom":n="y",r=l,o=c,s=1;break;default:return}l[n]<c[n]?r[n]=o[n]:o[n]=r[n],isFinite(i)&&(r[n]+=s*i,o[n]+=s*i)}function F1(t,e,i,n){let{offset:r,alignOffset:o,align:s}=n;return s&&Z1(t,s,o),of(t.end,t.start,r)}function AC(t,e,i,n){var r=e.getNodeBBox(i);n.stroke&&r.inflate(rp(i)/2);var o=t.intersect(r),s=o?t.start.chooseClosest(o):t.end;return of(s,t.start,n.offset)}function W1(t,e,i,n){var r=e.model.angle();if(r===0)return AC(t,e,i,n);var o=e.getNodeUnrotatedBBox(i);n.stroke&&o.inflate(rp(i)/2);var s=o.center(),l=t.clone().rotate(s,r),c=l.setLength(1e6).intersect(o),d=c?l.start.chooseClosest(c).rotate(s,-r):t.end;return of(d,t.start,n.offset)}function V1(t){if(!t)return null;var e=t;do{var i=e.tagName;if(typeof i!="string")return null;if(i=i.toUpperCase(),i==="G")e=e.firstElementChild;else if(i==="TITLE")e=e.nextElementSibling;else break}while(e);return e}var ip="segmentSubdivisons",np="shapeBBox";function Y1(t,e,i,n){var r,o,s=n.selector,l=t.end;if(typeof s=="string"?r=e.findBySelector(s)[0]:s===!1?r=i:Array.isArray(s)?r=gr(i,s):r=V1(i),!it.isSVGGraphicsElement(r)){if(r===i||!it.isSVGGraphicsElement(i))return l;r=i}var c=e.getNodeShape(r),d=e.getNodeMatrix(r),h=e.getRootTranslateMatrix(),f=e.getRootRotateMatrix(),y=h.multiply(f).multiply(d),w=y.inverse(),x=it.transformLine(t,w),N=x.start.clone(),T=e.getNodeData(r);if(n.insideout===!1){T[np]||(T[np]=c.bbox());var E=T[np];if(E.containsPoint(N))return l}var Y;if(c instanceof _t){var K=n.precision||2;T[ip]||(T[ip]=c.getSegmentSubdivisions({precision:K})),Y={precision:K,segmentSubdivisions:T[ip]}}n.extrapolate===!0&&x.setLength(1e6),o=x.intersect(c,Y),o?it.isArray(o)&&(o=N.chooseClosest(o)):n.sticky===!0&&(c instanceof gt?o=c.pointNearestToPoint(N):c instanceof ii?o=c.intersectionWithLineFromCenterToPoint(N):o=c.closestPoint(N,Y));var et=o?it.transformPoint(o,y):l,lt=n.offset||0;return n.stroke&&(lt+=rp(r)/2),of(et,t.start,lt)}var U1=F1,X1=AC,H1=W1,J1=Y1;var af={};Fe(af,{bottom:()=>eS,bottomLeft:()=>sS,bottomRight:()=>aS,center:()=>$1,left:()=>iS,midSide:()=>cS,modelCenter:()=>uS,perpendicular:()=>lS,right:()=>nS,top:()=>tS,topLeft:()=>rS,topRight:()=>oS});function pr(t){return function(e,i,n,r){var o=!!r.rotate,s=o?e.getNodeUnrotatedBBox(i):e.getNodeBBox(i),l=s[t](),c=r.dx;if(c){var d=$e(c);c=parseFloat(c),isFinite(c)&&(d&&(c/=100,c*=s.width),l.x+=c)}var h=r.dy;if(h){var f=$e(h);h=parseFloat(h),isFinite(h)&&(f&&(h/=100,h*=s.height),l.y+=h)}return o?l.rotate(e.model.getBBox().center(),-e.model.angle()):l}}function Q1(t,e,i,n){var r=t.model.angle(),o=t.getNodeBBox(e),s=o.center(),l=o.origin(),c=o.corner(),d=n.padding;if(isFinite(d)||(d=0),l.y+d<=i.y&&i.y<=c.y-d){var h=i.y-s.y;s.x+=r===0||r===180?0:h*1/Math.tan(Ke(r)),s.y+=h}else if(l.x+d<=i.x&&i.x<=c.x-d){var f=i.x-s.x;s.y+=r===90||r===270?0:f*Math.tan(Ke(r)),s.x+=f}return s}function K1(t,e,i,n){var r=!!n.rotate,o,s,l;r?(o=t.getNodeUnrotatedBBox(e),l=t.model.getBBox().center(),s=t.model.angle()):o=t.getNodeBBox(e);var c=n.padding;isFinite(c)&&o.inflate(c),r&&i.rotate(l,s);var d=o.sideNearestToPoint(i),h;switch(d){case"left":h=o.leftMiddle();break;case"right":h=o.rightMiddle();break;case"top":h=o.topMiddle();break;case"bottom":h=o.bottomMiddle();break}return r?h.rotate(l,-s):h}function q1(t,e,i,n,r){return t.model.getPointFromConnectedLink(this.model,r).offset(n.dx,n.dy)}var $1=pr("center"),tS=pr("topMiddle"),eS=pr("bottomMiddle"),iS=pr("leftMiddle"),nS=pr("rightMiddle"),rS=pr("origin"),oS=pr("topRight"),sS=pr("bottomLeft"),aS=pr("corner"),lS=js(Q1),cS=js(K1),uS=q1;var _n=Yn(Er(),1),_C=Yn(Ya(),1),zs={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},fS=50,wC=20,xC=1e3,dS=1/0,lf=9007199254740991,op=Xt.Highlighting,SC={[op.DEFAULT]:{name:"stroke",options:{padding:3}},[op.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[op.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},hS=[{name:Zi.BACK},{name:Zi.CELLS},{name:Zi.LABELS},{name:Zi.FRONT},{name:Zi.TOOLS}],gS=rn.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Be,linkView:_o,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:SC,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new we,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(t,e,i){return e.getAttribute("magnet")!=="passive"},validateConnection:function(t,e,i,n,r,o){return(r==="target"?i:t)instanceof Be},embeddingMode:!1,validateEmbedding:function(t,e){return!0},validateUnembedding:function(t){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:zs.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(t,e,i,n,r){e&(t.FLAG_INSERT|t.FLAG_REMOVE)||n.mounting||n.isolate||r.requestConnectedLinksUpdate(t,i,n)},onViewPostponed:function(t,e,i){return i.forcePostponedViewUpdate(t,e)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:nf,anchorNamespace:af,linkAnchorNamespace:rf,connectionPointNamespace:sf,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){let{options:t,el:e}=this;t.cellViewNamespace||(t.cellViewNamespace=typeof joint<"u"&&nn(joint,"shapes")?joint.shapes:null);let i=this.model=t.model||new Zu;this._layers={},this.setGrid(t.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=(0,_n.default)(e.ownerDocument),this.resetViews(i.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var t=this.model;this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.onCellRemoved).listenTo(t,"change",this.onCellChange).listenTo(t,"reset",this.onGraphReset).listenTo(t,"sort",this.onGraphSort).listenTo(t,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(t,e,i){var n=i.position;this.isAsync()||!ni(n)?this.renderView(t,i):(i.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(t,i),n===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(t,e,i){let n=this.findViewByModel(t);n&&this.requestViewUpdate(n,n.FLAG_REMOVE,n.UPDATE_PRIORITY,i)},onCellChange:function(t,e){if(t!==this.model.attributes.cells&&t.hasChanged("z")&&this.options.sorting===zs.APPROX){let i=this.findViewByModel(t);i&&this.requestViewUpdate(i,i.FLAG_INSERT,i.UPDATE_PRIORITY,e)}},onGraphReset:function(t,e){this.resetLayers(),this.resetViews(t.models,e)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(t){if(!this.isFrozen()){var e=t&&t.batchName,i=this.model;if(!this.isAsync()){var n=this.UPDATE_DELAYING_BATCHES;n.includes(e)&&!i.hasActiveBatch(n)&&this.updateViews(t)}var r=this.SORT_DELAYING_BATCHES;r.includes(e)&&!i.hasActiveBatch(r)&&this.sortViews()}},cloneOptions:function(){let{options:t}=this,{defaultConnector:e,defaultRouter:i,defaultConnectionPoint:n,defaultAnchor:r,defaultLinkAnchor:o,origin:s,highlighting:l,cellViewNamespace:c,interactive:d}=t;!c&&typeof joint<"u"&&nn(joint,"shapes")&&(t.cellViewNamespace=joint.shapes),ue(e)||(t.defaultConnector=Si(e)),ue(i)||(t.defaultRouter=Si(i)),ue(n)||(t.defaultConnectionPoint=Si(n)),ue(r)||(t.defaultAnchor=Si(r)),ue(o)||(t.defaultLinkAnchor=Si(o)),Ae(d)&&(t.interactive=wt({},d)),Ae(l)&&(t.highlighting=bo({},l,SC)),t.origin=wt({},s)},children:function(){var t=it.namespace;return[{namespaceURI:t.xhtml,tagName:"div",className:vi("paper-background"),selector:"background"},{namespaceURI:t.xhtml,tagName:"div",className:vi("paper-grid"),selector:"grid"},{namespaceURI:t.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":t.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:vi("layers"),selector:"layers"}]}]},hasLayerView(t){return t in this._layers},getLayerView(t){let{_layers:e}=this;if(t in e)return e[t];throw new Error(`dia.Paper: Unknown layer "${t}"`)},getLayerNode(t){return this.getLayerView(t).el},render:function(){this.renderChildren();let{childNodes:t,options:e}=this,{svg:i,defs:n,layers:r,background:o,grid:s}=t;return i.style.overflow=e.overflow?"visible":"hidden",this.svg=i,this.defs=n,this.layers=r,this.$background=(0,_n.default)(o),this.$grid=(0,_n.default)(s),this.renderLayers(),it.ensureId(i),e.background&&this.drawBackground(e.background),e.drawGrid&&this.drawGrid(),this},renderLayers:function(t=hS){this.removeLayers(),t.forEach(({name:r,sorted:o})=>{let s=new Fg({name:r});this.layers.appendChild(s.el),this._layers[r]=s});let e=this.getLayerView(Zi.CELLS),i=this.getLayerView(Zi.TOOLS),n=this.getLayerView(Zi.LABELS);this.tools=i.el,this.cells=this.viewport=e.el,e.vel.addClass(vi("viewport")),n.vel.addClass(vi("viewport"))},removeLayers:function(){let{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].remove(),delete t[e]})},resetLayers:function(){let{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(t){var e=this.layers;if(t===void 0){var i=e.getAttribute("transform");return(this._viewportTransformString||null)===i?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=i),it.createSVGMatrix(t)}t=it.createSVGMatrix(t);var n=it.matrixToTransformString(t);return e.setAttribute("transform",n),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return it.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(t,e,i){if(t instanceof Xt)for(var n=t.model,r=this.model.getConnectedLinks(n),o=0,s=r.length;o<s;o++){var l=r[o],c=this.findViewByModel(l);if(c){var d=["UPDATE"];l.getTargetCell()===n&&d.push("TARGET"),l.getSourceCell()===n&&d.push("SOURCE");var h=Math.max(e+1,c.UPDATE_PRIORITY);this.scheduleViewUpdate(c,c.getFlag(d),h,i)}}},forcePostponedViewUpdate:function(t,e){if(!t||!(t instanceof Xt))return!1;var i=t.model;if(i.isElement())return!1;if((e&t.getFlag(["SOURCE","TARGET"]))===0){var n={silent:!0},r=0,o=this.findViewByModel(i.getSourceCell());o&&!this.isViewMounted(o)&&(r=this.dumpView(o,n),t.updateEndMagnet("source"));var s=0,l=this.findViewByModel(i.getTargetCell());if(l&&!this.isViewMounted(l)&&(s=this.dumpView(l,n),t.updateEndMagnet("target")),r===0&&s===0)return!this.dumpView(t,n)}return!1},requestViewUpdate:function(t,e,i,n){n||(n={}),this.scheduleViewUpdate(t,e,i,n);var r=this.isAsync();if(!(this.isFrozen()||r&&n.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(n);r&&this.notifyAfterRender(o,n)}},scheduleViewUpdate:function(t,e,i,n){let{_updates:r,options:o}=this;r.idle&&o.autoFreeze&&(r.idle=!1,this.unfreeze());let{FLAG_REMOVE:s,FLAG_INSERT:l,UPDATE_PRIORITY:c,cid:d}=t,h=r.priorities[i];if(h||(h=r.priorities[i]={}),i>c)for(let w=i-1;w>=c;w--){let x=r.priorities[w];!x||!(d in x)||(h[d]|=x[d],delete x[d])}let f=h[d]||0;if((f&e)===e)return;f||r.count++,e&s&&f&l?h[d]^=l:e&l&&f&s&&(h[d]^=s),h[d]|=e;let y=o.onViewUpdate;typeof y=="function"&&y.call(this,t,e,i,n||{},this)},dumpViewUpdate:function(t){if(!t)return 0;var e=this._updates,i=t.cid,n=e.priorities[t.UPDATE_PRIORITY],r=this.registerMountedView(t)|n[i];return delete n[i],r},dumpView:function(t,e={}){let i=this.dumpViewUpdate(t);if(!i)return 0;let n=!e.silent;n&&this.notifyBeforeRender(e);let r=this.updateView(t,i,e);if(n){let o={updated:1,priority:t.UPDATE_PRIORITY};this.notifyAfterRender(o,e)}return r},updateView:function(t,e,i){if(!t)return 0;let{FLAG_REMOVE:n,FLAG_INSERT:r,FLAG_INIT:o,model:s}=t;if(t instanceof Xt){if(e&n)return this.removeView(s),0;if(e&r){let l=!!(e&o);l&&(e^=o),this.insertView(t,l),e^=r}}return e?t.confirmUpdate(e,i||{}):0},requireView:function(t,e){var i=this.findViewByModel(t);return i?(this.dumpView(i,e),i):null},registerUnmountedView:function(t){var e=t.cid,i=this._updates;if(e in i.unmounted)return 0;var n=i.unmounted[e]|=t.FLAG_INSERT;return i.unmountedCids.push(e),delete i.mounted[e],n},registerMountedView:function(t){var e=t.cid,i=this._updates;if(e in i.mounted)return 0;i.mounted[e]=!0,i.mountedCids.push(e);var n=i.unmounted[e]||0;return delete i.unmounted[e],n},isViewMounted:function(t){if(!t)return!1;var e=t.cid,i=this._updates;return e in i.mounted},dumpViews:function(t){var e=mi({},t,{viewport:null});this.checkViewport(e),this.updateViews(e)},updateViews:function(t){this.notifyBeforeRender(t);let e,i=0,n=0,r=lf;do n++,e=this.updateViewsBatch(t),i+=e.updated,r=Math.min(e.priority,r);while(!e.empty);let o={updated:i,batches:n,priority:r};return this.notifyAfterRender(o,t),o},hasScheduledUpdates:function(){let t=this._updates.priorities,e=Object.keys(t),i=e.length;for(;i>0&&i--;)for(let n in t[e[i]])return!0;return!1},updateViewsAsync:function(t,e){t||(t={}),e||(e={processed:0,priority:lf});let{_updates:i,options:n}=this,r=i.id;if(r){ll(r),e.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(t);let o=this.updateViewsBatch(t),s=mi({},t,{mountBatchSize:xC-o.mounted,unmountBatchSize:xC-o.unmounted}),l=this.checkViewport(s),c=l.unmounted,d=l.mounted,h=e.processed,f=i.count;o.updated>0?(h+=o.updated+o.unmounted,o.processed=h,e.priority=Math.min(o.priority,e.priority),o.empty&&d===0?(o.unmounted+=c,o.mounted+=d,o.priority=e.priority,this.notifyAfterRender(o,t),e.processed=0,e.priority=lf,i.count=0):e.processed=h):i.idle||n.autoFreeze&&(this.freeze(),i.idle=!0,this.trigger("render:idle",t));let y=t.progress;if(f&&typeof y=="function"&&y.call(this,o.empty,h,f,o,this),i.id!==r)return}if(i.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");i.id=al(this.updateViewsAsync,this,t,e)},notifyBeforeRender:function(t={}){let e=t.beforeRender;typeof e!="function"&&(e=this.options.beforeRender,typeof e!="function")||e.call(this,t,this)},notifyAfterRender:function(t,e={}){let i=e.afterRender;typeof i!="function"&&(i=this.options.afterRender),typeof i=="function"&&i.call(this,t,e,this),this.trigger("render:done",t,e)},updateViewsBatch:function(t){t||(t={});var e=t.batchSize||dS,i=this._updates,n=0,r=0,o=0,s=0,l=lf,c=!0,d=this.options,h=i.priorities,f="viewport"in t?t.viewport:d.viewport;typeof f!="function"&&(f=null);var y=d.onViewPostponed;typeof y!="function"&&(y=null);var w=Object.keys(h);t:for(var x=0,N=w.length;x<N;x++){var T=+w[x],E=h[T];for(var Y in E){if(n>=e){c=!1;break t}var K=Gr[Y];if(!K){delete E[Y];continue}var et=E[Y];if((et&K.FLAG_REMOVE)===0){var lt=Y in i.unmounted;if(K.DETACHABLE&&f&&!f.call(this,K,!lt,this)){lt||(this.registerUnmountedView(K),this.detachView(K)),i.unmounted[Y]|=et,delete E[Y],o++;continue}lt&&(et|=K.FLAG_INSERT,s++),et|=this.registerMountedView(K)}var p=this.updateView(K,et,t);if(p>0&&(E[Y]=p,!y||!y.call(this,K,p,this)||E[Y])){r++,c=!1;continue}l>T&&(l=T),n++,delete E[Y]}}return{priority:l,updated:n,postponed:r,unmounted:o,mounted:s,empty:c}},getUnmountedViews:function(){let t=this._updates,e=Object.keys(t.unmounted),i=e.length,n=new Array(i);for(var r=0;r<i;r++)n[r]=Gr[e[r]];return n},getMountedViews:function(){let t=this._updates,e=Object.keys(t.mounted),i=e.length,n=new Array(i);for(var r=0;r<i;r++)n[r]=Gr[e[r]];return n},checkUnmountedViews:function(t,e){e||(e={});var i=0;typeof t!="function"&&(t=null);for(var n=("mountBatchSize"in e)?e.mountBatchSize:1/0,r=this._updates,o=r.unmountedCids,s=r.unmounted,l=0,c=Math.min(o.length,n);l<c;l++){var d=o[l];if(d in s){var h=Gr[d];if(h){if(h.DETACHABLE&&t&&!t.call(this,h,!1,this)){o.push(d);continue}i++;var f=this.registerMountedView(h);f&&this.scheduleViewUpdate(h,f,h.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,l),i},checkMountedViews:function(t,e){e||(e={});var i=0;if(typeof t!="function")return i;for(var n=("unmountBatchSize"in e)?e.unmountBatchSize:1/0,r=this._updates,o=r.mountedCids,s=r.mounted,l=0,c=Math.min(o.length,n);l<c;l++){var d=o[l];if(d in s){var h=Gr[d];if(h){if(!h.DETACHABLE||t.call(this,h,!0,this)){o.push(d);continue}i++;var f=this.registerUnmountedView(h);f&&this.detachView(h)}}}return o.splice(0,l),i},checkViewVisibility:function(t,e={}){let i="viewport"in e?e.viewport:this.options.viewport;typeof i!="function"&&(i=null);let n=this._updates,{mounted:r,unmounted:o}=n,s=!t.DETACHABLE||!i||i.call(this,t,!1,this),l=!1,c=!1;if(t.cid in r&&!s){this.registerUnmountedView(t)&&this.detachView(t);let f=n.mountedCids.indexOf(t.cid);n.mountedCids.splice(f,1),l=!0}if(!l&&t.cid in o&&s){let h=n.unmountedCids.indexOf(t.cid);n.unmountedCids.splice(h,1);var d=this.registerMountedView(t);d&&this.scheduleViewUpdate(t,d,t.UPDATE_PRIORITY,{mounting:!0}),c=!0}return{mounted:c?1:0,unmounted:l?1:0}},checkViewport:function(t){var e=mi({},t,{mountBatchSize:1/0,unmountBatchSize:1/0}),i="viewport"in e?e.viewport:this.options.viewport,n=this.checkMountedViews(i,e);if(n>0){var r=this._updates.unmountedCids;e.mountBatchSize=Math.min(r.length-n,e.mountBatchSize)}var o=this.checkUnmountedViews(i,e);return{mounted:o,unmounted:n}},freeze:function(t){t||(t={});var e=this._updates,i=t.key,n=this.options.frozen,r=e.freezeKey;if(i&&i!==r){if(n&&r)return;e.freezeKey=i,e.keyFrozen=n}this.options.frozen=!0;var o=e.id;e.id=null,this.isAsync()&&o&&ll(o)},unfreeze:function(t){t||(t={});var e=this._updates,i=t.key,n=e.freezeKey;i&&n&&i!==n||(e.freezeKey=null,!(i&&i===n&&e.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(t)):this.updateViews(t),this.options.frozen=e.keyFrozen=!1,e.sort&&(this.sortViews(),e.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===zs.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var t=this.options,e=t.width,i=t.height;return ni(e)||(e=this.el.clientWidth),ni(i)||(i=this.el.clientHeight),{width:e,height:i}},setDimensions:function(t,e){let{options:i}=this,{width:n,height:r}=i,o=t===void 0?n:t,s=e===void 0?r:e;if(n===o&&r===s)return;i.width=o,i.height=s,this._setDimensions();let l=this.getComputedSize();this.trigger("resize",l.width,l.height)},_setDimensions:function(){let{options:t}=this,e=t.width,i=t.height;ni(e)&&(e=Math.round(e)),ni(i)&&(i=Math.round(i)),this.$el.css({width:e===null?"":e,height:i===null?"":i})},setOrigin:function(t,e){return this.translate(t||0,e||0)},fitToContent:function(t,e,i,n){Jt(t)?n=t:n=wt({gridWidth:t,gridHeight:e,padding:i},n);let{x:r,y:o,width:s,height:l}=this.getFitToContentArea(n),{sx:c,sy:d}=this.scale();return this.setOrigin(-r*c,-o*d),this.setDimensions(s*c,l*d),new gt(r,o,s,l)},getFitToContentArea:function(t={}){let e=t.gridWidth||1,i=t.gridHeight||1,n=mn(t.padding||0),r=Math.max(t.minWidth||0,e),o=Math.max(t.minHeight||0,i),s=t.maxWidth||Number.MAX_VALUE,l=t.maxHeight||Number.MAX_VALUE,c=t.allowNewOrigin,d="contentArea"in t?new gt(t.contentArea):this.getContentArea(t),{sx:h,sy:f}=this.scale();d.x*=h,d.y*=f,d.width*=h,d.height*=f;let y=Math.ceil((d.width+d.x)/e),w=Math.ceil((d.height+d.y)/i);t.allowNegativeBottomRight||(y=Math.max(y,1),w=Math.max(w,1)),y*=e,w*=i;let x=0;(c==="negative"&&d.x<0||c==="positive"&&d.x>=0||c==="any")&&(x=Math.ceil(-d.x/e)*e,x+=n.left,y+=x);let N=0;return(c==="negative"&&d.y<0||c==="positive"&&d.y>=0||c==="any")&&(N=Math.ceil(-d.y/i)*i,N+=n.top,w+=N),y+=n.right,w+=n.bottom,y=Math.max(y,r),w=Math.max(w,o),y=Math.min(y,s),w=Math.min(w,l),new gt(-x/h,-N/f,y/h,w/f)},transformToFitContent:function(t){t||(t={});let e,i;if("contentArea"in t){let T=t.contentArea;e=this.localToPaperRect(T),i=new L(T)}else e=this.getContentBBox(t),i=this.paperToLocalPoint(e);if(!e.width||!e.height)return;mi(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});let n=mn(t.padding),r=t.minScaleX||t.minScale,o=t.maxScaleX||t.maxScale,s=t.minScaleY||t.minScale,l=t.maxScaleY||t.maxScale,c;if(t.fittingBBox)c=t.fittingBBox;else{let T=this.translate(),E=this.getComputedSize();c={x:T.tx,y:T.ty,width:E.width,height:E.height}}c=new gt(c).moveAndExpand({x:n.left,y:n.top,width:-n.left-n.right,height:-n.top-n.bottom});let d=this.scale(),h=c.width/e.width*d.sx,f=c.height/e.height*d.sy;if(t.preserveAspectRatio&&(h=f=Math.min(h,f)),t.scaleGrid){let T=t.scaleGrid;h=T*Math.floor(h/T),f=T*Math.floor(f/T)}h=Math.min(o,Math.max(r,h)),f=Math.min(l,Math.max(s,f));let y={x:h/d.sx,y:f/d.sy},w=this.options.origin,x=c.x-i.x*h-w.x,N=c.y-i.y*f-w.y;switch(t.verticalAlign){case"middle":N=N+(c.height-e.height*y.y)/2;break;case"bottom":N=N+(c.height-e.height*y.y);break;default:break}switch(t.horizontalAlign){case"middle":x=x+(c.width-e.width*y.x)/2;break;case"right":x=x+(c.width-e.width*y.x);break;default:break}this.scale(h,f),this.translate(x,N)},scaleContentToFit:function(t){this.transformToFitContent(t)},getContentArea:function(t){return t&&t.useModelGeometry?this.model.getBBox()||new gt:it(this.cells).getBBox()},getContentBBox:function(t){return this.localToPaperRect(this.getContentArea(t))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...t){let{restrictTranslate:e}=this.options,i;return ue(e)?i=e.apply(this,t):e===!0?i=this.getArea():e?i=new gt(e):i=null,i},createViewForModel:function(t){let{options:e}=this;var i,n,r=e.cellViewNamespace,o=t.get("type")+"View",s=gr(r,o,".");t.isLink()?(i=e.linkView,n=_o):(i=e.elementView,n=Be);var l=i.prototype instanceof _C.default.View?s||i:i.call(this,t)||s||n;return new l({model:t,interactive:e.interactive,labelsLayer:e.labelsLayer===!0?Zi.LABELS:e.labelsLayer})},removeView:function(t){let{id:e}=t,{_views:i,_updates:n}=this,r=i[e];if(r){var{cid:o}=r;let{mounted:s,unmounted:l}=n;r.remove(),delete i[e],delete s[o],delete l[o]}return r},renderView:function(t,e){let{id:i}=t,n=this._views,r,o,s=!0;return i in n&&(r=n[i],r.model===t?(o=r.FLAG_INSERT,s=!1):this.removeView(t)),s&&(r=n[i]=this.createViewForModel(t),r.paper=this,o=this.registerUnmountedView(r)|this.FLAG_INIT|r.getFlag(Ne(r,"initFlag"))),this.requestViewUpdate(r,o,r.UPDATE_PRIORITY,e),r},onImageDragStart:function(){return!1},resetViews:function(t,e){e||(e={}),t||(t=[]),this._resetUpdates(),this.removeViews();let i=this.options.autoFreeze?null:"reset";this.freeze({key:i});for(var n=0,r=t.length;n<r;n++)this.renderView(t[n],e);this.unfreeze({key:i}),this.sortViews()},removeViews:function(){zi(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var t=(0,_n.default)(this.cells).children("[model-id]"),e=this.model.get("cells");wI(t,function(i,n){var r=e.get(i.getAttribute("model-id")),o=e.get(n.getAttribute("model-id")),s=r.attributes.z||0,l=o.attributes.z||0;return s===l?0:s<l?-1:1})},insertView:function(t,e){let i=this.getLayerView(Zi.CELLS),{el:n,model:r}=t;switch(this.options.sorting){case zs.APPROX:i.insertSortedNode(n,r.get("z"));break;case zs.EXACT:default:i.insertNode(n);break}t.onMount(e)},detachView(t){t.unmount(),t.onDetach()},scale:function(t,e,i,n){if(t===void 0)return it.matrixToScale(this.matrix());e===void 0&&(e=t),i===void 0&&(i=0,n=0);var r=this.translate();if(i||n||r.tx||r.ty){var o=r.tx-i*(t-1),s=r.ty-n*(e-1);this.translate(o,s)}t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE);var l=this.matrix();return l.a=t,l.d=e,this.matrix(l),this.trigger("scale",t,e,i,n),this},rotate:function(t,e,i){if(t===void 0)return it.matrixToRotate(this.matrix());if(e===void 0){var n=this.cells.getBBox();e=n.width/2,i=n.height/2}var r=this.matrix().translate(e,i).rotate(t).translate(-e,-i);return this.matrix(r),this},translate:function(t,e){if(t===void 0)return it.matrixToTranslate(this.matrix());let{options:i}=this,{origin:n,drawGrid:r}=i;t||(t=0),e||(e=0);let o=this.matrix();if(o.e===t&&o.f===e)return this;o.e=t,o.f=e,this.matrix(o);let{tx:s,ty:l}=this.translate();return n.x=s,n.y=l,this.trigger("translate",s,l),r&&this.drawGrid(),this},findView:function(t){var e=Xe(t)?this.cells.querySelector(t):t instanceof _n.default?t[0]:t,i=this.findAttribute("model-id",e);if(i)return this._views[i]},findViewByModel:function(t){var e=Xe(t)||ni(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){t=new L(t);var e=this.model.getElements().map(this.findViewByModel,this);return e.filter(function(i){return i&&i.vel.getBBox({target:this.cells}).containsPoint(t)},this)},findViewsInArea:function(t,e){e=mi(e||{},{strict:!1}),t=new gt(t);var i=this.model.getElements().map(this.findViewByModel,this),n=e.strict?"containsRect":"intersect";return i.filter(function(r){return r&&t[n](r.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(t,...e){typeof t=="string"&&this.trigger("tools:event",t,...e)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var i=new L(t,e),n=it.transformPoint(i,this.matrix());return n},localToPaperRect:function(t,e,i,n){var r=new gt(t,e,i,n),o=it.transformRect(r,this.matrix());return o},paperToLocalPoint:function(t,e){var i=new L(t,e),n=it.transformPoint(i,this.matrix().inverse());return n},paperToLocalRect:function(t,e,i,n){var r=new gt(t,e,i,n),o=it.transformRect(r,this.matrix().inverse());return o},localToClientPoint:function(t,e){var i=new L(t,e),n=it.transformPoint(i,this.clientMatrix());return n},localToClientRect:function(t,e,i,n){var r=new gt(t,e,i,n),o=it.transformRect(r,this.clientMatrix());return o},clientToLocalPoint:function(t,e){var i=new L(t,e),n=it.transformPoint(i,this.clientMatrix().inverse());return n},clientToLocalRect:function(t,e,i,n){var r=new gt(t,e,i,n),o=it.transformRect(r,this.clientMatrix().inverse());return o},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,i,n){return this.localToPaperRect(t,e,i,n).offset(this.pageOffset())},pageToLocalPoint:function(t,e){var i=new L(t,e),n=i.difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(t,e,i,n){var r=this.pageOffset(),o=new gt(t,e,i,n);return o.x-=r.x,o.y-=r.y,this.paperToLocalRect(o)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new L(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof _o))throw new Error("Must provide a linkView.");var e=t.model,i=this.options,n=this.model,r=n.constructor.validations;return!(!i.multiLinks&&!r.multiLinks.call(this,n,e)||!i.linkPinning&&!r.linkPinning.call(this,n,e)||typeof i.allowLink=="function"&&!i.allowLink.call(this,t,this))},getDefaultLink:function(t,e){return ue(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t={}){let{highlighter:e,type:i}=t,{highlighting:n,highlighterNamespace:r}=this.options;if(e===void 0){if(!n||i&&(e=n[i],e===!1))return!1;e||(e=n.default)}if(!e)return!1;Xe(e)&&(e={name:e});let o=e.name,s=r[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if(typeof s.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof s.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:e.options||{},name:o}},onCellHighlight:function(t,e,i){let n=this.resolveHighlighter(i);if(!n)return;let{highlighter:r,options:o}=n;r.highlight(t,e,o)},onCellUnhighlight:function(t,e,i){let n=this.resolveHighlighter(i);if(!n)return;let{highlighter:r,options:o}=n;r.unhighlight(t,e,o)},pointerdblclick:function(t){t.preventDefault(),t=ai(t);var e=this.findView(t.target);if(!this.guard(t,e)){var i=this.snapToGrid(t.clientX,t.clientY);e?e.pointerdblclick(t,i.x,i.y):this.trigger("blank:pointerdblclick",t,i.x,i.y)}},pointerclick:function(t){var e=this.eventData(t);if(e.mousemoved<=this.options.clickThreshold){t=ai(t);var i=this.findView(t.target);if(this.guard(t,i))return;var n=this.snapToGrid(t.clientX,t.clientY);i?i.pointerclick(t,n.x,n.y):this.trigger("blank:pointerclick",t,n.x,n.y)}},contextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}t=ai(t),this.contextMenuTrigger(t)},contextMenuTrigger:function(t){var e=this.findView(t.target);if(!this.guard(t,e)){var i=this.snapToGrid(t.clientX,t.clientY);e?e.contextmenu(t,i.x,i.y):this.trigger("blank:contextmenu",t,i.x,i.y)}},pointerdown:function(t){t=ai(t);let{target:e,button:i}=t,n=this.findView(e),r=i===2;if(n){if(!r&&this.guard(t,n))return;let o=this.FORM_CONTROL_TAG_NAMES.includes(e.tagName);this.options.preventDefaultViewAction&&!o&&t.preventDefault(),o&&n.preventDefaultInteraction(t);let s=this.customEventTrigger(t,n);if(s){if(s.isPropagationStopped())return;t.data=s.data}let l=e.closest("[magnet]");if(l&&n.el!==l&&n.el.contains(l)){let c=ai(_n.default.Event(t.originalEvent,{data:t.data,currentTarget:l}));if(this.onmagnet(c),c.isDefaultPrevented()&&t.preventDefault(),c.isPropagationStopped()){if(r)return;this.delegateDragEvents(n,c.data);return}t.data=c.data}}if(r){this.contextMenuFired=!0;let o=_n.default.Event(t.originalEvent,{type:"contextmenu",data:t.data});this.contextMenuTrigger(o)}else{let o=this.snapToGrid(t.clientX,t.clientY);n?n.pointerdown(t,o.x,o.y):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,o.x,o.y)),this.delegateDragEvents(n,t.data)}},pointermove:function(t){var e=this.eventData(t);e.mousemoved||(e.mousemoved=0,this.undelegateEvents());var i=++e.mousemoved;if(!(i<=this.options.moveThreshold)){t=ai(t);var n=this.snapToGrid(t.clientX,t.clientY),r=e.sourceView;r?r.pointermove(t,n.x,n.y):this.trigger("blank:pointermove",t,n.x,n.y),this.eventData(t,e)}},pointerup:function(t){this.undelegateDocumentEvents();var e=ai(t),i=this.snapToGrid(e.clientX,e.clientY),n=this.eventData(t).sourceView;n?n.pointerup(e,i.x,i.y):this.trigger("blank:pointerup",e,i.x,i.y),e.isPropagationStopped()||this.pointerclick(_n.default.Event(t.originalEvent,{type:"click",data:t.data})),this.delegateEvents()},mouseover:function(t){t=ai(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseover(t);else{if(this.el===t.target)return;this.trigger("blank:mouseover",t)}},mouseout:function(t){t=ai(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseout(t);else{if(this.el===t.target)return;this.trigger("blank:mouseout",t)}},mouseenter:function(t){t=ai(t);let{target:e,relatedTarget:i,currentTarget:n}=t,r=this.findView(e);if(this.guard(t,r))return;let o=this.findView(i);r&&(o===r||(r.mouseenter(t),this.el.contains(i)))||o||n===this.el&&this.trigger("paper:mouseenter",t)},mouseleave:function(t){t=ai(t);let{target:e,relatedTarget:i,currentTarget:n}=t,r=this.findView(e);if(this.guard(t,r))return;let o=this.findView(i);r&&(o===r||(r.mouseleave(t),this.el.contains(i)))||o||n===this.el&&this.trigger("paper:mouseleave",t)},_processMouseWheelEvtBuf:Dg(function(){let{event:t,deltas:e}=this._mw_evt_buffer,i=e.reduce((s,l)=>s+bI(l,fS),0),n=Math.pow(.995,i),{x:r,y:o}=this.clientToLocalPoint(t.clientX,t.clientY);this.trigger("paper:pinch",t,r,o,n),this._mw_evt_buffer={event:null,deltas:[]}},wC,{maxWait:wC}),mousewheel:function(t){t=ai(t);let e=this.findView(t.target);if(this.guard(t,e))return;let i=t.originalEvent,n=this.snapToGrid(i.clientX,i.clientY),{deltaX:r,deltaY:o}=CI(i),s=this._events["paper:pinch"];if(t.ctrlKey&&s&&s.length>0)i.preventDefault(),this._mw_evt_buffer.event=i,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{let l=Math.max(-1,Math.min(1,i.wheelDelta));e?e.mousewheel(t,n.x,n.y,l):this.trigger("blank:mousewheel",t,n.x,n.y,l),this.trigger("paper:pan",t,r,o)}},onevent:function(t){var e=t.currentTarget,i=e.getAttribute("event");if(i){var n=this.findView(e);if(n){if(t=ai(t),this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n.onevent(t,i,r.x,r.y)}}},magnetEvent:function(t,e){var i=t.currentTarget,n=i.getAttribute("magnet");if(n){var r=this.findView(i);if(r){if(t=ai(t),this.guard(t,r))return;var o=this.snapToGrid(t.clientX,t.clientY);e.call(this,r,t,i,o.x,o.y)}}},onmagnet:function(t){if(t.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;let e=_n.default.Event(t.originalEvent,{type:"contextmenu",data:t.data,currentTarget:t.currentTarget});this.magnetContextMenuTrigger(e),e.isPropagationStopped()&&t.stopPropagation()}else this.magnetEvent(t,function(e,i,n,r,o){e.onmagnet(i,r,o)})},magnetpointerdblclick:function(t){this.magnetEvent(t,function(e,i,n,r,o){e.magnetpointerdblclick(i,n,r,o)})},magnetcontextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(t)},magnetContextMenuTrigger:function(t){this.magnetEvent(t,function(e,i,n,r,o){e.magnetcontextmenu(i,n,r,o)})},onlabel:function(t){var e=t.currentTarget,i=this.findView(e);if(!i||(t=ai(t),this.guard(t,i)))return;let n=this.customEventTrigger(t,i,e);if(n){if(n.isPropagationStopped())return;t.data=n.data}var r=this.snapToGrid(t.clientX,t.clientY);i.onlabel(t,r.x,r.y)},getPointerArgs(t){let e=ai(t),{x:i,y:n}=this.snapToGrid(e.clientX,e.clientY);return[e,i,n]},delegateDragEvents:function(t,e){e||(e={}),this.eventData({data:e},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e)},guard:function(t,e){if(t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e))return!0;if(t.data&&t.data.guarded!==void 0)return t.data.guarded;let{target:i}=t;return this.GUARDED_TAG_NAMES.includes(i.tagName)?!0:!(e&&e.model&&e.model instanceof Mi||this.svg===i||this.el===i||_n.default.contains(this.svg,i))},setGridSize:function(t){let{options:e}=this;return e.gridSize=t,e.drawGrid&&!e.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:it("svg",{width:"100%",height:"100%"},it("defs")),patterns:{},add:function(t,e){it(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(it("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return this.patterns[t]!==void 0}}),this._gridCache},setGrid:function(t){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var e=Array.isArray(t)?t:[t||{}];return e.forEach(function(i){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(i))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(Xe(t)&&Array.isArray(e[t]))return e[t].map(function(c){return wt({},c)});var i=t||{args:[{}]},n=Array.isArray(i),r=i.name;if(!n&&!r&&!i.markup&&(r="dot"),r&&Array.isArray(e[r])){var o=e[r].map(function(c){return wt({},c)}),s=Array.isArray(i.args)?i.args:[i.args||{}];mi(s[0],pn(t,"args"));for(var l=0;l<s.length;l++)o[l]&&wt(o[l],s[l]);return o}return n?i:[i]},drawGrid:function(t){let e=this.options.drawGridSize||this.options.gridSize;if(e<=1)return this.clearGrid();var i=Array.isArray(t)?t:[t],n=this.matrix(),r=this._getGridRefs();this._gridSettings.forEach(function(s,l){var c="pattern_"+l,d=ke(s,i[l],{sx:n.a||1,sy:n.d||1,ox:n.e||0,oy:n.f||0});d.width=e*(n.a||1)*(d.scaleFactor||1),d.height=e*(n.d||1)*(d.scaleFactor||1),r.exist(c)||r.add(c,it("pattern",{id:c,patternUnits:"userSpaceOnUse"},it(d.markup)));var h=r.get(c);ue(d.update)&&d.update(h.node.childNodes[0],d);var f=d.ox%d.width;f<0&&(f+=d.width);var y=d.oy%d.height;y<0&&(y+=d.height),h.attr({x:f,y,width:d.width,height:d.height})});var o=new XMLSerializer().serializeToString(r.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(t){t=t||{};var e=t.position||"center",i=t.size||"auto auto",n=this.scale(),r=this.translate();if(Jt(e)){var o=r.tx+n.sx*(e.x||0),s=r.ty+n.sy*(e.y||0);e=o+"px "+s+"px"}Jt(i)&&(i=new gt(i).scale(n.sx,n.sy),i=i.width+"px "+i.height+"px"),this.$background.css({backgroundSize:i,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(!(t instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==e.id)){e=e||{};var i,n=e.size,r=e.repeat||"no-repeat",o=e.opacity||1,s=Math.abs(e.quality)||1,l=this.constructor.backgroundPatterns[Eg(r)];if(ue(l)){t.width*=s,t.height*=s;var c=l(t,e);if(!(c instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");i=c.toDataURL("image/png"),r="repeat",Jt(n)?(n.width*=c.width/t.width,n.height*=c.height/t.height):n===void 0&&(e.size={width:c.width/s,height:c.height/s})}else i=t.src,n===void 0&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:o,backgroundRepeat:r,backgroundImage:"url("+i+")"}),this.updateBackgroundImage(e)}},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(t=t||{},this.updateBackgroundColor(t.color),t.image){t=this._background=Si(t),Rr(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,zi(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!Jt(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,i=t.name;if(e||(e=i+this.svg.id+ol(JSON.stringify(t))),!this.isDefined(e)){var n=SI,r=n[i]&&n[i](t.args||{});if(!r)throw new Error("Non-existing filter "+i);var o=wt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});it(r,o).appendTo(this.defs)}return e},defineGradient:function(t){if(!Jt(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");let{svg:e,defs:i}=this,{type:n,id:r=n+e.id+ol(JSON.stringify(t)),stops:o,attrs:s={}}=t;if(this.isDefined(r))return r;let l=jt(o).map(({offset:d,color:h,opacity:f})=>it("stop").attr({offset:d,"stop-color":h,"stop-opacity":Number.isFinite(f)?f:1})),c=it(n,s,l);return c.id=r,c.appendTo(i),r},definePattern:function(t){if(!Jt(t))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");let{svg:e,defs:i}=this,{id:n=e.id+ol(JSON.stringify(t)),markup:r,attrs:o={}}=t;if(!r)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(n))return n;let s=it("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=n,s.attr(o),typeof r=="string")s.append(it(r));else{let{fragment:l}=Ao(r);s.append(l)}return s.appendTo(i),n},defineMarker:function(t){if(!Jt(t))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");let{svg:e,defs:i}=this,{id:n=e.id+ol(JSON.stringify(t)),markup:r,attrs:o={},markerUnits:s="userSpaceOnUse"}=t;if(this.isDefined(n))return n;let l=it("marker",{orient:"auto",overflow:"visible",markerUnits:s});l.id=n,l.attr(o);let c;if(r){let f;if(typeof r=="string")f=it(r),f=Array.isArray(f)?f:[f];else{let{fragment:y}=Ao(r);f=it(y).children()}f.length>1?c=it("g").append(f):c=f[0]}else{let{type:f="path"}=t;c=it(f)}let d=pn(t,"type","id","markup","attrs","markerUnits");return Object.keys(d).forEach(f=>{let y=d[f],w=c.attr(f);w==null?c.attr(f,y):f==="transform"&&c.attr(f,y+" "+w)}),c.appendTo(l),l.appendTo(i),n},customEventTrigger:function(t,e,i=e.el){let n=t.target.closest("[event]");if(n&&i!==n&&e.el.contains(n)){let r=ai(_n.default.Event(t.originalEvent,{data:t.data,currentTarget:n}));return this.onevent(r),r.isDefaultPrevented()&&t.preventDefault(),r}return null}},{sorting:zs,Layers:Zi,backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=2*i,e.height=2*n;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.setTransform(-1,0,0,-1,e.width,e.height),r.drawImage(t,0,0,i,n),r.setTransform(-1,0,0,1,e.width,0),r.drawImage(t,0,0,i,n),r.setTransform(1,0,0,-1,0,e.height),r.drawImage(t,0,0,i,n),e},flipX:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=i*2,e.height=n;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.translate(2*i,0),r.scale(-1,1),r.drawImage(t,0,0,i,n),e},flipY:function(t){var e=document.createElement("canvas"),i=t.width,n=t.height;e.width=i,e.height=n*2;var r=e.getContext("2d");return r.drawImage(t,0,0,i,n),r.translate(0,2*n),r.scale(1,-1),r.drawImage(t,0,0,i,n),e},watermark:function(t,e){e=e||{};var i=t.width,n=t.height,r=document.createElement("canvas");r.width=i*3,r.height=n*3;for(var o=r.getContext("2d"),s=ni(e.watermarkAngle)?-e.watermarkAngle:-20,l=Ke(s),c=r.width/4,d=r.height/4,h=0;h<4;h++)for(var f=0;f<4;f++)(h+f)%2>0&&(o.setTransform(1,0,0,1,(2*h-1)*c,(2*f-1)*d),o.rotate(l),o.drawImage(t,-i/2,-n/2,i,n));return r}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){it(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var i=e.sx<=1?e.thickness*e.sx:e.thickness;it(t).attr({width:i,height:i,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var i,n=e.width,r=e.height,o=e.thickness;n-o>=0&&r-o>=0?i=["M",n,0,"H0 M0 0 V0",r].join(" "):i="M 0 0 0 0",it(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var i,n=e.width,r=e.height,o=e.thickness;n-o>=0&&r-o>=0?i=["M",n,0,"H0 M0 0 V0",r].join(" "):i="M 0 0 0 0",it(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var i,n=e.width,r=e.height,o=e.thickness;n-o>=0&&r-o>=0?i=["M",n,0,"H0 M0 0 V0",r].join(" "):i="M 0 0 0 0",it(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}}]}});var sp=rn.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var t=this.name;t&&this.vel.attr("data-tool-name",t)},configure:function(t,e){return this.relatedView=t,this.paper=t.paper,this.parentView=e,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(t){t&&t.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var t=this.options.focusOpacity;isFinite(t)&&(this.el.style.opacity=t),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(t){let{paper:e,relatedView:i}=this;return!e||!i?!0:e.guard(t,i)}});var pS=rn.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(t){t=wt(this.options,t);var e=t.tools;if(!Array.isArray(e))return this;var i=t.relatedView;if(!(i instanceof Xt))return this;for(var n=this.tools=[],r=0,o=e.length;r<o;r++){var s=e[r];s instanceof sp&&(s.configure(i,this),this.vel.append(s.el),n.push(s))}return this.isRendered=!1,i.requestUpdate(i.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(t){t||(t={});var e=this.tools;if(!e)return this;for(var i=this.isRendered,n=0,r=e.length;n<r;n++){var o=e[n];i?t.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),i||(this.blurTool(),this.isRendered=!0),this},focusTool:function(t){var e=this.tools;if(!e)return this;for(var i=0,n=e.length;i<n;i++){var r=e[i];t===r?r.show():r.hide()}return this},blurTool:function(t){var e=this.tools;if(!e)return this;for(var i=0,n=e.length;i<n;i++){var r=e[i];r!==t&&!r.isVisible()&&(r.show(),r.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var t=this.tools;if(!t)return this;for(var e=0,i=t.length;e<i;e++)t[e].remove();this.tools=null},mount:function(){let{options:t,el:e}=this,{relatedView:i,layer:n=Zi.TOOLS,z:r}=t;return i&&(n?i.paper.getLayerView(n).insertSortedNode(e,r):i.el.appendChild(e)),this}});var bl={};Fe(bl,{basic:()=>ap,chess:()=>pp,devs:()=>fp,erd:()=>mp,fsa:()=>vp,logic:()=>gp,org:()=>yp,pn:()=>Ip,standard:()=>cp,uml:()=>Ap});var ap={};Fe(ap,{Circle:()=>Il,Ellipse:()=>IS,Generic:()=>ie,Image:()=>AS,Path:()=>MC,Polygon:()=>CS,Polyline:()=>bS,Rect:()=>mS,Rhombus:()=>wS,Text:()=>yS,TextBlock:()=>xS,TextBlockView:()=>SS,TextView:()=>vS});var yl={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return this._tests[t]=e},test:function(t){var e=this._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var i=this._results[t];if(typeof i<"u")return i;try{i=e()}catch{i=!1}return this._results[t]=i,i}};var ie=xe.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),mS=ie.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),vS=Be.extend({presentationAttributes:Be.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var t=Be.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"SCALE")&&(this.resize(),t=this.removeFlag(t,"SCALE")),t}}),yS=ie.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),Il=ie.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),IS=ie.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),CS=ie.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),bS=ie.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),AS=ie.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),MC=ie.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),wS=MC.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),cf=yl.test("svgforeignobject"),xS=ie.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',cf?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),ie.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":wt({},e),div:{style:wt({},e)}})},updateContent:function(t,e){cf?this.attr({".content":{html:AI(e)}}):this.attr({".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),SS=Be.extend({presentationAttributes:cf?Be.prototype.presentationAttributes:Be.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var t=Be.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"CONTENT")&&(this.updateContent(this.model),t=this.removeFlag(t,"CONTENT")),t},update:function(t,e){var i=this.model;if(cf)Be.prototype.update.call(this,i,e);else{var n=pn(e||i.get("attrs"),".content");Be.prototype.update.call(this,i,n),(!e||nn(e,".content"))&&this.updateContent(i,e)}},updateContent:function(t,e){var i=ke({},(e||t.get("attrs"))[".content"]);i=pn(i,"text");var n=Lu(t.get("content"),t.get("size"),i,{svgDocument:this.paper.svg}),r=sl({},".content",i,"/");r[".content"].text=n,Be.prototype.update.call(this,t,r)}});var cp={};Fe(cp,{BorderedImage:()=>ES,Circle:()=>MS,Cylinder:()=>jS,DoubleLink:()=>WS,Ellipse:()=>NS,EmbeddedImage:()=>OS,HeaderedRectangle:()=>RS,Image:()=>kS,InscribedImage:()=>LS,Link:()=>FS,Path:()=>TS,Polygon:()=>DS,Polyline:()=>PS,Rectangle:()=>_S,ShadowLink:()=>VS,TextBlock:()=>ZS});var _S=xe.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),MS=xe.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),NS=xe.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),TS=xe.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),DS=xe.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),PS=xe.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),kS=xe.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),ES=xe.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),OS=xe.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),LS=xe.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),RS=xe.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),lp=10,jS=xe.define("standard.Cylinder",{attrs:{body:{lateralArea:lp,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:lp,refRx:"50%",ry:lp,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,e){if(t===void 0)return this.attr("body/lateralArea");var i=$e(t),n={lateralArea:t},r=i?{refCy:t,refRy:t,cy:null,ry:null}:{refCy:null,refRy:null,cy:t,ry:t};return this.attr({body:n,top:r},e)}},{attributes:{lateralArea:{set:function(t,e){var i=$e(t);i&&(t=parseFloat(t)/100);var n=e.x,r=e.y,o=e.width,s=e.height,l=o/2,c=i?s*t:t,d=it.KAPPA,h=d*l,f=d*(i?s*t:t),y=n,w=n+o/2,x=n+o,N=r+c,T=N-c,E=r+s-c,Y=r+s,K=["M",y,N,"L",y,E,"C",n,E+f,w-h,Y,w,Y,"C",w+h,Y,x,E+f,x,E,"L",x,N,"C",x,N-f,w+h,T,w,T,"C",w-h,T,y,N-f,y,N,"Z"];return{d:K.join(" ")}}}}}),zS={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},BS={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},GS=yl.test("svgforeignobject")?zS:BS,ZS=xe.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},GS]},{attributes:{text:{set:function(t,e,i,n){if(i instanceof HTMLElement)i.textContent=t;else{var r=n.style||{},o={text:t,width:-5,height:"100%"},s=wt({textVerticalAnchor:"middle"},r);return ul.textWrap.set.call(this,o,e,i,s),{fill:r.color||null}}},position:function(t,e,i){if(i instanceof SVGElement)return e.center()}}}}),FS=we.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),WS=we.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),VS=we.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});var fp={};Fe(fp,{Atomic:()=>YS,Coupled:()=>US,Link:()=>XS,Model:()=>up});var up=ie.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){ie.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(t,e,i){var n=hn(this.get("inPorts")),r=nl(hn(this.get("outPorts")),n),o=this.createPortItems("in",n),s=this.createPortItems("out",r);this.prop("ports/items",o.concat(s),wt({rewrite:!0},i))},createPortItem:function(t,e){return{id:e,group:t,attrs:{".port-label":{text:e}}}},createPortItems:function(t,e){return jt(e).map(this.createPortItem.bind(this,t))},_addGroupPort:function(t,e,i){var n=this.get(e);return this.set(e,Array.isArray(n)?n.concat(t):[t],i)},addOutPort:function(t,e){return this._addGroupPort(t,"outPorts",e)},addInPort:function(t,e){return this._addGroupPort(t,"inPorts",e)},_removeGroupPort:function(t,e,i){return this.set(e,Ns(this.get(e),t),i)},removeOutPort:function(t,e){return this._removeGroupPort(t,"outPorts",e)},removeInPort:function(t,e){return this._removeGroupPort(t,"inPorts",e)},_changeGroup:function(t,e,i){return this.prop("ports/groups/"+t,Jt(e)?e:{},i)},changeInGroup:function(t,e){return this._changeGroup("in",t,e)},changeOutGroup:function(t,e){return this._changeGroup("out",t,e)}}),YS=up.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),US=up.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),XS=we.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}});var gp={};Fe(gp,{And:()=>$S,Gate:()=>uf,Gate11:()=>hp,Gate21:()=>Mo,IO:()=>dp,Input:()=>HS,Nand:()=>e_,Nor:()=>t_,Not:()=>KS,Or:()=>qS,Output:()=>JS,Repeater:()=>QS,Wire:()=>r_,Xnor:()=>n_,Xor:()=>i_});var uf=ie.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),dp=uf.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),HS=dp.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),JS=dp.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),hp=uf.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),Mo=uf.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),QS=hp.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t){return t}}),KS=hp.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t){return!t}}),qS=Mo.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t,e){return t||e}}),$S=Mo.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return t&&e}}),t_=Mo.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return!(t||e)}}),e_=Mo.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return!(t&&e)}}),i_=Mo.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return(!t||e)&&(t||!e)}}),n_=Mo.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return(!t||!e)&&(t||e)}}),r_=we.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")});var pp={};Fe(pp,{BishopBlack:()=>d_,BishopWhite:()=>f_,KingBlack:()=>s_,KingWhite:()=>o_,KnightBlack:()=>g_,KnightWhite:()=>h_,PawnBlack:()=>m_,PawnWhite:()=>p_,QueenBlack:()=>l_,QueenWhite:()=>a_,RookBlack:()=>u_,RookWhite:()=>c_});var o_=ie.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),s_=ie.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),a_=ie.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),l_=ie.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),c_=ie.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),u_=ie.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),f_=ie.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),d_=ie.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),h_=ie.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),g_=ie.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),p_=ie.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),m_=ie.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'});var mp={};Fe(mp,{Attribute:()=>Cl,Derived:()=>C_,Entity:()=>NC,ISA:()=>w_,IdentifyingRelationship:()=>y_,Key:()=>b_,Line:()=>x_,Multivalued:()=>I_,Normal:()=>A_,Relationship:()=>TC,WeakEntity:()=>v_});var NC=xe.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),v_=NC.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),TC=xe.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),y_=TC.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),Cl=xe.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),I_=Cl.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),C_=Cl.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),b_=Cl.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),A_=Cl.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),w_=xe.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),x_=we.define("erd.Line",{},{cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}});var vp={};Fe(vp,{Arrow:()=>N_,EndState:()=>M_,StartState:()=>__,State:()=>S_});var S_=Il.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),__=xe.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),M_=xe.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),N_=we.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0});var yp={};Fe(yp,{Arrow:()=>D_,Member:()=>T_});var T_=xe.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),D_=we.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1});var Ip={};Fe(Ip,{Link:()=>O_,Place:()=>P_,PlaceView:()=>k_,Transition:()=>E_});var P_=ie.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),k_=Be.extend({presentationAttributes:Be.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:Be.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...t){let e=Be.prototype.confirmUpdate.call(this,...t);return this.hasFlag(e,"TOKENS")&&(this.renderTokens(),this.update(),e=this.removeFlag(e,"TOKENS")),e},renderTokens:function(){let t=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(i){t.removeClass(i)});var e=this.model.get("tokens");if(e)switch(e){case 1:t.addClass("one"),t.append(it("circle"));break;case 2:t.addClass("two"),t.append([it("circle"),it("circle")]);break;case 3:t.addClass("three"),t.append([it("circle"),it("circle"),it("circle")]);break;default:t.addClass("alot"),t.append(it("text").text(e+""));break}}}),E_=ie.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),O_=we.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}});var Ap={};Fe(Ap,{Abstract:()=>L_,AbstractView:()=>R_,Aggregation:()=>Z_,Association:()=>W_,Class:()=>Cp,ClassView:()=>bp,Composition:()=>F_,EndState:()=>U_,Generalization:()=>B_,Implementation:()=>G_,Interface:()=>j_,InterfaceView:()=>z_,StartState:()=>Y_,State:()=>V_,Transition:()=>X_});var Cp=ie.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),ie.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var t=this.get("attrs"),e=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],i=0;e.forEach(function(n){var r=Array.isArray(n.text)?n.text:[n.text],o=r.length*20+20;t[".uml-class-"+n.type+"-text"].text=r.join(`
`),t[".uml-class-"+n.type+"-rect"].height=o,t[".uml-class-"+n.type+"-rect"].transform="translate(0,"+i+")",i+=o})}}),bp=Be.extend({initialize:function(){Be.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),L_=Cp.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),R_=bp,j_=Cp.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),z_=bp,B_=we.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),G_=we.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),Z_=we.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),F_=we.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),W_=we.define("uml.Association"),V_=ie.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),ie.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join(`
`))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),Y_=Il.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),U_=ie.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),X_=we.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}});var Mn=class t{constructor(e){this.http=e}getApiJobGetAllJobs(){let e=new rr;return this.http.get(`${Ai.serverUrl}/api/Job/GetAllJobs`,{params:e})}getApiJobGetAllJobsByProjectId(e){let i=new rr;return e!=null&&(i=i.set("ProjectId",e)),this.http.get(`${Ai.serverUrl}/api/Job/GetAllJobsByProjectId`,{params:i})}getApiJobGetJobById(e){let i=new rr;return e!=null&&(i=i.set("Id",e)),this.http.get(`${Ai.serverUrl}/api/Job/GetJobById`,{params:i})}postApiJobCreateJob(e){return this.http.post(`${Ai.serverUrl}/api/Job/CreateJob`,e)}putApiJobUpdatePositionJob(e){return this.http.put(`${Ai.serverUrl}/api/Job/UpdatePositionJob`,e)}putApiJobUpdateJob(e){return this.http.put(`${Ai.serverUrl}/api/Job/UpdateJob`,e)}deleteApiJobDeleteJob(e){let i=new rr;return e!=null&&(i=i.set("Id",e)),this.http.delete(`${Ai.serverUrl}/api/Job/DeleteJob`,{params:i})}static \u0275fac=function(i){return new(i||t)(Ol(zl))};static \u0275prov=ki({token:t,factory:t.\u0275fac,providedIn:"root"})};var ff=class t{model;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Kt({type:t,selectors:[["app-job-start-form"]],inputs:{model:"model"},standalone:!1,decls:4,vars:1,consts:[[1,"mb-3"],[1,"form-label"],["type","text","placeholder","json - xml - text","rows","10",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"label",1),dt(2,"Environment Variables"),U(),F(3,"textarea",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.EnvironmentVariables,o)||(n.model.jobParameters.EnvironmentVariables=o),o}),U()()),i&2&&(yt(3),qt("ngModel",n.model.jobParameters.EnvironmentVariables))},dependencies:[We,Ve,Ye],encapsulation:2})};var df=class t{model;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Kt({type:t,selectors:[["app-job-random-form"]],inputs:{model:"model"},standalone:!1,decls:8,vars:2,consts:[[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"label",1),dt(2,"From"),U(),F(3,"input",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.From,o)||(n.model.jobParameters.From=o),o}),U()(),F(4,"div",0)(5,"label",1),dt(6,"To"),U(),F(7,"input",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.To,o)||(n.model.jobParameters.To=o),o}),U()()),i&2&&(yt(3),qt("ngModel",n.model.jobParameters.From),yt(4),qt("ngModel",n.model.jobParameters.To))},dependencies:[We,Ve,Ye],encapsulation:2})};var hf=class t{model;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Kt({type:t,selectors:[["app-job-sleep-form"]],inputs:{model:"model"},standalone:!1,decls:4,vars:1,consts:[[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"label",1),dt(2,"SleepTime (Ms)"),U(),F(3,"input",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.SleepTimeMs,o)||(n.model.jobParameters.SleepTimeMs=o),o}),U()()),i&2&&(yt(3),qt("ngModel",n.model.jobParameters.SleepTimeMs))},dependencies:[We,Ve,Ye],encapsulation:2})};function q_(t,e){if(t&1&&(F(0,"option",6),dt(1),U()),t&2){let i=e.$implicit;de("value",i),yt(),ln(i)}}function $_(t,e){if(t&1){let i=ei();F(0,"tr")(1,"td")(2,"input",12),te("ngModelChange",function(r){let o=Ce(i).$implicit;return $t(o.key,r)||(o.key=r),be(r)}),he("change",function(){Ce(i);let r=Bt();return be(r.onchange())}),U()(),F(3,"td")(4,"input",12),te("ngModelChange",function(r){let o=Ce(i).$implicit;return $t(o.value,r)||(o.value=r),be(r)}),he("change",function(){Ce(i);let r=Bt();return be(r.onchange())}),U()(),F(5,"td",13)(6,"button",14),he("click",function(){let r=Ce(i).$implicit,o=Bt();return be(o.deleteHeader(r))}),Nt(7,"i",15),U(),F(8,"button",16),he("click",function(){let r=Ce(i).$implicit,o=Bt();return be(o.editHeader(r))}),Nt(9,"i"),U()()()}if(t&2){let i=e.$implicit;yt(2),qt("ngModel",i.key),de("readOnly",i.readonly),yt(2),qt("ngModel",i.value),de("readOnly",i.readonly),yt(5),an("feather-edit",i.readonly)("feather-lock",!i.readonly)}}var gf=class t{httpMethods=["Get","Post","Put","Delete","Patch","Options","Head","Query","Connect","Trace"];headers=[];model;ngOnInit(){this.loadHeadersFromDictionary()}loadHeadersFromDictionary(){let e=JSON.parse(this.model.jobParameters.Headers??"{}");this.headers=Object.entries(e).map(([i,n])=>({key:i,value:n,readonly:!0}))}addHeader(){this.headers.push({key:"",value:"",readonly:!1}),this.onchange()}deleteHeader(e){this.headers=this.headers.filter(i=>i!=e),this.onchange()}editHeader(e){e.readonly=!e.readonly,this.onchange()}onchange(){let e={};this.headers.forEach(i=>{i.key.trim()&&(e[i.key]=i.value)}),this.model.jobParameters.Headers=JSON.stringify(e)}readFromCurlSimple(){let e=prompt("Please paste your curl command:");if(!e)return;var i="";let n=[/(?:')(https?:\/\/[^'\s]+)(?:')/,/(?:")(https?:\/\/[^"\s]+)(?:")/,/(?:')(https?:\/\/localhost:\d+\/[^'\s]*)(?:')/,/(?:")(https?:\/\/localhost:\d+\/[^"\s]*)(?:")/,/(https?:\/\/localhost:\d+\/[^\s'"`]+)/,/(https?:\/\/[^\s'"`]+)/];for(let h of n){let f=e.match(h);if(f){i=f[1]||f[0];break}}let r=e.match(/-X\s+['"]?(\w+)['"]?/),o=r?r[1].toUpperCase():"GET",s={},l=e.matchAll(/-H\s+['"]([^'"]+)['"]/g);for(let h of l){let[f,y]=h,[w,x]=y.split(":").map(N=>N.trim());w&&x&&(s[w]=x)}let c="",d=e.match(/-d\s+['"]([\s\S]*?)['"](?=\s+-|\s*$)/);d&&(c=d[1],c=c.replace(/\s*\n\s*/g," ").trim()),console.log("Parsed curl:",{url:i,method:o,headers:s,body:c}),this.model.jobParameters.Headers=JSON.stringify(s),this.model.jobParameters.Url=i;debugger;this.model.jobParameters.Body=c,this.model.jobParameters.Method=this.httpMethods.filter(h=>h.toLowerCase()==o.toLocaleLowerCase())[0],this.loadHeadersFromDictionary()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Kt({type:t,selectors:[["app-job-http-request-form"]],inputs:{model:"model"},standalone:!1,decls:31,vars:4,consts:[[1,"text-end"],[1,"btn","btn-sm","btn-primary","d-inline",3,"click"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],["type","text","placeholder","json - xml - text","rows","5",1,"form-control",3,"ngModelChange","ngModel"],[1,"table","table-sm","table-striped"],[3,"width"],[1,"btn","btn-sm","btn-success","w-100","mx-1",3,"click"],[1,"feather-plus"],["type","text",1,"form-control",3,"ngModelChange","change","ngModel","readOnly"],[1,"d-flex"],[1,"btn","btn-danger","mx-1",3,"click"],[1,"feather-x"],[1,"btn","btn-primary",3,"click"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"button",1),he("click",function(){return n.readFromCurlSimple()}),dt(2,"Curl"),U()(),F(3,"div",2)(4,"label",3),dt(5,"Url"),U(),F(6,"input",4),te("ngModelChange",function(o){return $t(n.model.jobParameters.Url,o)||(n.model.jobParameters.Url=o),o}),U()(),F(7,"div",2)(8,"label",3),dt(9,"Method"),U(),F(10,"select",5),te("ngModelChange",function(o){return $t(n.model.jobParameters.Method,o)||(n.model.jobParameters.Method=o),o}),Hi(11,q_,2,2,"option",6,rm),U()(),F(13,"div",2)(14,"label",3),dt(15,"Body"),U(),F(16,"textarea",7),te("ngModelChange",function(o){return $t(n.model.jobParameters.Body,o)||(n.model.jobParameters.Body=o),o}),U()(),F(17,"div",2)(18,"label",3),dt(19,"Headers"),U(),F(20,"table",8)(21,"tr")(22,"th"),dt(23,"Key"),U(),F(24,"th"),dt(25,"Value"),U(),F(26,"th",9)(27,"button",10),he("click",function(){return n.addHeader()}),Nt(28,"i",11),U()()(),Hi(29,$_,10,8,"tr",null,zo),U()()),i&2&&(yt(6),qt("ngModel",n.model.jobParameters.Url),yt(4),qt("ngModel",n.model.jobParameters.Method),yt(),Ji(n.httpMethods),yt(5),qt("ngModel",n.model.jobParameters.Body),yt(10),de("width",10),yt(3),Ji(n.headers))},dependencies:[Un,Xn,We,Bo,Ve,Ye],encapsulation:2})};var pf=class t{model;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Kt({type:t,selectors:[["app-job-timer-form"]],inputs:{model:"model"},standalone:!1,decls:8,vars:2,consts:[[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","json - xml - text","rows","10",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"label",1),dt(2,"Interval (Ms)"),U(),F(3,"input",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.IntervalMs,o)||(n.model.jobParameters.IntervalMs=o),o}),U()(),F(4,"div",0)(5,"label",1),dt(6,"Environment Variables"),U(),F(7,"textarea",3),te("ngModelChange",function(o){return $t(n.model.jobParameters.EnvironmentVariables,o)||(n.model.jobParameters.EnvironmentVariables=o),o}),U()()),i&2&&(yt(3),qt("ngModel",n.model.jobParameters.IntervalMs),yt(4),qt("ngModel",n.model.jobParameters.EnvironmentVariables))},dependencies:[We,Ve,Ye],encapsulation:2})};var DC=(t,e)=>e.id;function iM(t,e){if(t&1&&(F(0,"option",4),dt(1),U()),t&2){let i=e.$implicit;de("value",i.id),yt(),ln(i.title)}}function nM(t,e){if(t&1&&(F(0,"option",4),dt(1),U()),t&2){let i=e.$implicit;de("value",i.id),yt(),ln(i.title)}}function rM(t,e){if(t&1){let i=ei();F(0,"div",0)(1,"label",1),dt(2,"True"),U(),F(3,"select",3),te("ngModelChange",function(r){Ce(i);let o=Bt();return $t(o.model.jobParameters.IfTrue,r)||(o.model.jobParameters.IfTrue=r),be(r)}),F(4,"option",4),dt(5,"-- Select -- "),U(),Hi(6,iM,2,2,"option",4,DC),U()(),F(8,"div",0)(9,"label",1),dt(10,"False"),U(),F(11,"select",3),te("ngModelChange",function(r){Ce(i);let o=Bt();return $t(o.model.jobParameters.IfFalse,r)||(o.model.jobParameters.IfFalse=r),be(r)}),F(12,"option",4),dt(13,"-- Select -- "),U(),Hi(14,nM,2,2,"option",4,DC),U()()}if(t&2){let i=Bt();yt(3),qt("ngModel",i.model.jobParameters.IfTrue),yt(),de("value",""),yt(2),Ji(i.projectJobs),yt(5),qt("ngModel",i.model.jobParameters.IfFalse),yt(),de("value",""),yt(2),Ji(i.projectJobs)}}var mf=class t{constructor(e,i,n){this.generalService=e;this.jobService=i;this.cdr=n}model;projectJobs;ngOnInit(){this.jobService.getApiJobGetAllJobsByProjectId(this.model.projectId).subscribe(e=>{this.generalService.isSuccess(e)&&(this.projectJobs=e.data?.filter(i=>i.id!=this.model.id),this.cdr.detectChanges())})}static \u0275fac=function(i){return new(i||t)(Ht(Qi),Ht(Mn),Ht(ui))};static \u0275cmp=Kt({type:t,selectors:[["app-job-if-form"]],inputs:{model:"model"},standalone:!1,decls:5,vars:2,consts:[[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"value"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"label",1),dt(2,"Expression"),U(),F(3,"input",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.Expression,o)||(n.model.jobParameters.Expression=o),o}),U()(),Ci(4,rM,16,4)),i&2&&(yt(3),qt("ngModel",n.model.jobParameters.Expression),yt(),bi(n.projectJobs?4:-1))},dependencies:[Un,Xn,We,Bo,Ve,Ye],encapsulation:2})};var vf=class t{model;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Kt({type:t,selectors:[["app-job-sql-server-form"]],inputs:{model:"model"},standalone:!1,decls:8,vars:2,consts:[[1,"mb-3"],[1,"form-label"],["type","text","rows","5",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"label",1),dt(2,"ConnectionString"),U(),F(3,"textarea",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.ConnectionString,o)||(n.model.jobParameters.ConnectionString=o),o}),U()(),F(4,"div",0)(5,"label",1),dt(6,"Query"),U(),F(7,"textarea",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.Query,o)||(n.model.jobParameters.Query=o),o}),U()()),i&2&&(yt(3),qt("ngModel",n.model.jobParameters.ConnectionString),yt(4),qt("ngModel",n.model.jobParameters.Query))},dependencies:[We,Ve,Ye],encapsulation:2})};var aM=(t,e)=>e.id;function lM(t,e){if(t&1&&(F(0,"option",4),dt(1),U()),t&2){let i=e.$implicit;de("value",i.id),yt(),ln(i.title)}}function cM(t,e){if(t&1){let i=ei();F(0,"div",0)(1,"label",1),dt(2,"Task"),U(),F(3,"select",3),te("ngModelChange",function(r){Ce(i);let o=Bt();return $t(o.model.jobParameters.ForTask,r)||(o.model.jobParameters.ForTask=r),be(r)}),Hi(4,lM,2,2,"option",4,aM),U()()}if(t&2){let i=Bt();yt(3),qt("ngModel",i.model.jobParameters.ForTask),yt(),Ji(i.projectJobs)}}var yf=class t{constructor(e,i,n){this.generalService=e;this.jobService=i;this.cdr=n}model;projectJobs;ngOnInit(){this.jobService.getApiJobGetAllJobsByProjectId(this.model.projectId).subscribe(e=>{this.generalService.isSuccess(e)&&(this.projectJobs=e.data?.filter(i=>i.id!=this.model.id),this.cdr.detectChanges())})}static \u0275fac=function(i){return new(i||t)(Ht(Qi),Ht(Mn),Ht(ui))};static \u0275cmp=Kt({type:t,selectors:[["app-job-for-form"]],inputs:{model:"model"},standalone:!1,decls:13,vars:4,consts:[[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"value"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"label",1),dt(2,"From"),U(),F(3,"input",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.From,o)||(n.model.jobParameters.From=o),o}),U()(),F(4,"div",0)(5,"label",1),dt(6,"To"),U(),F(7,"input",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.To,o)||(n.model.jobParameters.To=o),o}),U()(),F(8,"div",0)(9,"label",1),dt(10,"Step"),U(),F(11,"input",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.Step,o)||(n.model.jobParameters.Step=o),o}),U()(),Ci(12,cM,6,1,"div",0)),i&2&&(yt(3),qt("ngModel",n.model.jobParameters.From),yt(4),qt("ngModel",n.model.jobParameters.To),yt(4),qt("ngModel",n.model.jobParameters.Step),yt(),bi(n.projectJobs?12:-1))},dependencies:[Un,Xn,We,Bo,Ve,Ye],encapsulation:2})};var If=class t{model;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Kt({type:t,selectors:[["app-job-schedule-form"]],inputs:{model:"model"},standalone:!1,decls:37,vars:2,consts:[[1,"mb-3"],[1,"form-label"],["type","text","list","cron-suggestions",1,"form-control",3,"ngModelChange","ngModel"],["id","cron-suggestions"],["value","* * * * *"],["value","*/1 * * * *"],["value","*/5 * * * *"],["value","*/10 * * * *"],["value","*/15 * * * *"],["value","*/30 * * * *"],["value","0 * * * *"],["value","0 0 * * *"],["value","0 9 * * *"],["value","0 9 * * 1"],["value","0 0 * * 0"],["value","0 0 1 * *"],["value","0 9-18 * * 1-5"],["value","*/5 9-17 * * 1-5"],["type","text","placeholder","json - xml - text","rows","10",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"label",1),dt(2,"Cron Expression"),U(),F(3,"input",2),te("ngModelChange",function(o){return $t(n.model.jobParameters.CronExpression,o)||(n.model.jobParameters.CronExpression=o),o}),U(),F(4,"datalist",3)(5,"option",4),dt(6,"Every minute"),U(),F(7,"option",5),dt(8,"Every 1 minute"),U(),F(9,"option",6),dt(10,"Every 5 minutes"),U(),F(11,"option",7),dt(12,"Every 10 minutes"),U(),F(13,"option",8),dt(14,"Every 15 minutes"),U(),F(15,"option",9),dt(16,"Every 30 minutes"),U(),F(17,"option",10),dt(18,"Hourly"),U(),F(19,"option",11),dt(20,"Daily at midnight"),U(),F(21,"option",12),dt(22,"Daily at 9 AM"),U(),F(23,"option",13),dt(24,"Every Monday at 9 AM"),U(),F(25,"option",14),dt(26,"Every Sunday at midnight"),U(),F(27,"option",15),dt(28,"First day of month"),U(),F(29,"option",16),dt(30,"Business hours (Mon-Fri 9AM-6PM)"),U(),F(31,"option",17),dt(32,"Every 5 minutes during business hours"),U()()(),F(33,"div",0)(34,"label",1),dt(35,"Environment Variables"),U(),F(36,"textarea",18),te("ngModelChange",function(o){return $t(n.model.jobParameters.EnvironmentVariables,o)||(n.model.jobParameters.EnvironmentVariables=o),o}),U()()),i&2&&(yt(3),qt("ngModel",n.model.jobParameters.CronExpression),yt(33),qt("ngModel",n.model.jobParameters.EnvironmentVariables))},dependencies:[Un,Xn,We,Ve,Ye],encapsulation:2})};var dM=(t,e)=>e.id;function hM(t,e){if(t&1&&(F(0,"mat-tree-node",28)(1,"li",29),Nt(2,"button",30),dt(3),U()()),t&2){let i=e.$implicit;yt(3),In(" ",i.name," ")}}function gM(t,e){if(t&1&&(F(0,"mat-nested-tree-node")(1,"li")(2,"div",29)(3,"button",31)(4,"mat-icon"),dt(5),U()(),dt(6),U(),F(7,"ul"),om(8,32),U()()()),t&2){let i=e.$implicit,n=Bt(3);yt(5),In(" ",n.treeControl.isExpanded(i)?"expand_more":"chevron_right"," "),yt(),In(" ",i.name," "),yt(),an("invisible",!n.treeControl.isExpanded(i))}}function pM(t,e){if(t&1&&(F(0,"mat-tree",13),nr(1,hM,4,1,"mat-tree-node",26)(2,gM,9,4,"mat-nested-tree-node",27),U()),t&2){let i=Bt(2);de("dataSource",i.dataSource)("treeControl",i.treeControl),yt(2),de("matTreeNodeDefWhen",i.hasChild)}}function mM(t,e){if(t&1&&Nt(0,"app-job-start-form",19),t&2){let i=Bt(2);de("model",i.model)}}function vM(t,e){if(t&1&&Nt(0,"app-job-timer-form",19),t&2){let i=Bt(2);de("model",i.model)}}function yM(t,e){if(t&1&&Nt(0,"app-job-random-form",19),t&2){let i=Bt(2);de("model",i.model)}}function IM(t,e){if(t&1&&Nt(0,"app-job-http-request-form",19),t&2){let i=Bt(2);de("model",i.model)}}function CM(t,e){if(t&1&&Nt(0,"app-job-sleep-form",19),t&2){let i=Bt(2);de("model",i.model)}}function bM(t,e){if(t&1&&Nt(0,"app-job-if-form",19),t&2){let i=Bt(2);de("model",i.model)}}function AM(t,e){if(t&1&&Nt(0,"app-job-sql-server-form",19),t&2){let i=Bt(2);de("model",i.model)}}function wM(t,e){if(t&1&&Nt(0,"app-job-for-form",19),t&2){let i=Bt(2);de("model",i.model)}}function xM(t,e){if(t&1&&Nt(0,"app-job-schedule-form",19),t&2){let i=Bt(2);de("model",i.model)}}function SM(t,e){if(t&1&&(F(0,"option",34),dt(1),U()),t&2){let i=e.$implicit;de("value",i.id),yt(),ln(i.title)}}function _M(t,e){if(t&1){let i=ei();F(0,"div",16)(1,"label",17),dt(2,"Next Jobs"),U(),F(3,"select",33),te("ngModelChange",function(r){Ce(i);let o=Bt(2);return $t(o.model.nextJob,r)||(o.model.nextJob=r),be(r)}),Hi(4,SM,2,2,"option",34,dM),U()()}if(t&2){let i=Bt(2);yt(3),qt("ngModel",i.model.nextJob),de("size",i.projectJobs.length),yt(),Ji(i.projectJobs)}}function MM(t,e){if(t&1){let i=ei();F(0,"div",0)(1,"div",1)(2,"h5",2),dt(3,"Update Job"),U(),F(4,"div",3)(5,"a",4),Nt(6,"i",5),U(),F(7,"div",6)(8,"a",7),he("click",function(){Ce(i);let r=Bt();return be(r.save())}),Nt(9,"i",8),F(10,"span"),dt(11,"Save"),U()(),F(12,"a",7),he("click",function(){Ce(i);let r=Bt();return be(r.delete())}),Nt(13,"i",9),F(14,"span"),dt(15,"Delete"),U()(),F(16,"a",7),he("click",function(){Ce(i);let r=Bt();return be(r.close())}),Nt(17,"i",10),F(18,"span"),dt(19,"Close"),U()()()()(),F(20,"div",11)(21,"div",12),Ci(22,pM,3,3,"mat-tree",13),U(),F(23,"div",14)(24,"div",15)(25,"div",16)(26,"label",17),dt(27,"Job Name"),U(),F(28,"input",18),te("ngModelChange",function(r){Ce(i);let o=Bt();return $t(o.model.name,r)||(o.model.name=r),be(r)}),U()(),Ci(29,mM,1,1,"app-job-start-form",19)(30,vM,1,1,"app-job-timer-form",19)(31,yM,1,1,"app-job-random-form",19)(32,IM,1,1,"app-job-http-request-form",19)(33,CM,1,1,"app-job-sleep-form",19)(34,bM,1,1,"app-job-if-form",19)(35,AM,1,1,"app-job-sql-server-form",19)(36,wM,1,1,"app-job-for-form",19)(37,xM,1,1,"app-job-schedule-form",19),Ci(38,_M,6,2,"div",16),U(),F(39,"div",20)(40,"div",21)(41,"button",22),he("click",function(){Ce(i);let r=Bt();return be(r.close())}),Nt(42,"i",23),F(43,"span"),dt(44,"Close"),U()(),F(45,"button",24),he("click",function(){Ce(i);let r=Bt();return be(r.save())}),Nt(46,"i",25),F(47,"span"),dt(48,"Save"),U()()()()()()()}if(t&2){let i,n=Bt();yt(22),bi(n.dataTemplate?22:-1),yt(6),qt("ngModel",n.model.name),yt(),bi((i=n.model.className)==="FlowEngine.Infrastructure.Worker.Core.Jobs.Job_Start"?29:i==="FlowEngine.Infrastructure.Worker.Core.Jobs.Job_Timer"?30:i==="FlowEngine.Infrastructure.Worker.Core.Jobs.Job_Random"?31:i==="FlowEngine.Infrastructure.Worker.Core.Jobs.Job_HttpRequest"?32:i==="FlowEngine.Infrastructure.Worker.Core.Jobs.Job_Sleep"?33:i==="FlowEngine.Infrastructure.Worker.Core.Jobs.Job_If"?34:i==="FlowEngine.Infrastructure.Worker.Core.Jobs.Job_SqlServer"?35:i==="FlowEngine.Infrastructure.Worker.Core.Jobs.Job_For"?36:i==="FlowEngine.Infrastructure.Worker.Core.Jobs.Job_Schedule"?37:-1),yt(9),bi(n.projectJobs?38:-1)}}var Cf=class t{constructor(e,i,n,r,o,s){this.dialogRef=e;this.data=i;this.cdr=n;this.jobService=r;this.projectService=o;this.generalService=s}treeControl=new Mm(e=>e.children);dataSource=new Om;model;projectJobs;dataTemplate=[];hasChild=(e,i)=>!!i.children&&i.children.length>0;ngOnInit(){this.loadData()}loadData(){this.projectService.getApiProjectGetProjectDataTemplate(this.data.projectId).subscribe(e=>{if(this.generalService.isSuccess(e)){if(e.data)for(let[i,n]of Object.entries(e.data))this.dataTemplate.push({key:i,value:String(n)});this.loadDataTemplate(),this.cdr.detectChanges()}}),this.jobService.getApiJobGetAllJobsByProjectId(this.data.projectId).subscribe(e=>{this.generalService.isSuccess(e)&&(this.projectJobs=e.data?.filter(i=>i.id!=this.data.id),this.cdr.detectChanges())}),this.jobService.getApiJobGetJobById(this.data.id).subscribe(e=>{this.generalService.isSuccess(e)&&(this.model=e.data,this.cdr.detectChanges())})}hasParameter(e){return(this.model.jobParameters??[])[e]!=null}close(){this.dialogRef.close()}save(){let e={};if(this.model?.jobParameters)for(let[i,n]of Object.entries(this.model.jobParameters))e[i]=n?String(n):null;this.jobService.putApiJobUpdateJob({id:this.model.id,name:this.model.name,parameters:e,nextJob:this.model.nextJob}).subscribe(i=>{this.generalService.isSuccess(i)&&this.dialogRef.close(this.data)})}loadDataTemplate(){this.dataSource.data=[],this.dataTemplate.forEach(e=>{this.dataSource.data.push({name:"${"+e.key+"}",children:this.getChild(e.value,[e.key])})})}getChild(e,i=[]){if(typeof e=="string")try{e=JSON.parse(e)}catch{return}if(e!=null){if(typeof e=="object"&&!Array.isArray(e))return Object.entries(e).map(([n,r])=>{let o=[...i,n];return{name:"${"+o.join(".")+"}",children:this.getChild(r,o)}});if(Array.isArray(e))return[{name:"${"+[...i,"Length()"].join(".")+"}",children:[]},...e.map((n,r)=>{let o=[...i,`[${r}]`];return{name:("${"+o.join(".")+"}").replaceAll(".[","["),children:this.getChild(n,o)}})]}}delete(){this.jobService.deleteApiJobDeleteJob(this.model.id).subscribe(e=>{this.generalService.isSuccess(e)&&this.dialogRef.close(this.data)})}static \u0275fac=function(i){return new(i||t)(Ht(sr),Ht(Kr),Ht(ui),Ht(Mn),Ht(Hn),Ht(Qi))};static \u0275cmp=Kt({type:t,selectors:[["app-update-job"]],standalone:!1,decls:1,vars:1,consts:[[1,"card","stretch","stretch-full"],[1,"card-header"],[1,"card-title"],[1,"dropdown"],["href","javascript:void(0);","data-bs-toggle","dropdown","data-bs-offset","0,22","aria-expanded","false",1,"avatar-text","avatar-md"],[1,"feather-more-vertical"],[1,"dropdown-menu"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],[1,"feather-save","me-3"],[1,"feather-trash-2","me-3"],[1,"feather-x-square","me-3"],[1,"d-flex",2,"max-height","70vh"],[1,"col-5","overflow-scroll"],[3,"dataSource","treeControl"],[1,"col-7","overflow-scroll","position-relative"],[1,"card-body"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[3,"model"],[1,"w-100","p-4"],[1,"d-flex","gap-2","text-center","pt-4"],[1,"w-50","btn","btn-light-brand",3,"click"],[1,"feather-x-square","me-2"],[1,"w-50","btn","btn-primary",3,"click"],[1,"feather-save","me-2"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle",""],[1,"mat-tree-node"],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle",""],["matTreeNodeOutlet",""],["multiple","",1,"form-control",3,"ngModelChange","ngModel","size"],[3,"value"]],template:function(i,n){i&1&&Ci(0,MM,49,4,"div",0),i&2&&bi(n.model?0:-1)},dependencies:[Un,Xn,We,ym,Ve,Ye,Dm,Tm,Em,km,Nm,Pm,_m,Sm,ff,df,hf,gf,pf,mf,vf,yf,If],styles:[".invisible[_ngcontent-%COMP%]{display:none}ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:20px}.mat-tree[_ngcontent-%COMP%]{background-color:unset!important}.mat-tree-node[_ngcontent-%COMP%], .mat-nested-tree-node[_ngcontent-%COMP%]{color:unset!important}"]})};function NM(t,e){if(t&1){let i=ei();F(0,"button",22),he("click",function(){Ce(i);let r=Bt();return be(r.clearSearch())}),Nt(1,"i",23),U()}}function TM(t,e){if(t&1&&(F(0,"small",24),dt(1),U()),t&2){let i=Bt();yt(),In(" ",i.filteredJobs.length," job(s) found ")}}function DM(t,e){t&1&&Nt(0,"i",30)}function PM(t,e){if(t&1){let i=ei();F(0,"tr",26),he("click",function(){let r=Ce(i).$implicit,o=Bt(2);return be(o.selectJob(r))}),F(1,"td",27),Nt(2,"img",28),U(),F(3,"td",29),dt(4),U(),F(5,"td",29),Ci(6,DM,1,0,"i",30),U()()}if(t&2){let i=e.$implicit;yt(2),de("alt",am(i.name))("src",i.icon,im),yt(2),In(" ",i.name," "),yt(2),bi(i.selected?6:-1)}}function kM(t,e){if(t&1&&(F(0,"table",14)(1,"tbody"),Hi(2,PM,7,5,"tr",25,zo),U()()),t&2){let i=Bt();yt(2),Ji(i.filteredJobs)}}function EM(t,e){if(t&1){let i=ei();F(0,"div",15),Nt(1,"i",31),F(2,"p",32),dt(3),U(),F(4,"button",33),he("click",function(){Ce(i);let r=Bt();return be(r.clearSearch())}),dt(5," Clear search "),U()()}if(t&2){let i=Bt();yt(3),In('No jobs found matching "',i.searchText,'"')}}function OM(t,e){t&1&&(F(0,"div",15)(1,"div",34)(2,"span",35),dt(3,"Loading..."),U()(),F(4,"p",36),dt(5,"Loading jobs..."),U()())}var bf=class t{constructor(e,i,n,r,o){this.data=e;this.dialogRef=i;this.jobService=n;this.cdr=r;this.generalService=o}allJobs=[];filteredJobs=[];searchText="";jobName="";ngOnInit(){this.jobService.getApiJobGetAllJobs().subscribe(e=>{this.generalService.isSuccess(e)&&(e.data.forEach(i=>{var n=i.className?.split(".");let r=n[n.length-1].replace("Job_","");this.allJobs.push({icon:`/icon/jobs/${i.className}.svg`,name:r,originalName:i.className,displayName:r,selected:!1})}),this.filteredJobs=[...this.allJobs],this.cdr.detectChanges())})}onSearchChange(){if(!this.allJobs)return;if(!this.searchText.trim()){this.filteredJobs=[...this.allJobs];return}let e=this.searchText.toLowerCase();this.filteredJobs=this.allJobs.filter(i=>i.name.toLowerCase().includes(e)||i.originalName.toLowerCase().includes(e))}clearSearch(){this.searchText="",this.onSearchChange()}close(){this.dialogRef.close()}save(){var e=this.allJobs?.filter(i=>i.selected);e?.length==1&&this.jobService.postApiJobCreateJob({projectId:this.data.projectId,className:e[0].originalName,name:this.jobName}).subscribe(i=>{this.generalService.isSuccess(i)&&this.dialogRef.close()})}selectJob(e){var i=this.data.allJobs.filter(n=>n==e.originalName).length+1;this.jobName=`Job_${e.name}_${i}`,this.allJobs?.forEach(n=>{n.selected=!1}),e.selected=!0}static \u0275fac=function(i){return new(i||t)(Ht(Kr),Ht(sr),Ht(Mn),Ht(ui),Ht(Qi))};static \u0275cmp=Kt({type:t,selectors:[["app-create-job"]],standalone:!1,decls:30,vars:5,consts:[[1,"card","stretch","stretch-full"],[1,"card-header"],[1,"card-title"],[1,"card-body","border-bottom"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Job Name",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group"],[1,"input-group-text"],[1,"feather-search"],["type","text","placeholder","Search jobs...","aria-label","Search jobs",1,"form-control",3,"ngModelChange","ngModel"],["class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],["class","text-muted mt-2 d-block",4,"ngIf"],[1,"card-body",2,"overflow-y","auto","max-height","400px"],[1,"table","table-hover"],[1,"text-center","py-5"],[1,"card-footer","w-100"],[1,"d-flex","gap-2","text-center","pt-4"],[1,"w-50","btn","btn-light-brand",3,"click"],[1,"feather-x-square","me-2"],[1,"w-50","btn","btn-primary",3,"click"],[1,"feather-save","me-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"feather-x"],[1,"text-muted","mt-2","d-block"],[1,"cursor-pointer"],[1,"cursor-pointer",3,"click"],["width","60px",1,"text-center"],["width","40","height","40",3,"src","alt"],[1,"align-content-around"],[1,"feather-check"],[1,"feather-search",2,"font-size","48px","opacity","0.3"],[1,"mt-3","text-muted"],[1,"btn","btn-sm","btn-outline-secondary","mx-auto",3,"click"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"]],template:function(i,n){i&1&&(F(0,"div",0)(1,"div",1)(2,"h5",2),dt(3,"Create Job"),U()(),F(4,"div",3)(5,"div",4)(6,"label",5),dt(7,"Job Name"),U(),F(8,"input",6),te("ngModelChange",function(o){return $t(n.jobName,o)||(n.jobName=o),o}),U()()(),F(9,"div",3)(10,"div",7)(11,"span",8),Nt(12,"i",9),U(),F(13,"input",10),te("ngModelChange",function(o){return $t(n.searchText,o)||(n.searchText=o),o}),he("ngModelChange",function(){return n.onSearchChange()}),U(),nr(14,NM,2,0,"button",11),U(),nr(15,TM,2,1,"small",12),U(),F(16,"div",13),Ci(17,kM,4,0,"table",14)(18,EM,6,1,"div",15)(19,OM,6,0,"div",15),U(),F(20,"div",16)(21,"div",17)(22,"button",18),he("click",function(){return n.close()}),Nt(23,"i",19),F(24,"span"),dt(25,"Close"),U()(),F(26,"button",20),he("click",function(){return n.save()}),Nt(27,"i",21),F(28,"span"),dt(29,"Save"),U()()()()()),i&2&&(yt(8),qt("ngModel",n.jobName),yt(5),qt("ngModel",n.searchText),yt(),de("ngIf",n.searchText),yt(),de("ngIf",n.filteredJobs),yt(2),bi(n.filteredJobs&&n.filteredJobs.length>0?17:n.filteredJobs&&n.filteredJobs.length===0?18:19))},dependencies:[fm,We,Ve,Ye],encapsulation:2})};var LM=["paperContainer"];function RM(t,e){if(t&1){let i=ei();F(0,"button",9),he("click",function(){Ce(i);let r=Bt();return be(r.stopStart())}),Nt(1,"i",13),U()}if(t&2){let i=Bt();yt(),an("feather-pause",i.data.started)("feather-play",!i.data.started)}}var Af=class t{constructor(e,i,n,r,o,s){this.generalService=e;this.projectService=i;this.jobService=n;this.dialog=r;this.cdr=o;this.route=s}data;projectName;paperContainer;graph;paper;ngOnInit(){this.projectName=this.route.snapshot.paramMap.get("projectName")??"",this.loadData()}loadData(){this.projectService.getApiProjectGetUserProjectByName(this.projectName).subscribe(e=>{this.generalService.isSuccess(e)&&(this.data=e.data),this.renderFromData(),this.cdr.detectChanges()})}ngAfterViewInit(){this.configureGraph()}configureGraph(){this.graph=new Bs.Graph,this.paper=new Bs.Paper({el:this.paperContainer.nativeElement,model:this.graph,width:"100%",height:"70rem",gridSize:10,drawGrid:!0,interactive:!0}),this.registerEvents()}renderFromData(){if(!this.data?.jobs)return;let e=[],i=[],n=new Map;for(let o of this.data.jobs){let s=new bl.standard.Rectangle;s.position(o.position.x,o.position.y),s.resize(200,70),s.markup=[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}],s.attr({body:{fill:"#E3F2FD",stroke:"#1E88E5",rx:8,ry:8,cursor:"pointer"},label:{text:o.name,fill:"#000",fontSize:13,fontWeight:"bold",refX:10,refY:"50%",textAnchor:"start",textVerticalAnchor:"middle",cursor:"pointer"},icon:{"xlink:href":`/icon/jobs/${o.className}.svg`,width:32,height:32,refX:"100%",refX2:-40,refY:"50%",refY2:-16,cursor:"pointer"}}),s.prop("data",o),s.addTo(this.graph),n.set(o.id+"",s)}for(let o of this.data.jobs){let s=n.get(o.id+"");if(s){var r=o.nextJob??[];o.jobParameters.IfTrue&&r.push(o.jobParameters.IfTrue),o.jobParameters.IfFalse&&r?.push(o.jobParameters.IfFalse),o.jobParameters.ForTask&&r?.push(o.jobParameters.ForTask),r?.forEach(l=>{let c=n.get(l+"");if(!c)return;let d=new bl.standard.Link;d.source(s),d.target(c),d.addTo(this.graph),i.push(d)})}}}registerEvents(){this.paper.on("element:pointerclick",e=>{let i=e;this.onNodeClick(i.model)}),this.paper.on("element:pointerup",e=>{let i=e;this.onNodeDrop(i.model)})}createJob(){this.dialog.open(bf,{width:"400px",panelClass:"no-dialog-surface",data:{projectId:this.data?.id,allJobs:this.data?.jobs?.map(i=>i.className)??[]},disableClose:!0}).afterClosed().subscribe(i=>{this.configureGraph(),this.loadData()})}onNodeClick(e){let i=e.prop("data");this.dialog.open(Cf,{width:"1200px",maxWidth:"1200px",panelClass:"no-dialog-surface",data:Pi({},i),disableClose:!0}).afterClosed().subscribe(r=>{this.configureGraph(),this.loadData()})}onNodeDrop(e){let i=e.prop("data"),n=e.position();var r=i.position.x!=n.x||i.position.y!=n.y;if(r){let o=e.prop("data").id;this.jobService.putApiJobUpdatePositionJob({jobId:o,x:n.x,y:n.y}).subscribe(s=>{this.generalService.isSuccess(s)&&(e.prop("data").position={x:n.x,y:n.y})})}}stopStart(){(this.data.started?this.projectService.postApiProjectStopProject({projectName:this.data.projectName}):this.projectService.postApiProjectStartProject({projectName:this.data.projectName})).subscribe(i=>{this.generalService.isSuccess(i)&&(this.data.started=!this.data.started,this.cdr.detectChanges())})}static \u0275fac=function(i){return new(i||t)(Ht(Qi),Ht(Hn),Ht(Mn),Ht(Ql),Ht(ui),Ht(hm))};static \u0275cmp=Kt({type:t,selectors:[["app-project-details"]],viewQuery:function(i,n){if(i&1&&na(LM,7),i&2){let r;ra(r=oa())&&(n.paperContainer=r.first)}},standalone:!1,decls:17,vars:2,consts:[["paperContainer",""],[1,"page-header"],[1,"page-header-left","d-flex","align-items-center"],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"ms-auto"],[1,"page-header-right-items"],[1,"d-flex","align-items-center","gap-2","page-header-right-items-wrapper"],[1,"btn","btn-primary","btn-icon"],[1,"btn","btn-primary","btn-icon",3,"click"],[1,"feather-plus"],[1,"d-none","d-md-block"],[1,"diagram-container"],[1,"feather"]],template:function(i,n){if(i&1){let r=ei();F(0,"div",1)(1,"div",2)(2,"ul",3)(3,"li",4),dt(4,"Projects"),U(),F(5,"li",4),dt(6),U()()(),F(7,"div",5)(8,"div",6)(9,"div",7),Ci(10,RM,2,4,"button",8),F(11,"button",9),he("click",function(){return Ce(r),be(n.createJob())}),Nt(12,"i",10),F(13,"span",11),dt(14,"Create Job"),U()()()()()(),Nt(15,"div",12,0)}i&2&&(yt(6),ln(n.projectName),yt(4),bi(n.data?10:-1))},styles:[".diagram-container[_ngcontent-%COMP%]{width:100%;height:600px;border:1px solid #ccc}"]})};var jM=[{path:"",component:Fl,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Wl},{path:"projects",component:$l},{path:"projects/:projectName",component:Af}]}],wf=class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ir({type:t});static \u0275inj=er({imports:[Qf.forChild(jM),Qf]})};var PC=class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ir({type:t});static \u0275inj=er({imports:[dm,wf,Im,Lm]})};export{PC as MainModule};
